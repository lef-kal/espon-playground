(this["webpackJsonpespon-playground"]=this["webpackJsonpespon-playground"]||[]).push([[1],{180:function(e,t,n){},191:function(e,t){},225:function(e,t){},358:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(33),c=n.n(o),i=(n(179),n(180),n(46)),s=n(47),l=n(172),u=n(171),d=n(3),b=n(15),p=n(7),j=n(8),h=n(48),x=n(160),f=n(30),O=n(2),m=function(e){var t=e.children,n=e.selectable,a=e.sx,r=n?Object(d.a)({padding:2,":hover":{cursor:"pointer",bg:"primary",color:"background"}},a):Object(d.a)({padding:2},a);return Object(O.jsx)(h.b,Object(d.a)(Object(d.a)({},e),{},{as:"li",sx:r,children:t}))},g=function(e){return null!==e&&void 0!==e&&("number"===typeof e?!isNaN(e):Array.isArray(e)?e.length>0:!!e)},y=["items","children","sx"],v=function(e){var t=e.items,n=e.children,a=e.sx,r=Object(j.a)(e,y),o=Object(d.a)({listStyleType:"none",padding:1},a);return g(n)?Object(O.jsx)(h.b,Object(d.a)(Object(d.a)({},r),{},{as:"ul",className:"cl-list",sx:o,children:n})):!!(t&&t.length>0)&&Object(O.jsx)(h.b,Object(d.a)(Object(d.a)({},r),{},{as:"ul",className:"cl-list",sx:o,children:t.map((function(e){return Object(O.jsx)(m,{children:e})}))}))},k=n(78),w=n(56),S=n(13),C=["closable","onClose","sx","children"],F=function(e){var t=e.closable,n=e.onClose,a=e.sx,r=e.children,o=Object(j.a)(e,C),c=Object(S.d)().theme;return Object(O.jsxs)(h.d,Object(d.a)(Object(d.a)({className:"cl-panel-component",color:"text",sx:Object(d.a)(Object(d.a)({padding:3,width:"300px",borderRadius:"4px",boxShadow:"0 0 4px rgba(0, 0, 0, .6)",bg:"white"},a),{},{paddingTop:t?0:3})},o),{},{children:[t&&Object(O.jsx)(h.h,{sx:{justifyContent:"flex-end",marginRight:"-".concat(c.space?c.space[3]:16,"px")},children:Object(O.jsx)(h.f,{sx:{color:"text",height:"24px",width:"24px",":hover":{cursor:"pointer"}},onClick:n})}),r]}))},N=["children","buttonOptions","sx"],L=function(e){var t,n,r,o=e.children,c=e.buttonOptions,i=e.sx,s=Object(j.a)(e,N),l=Object(a.useRef)(null),u=Object(w.a)(l),b=Object(a.useState)(!1),x=Object(p.a)(b,2),f=x[0],m=x[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.c,{ref:l,title:null===c||void 0===c?void 0:c.title,className:null!==(t=null===s||void 0===s?void 0:s.className)&&void 0!==t?t:"cl-btn","data-testid":null!==(n=null===c||void 0===c?void 0:c.testId)&&void 0!==n?n:"cl-btn",variant:null!==(r=null===c||void 0===c?void 0:c.variant)&&void 0!==r?r:"primary",onClick:function(){if(null===c||void 0===c?void 0:c.intercept)try{c.intercept()}catch(e){console.error(e)}else m(!f)},sx:Object(d.a)({},i),children:null===c||void 0===c?void 0:c.icon}),f&&Object(O.jsx)(k.b,{style:{zIndex:i.zIndex||2},targetRef:l,position:function(){return{left:(null===u||void 0===u?void 0:u.right)+10,top:(null===u||void 0===u?void 0:u.top)+window.scrollY}},children:Object(O.jsx)(F,{closable:!0,onClose:function(){return m(!1)},sx:{fontFamily:"body"},children:o})})]})},_=["baseType","buttonOptions","children","open","sx"],T=function(e){var t,n,a,r,o,c=e.baseType,i=e.buttonOptions,s=e.children,l=(e.open,e.sx),u=Object(j.a)(e,_),b=null!==(t=null===l||void 0===l?void 0:l.top)&&void 0!==t?t:"1rem",p=null!==(n=null===l||void 0===l?void 0:l.left)&&void 0!==n?n:"1rem";(null===l||void 0===l?void 0:l.bottom)&&(b=null),(null===l||void 0===l?void 0:l.right)&&(p=null);var x=Object(d.a)({fontFamily:"body",bg:"transparent",position:(null===l||void 0===l?void 0:l.position)||"absolute",top:b,left:p,bottom:null===l||void 0===l?void 0:l.bottom,right:null===l||void 0===l?void 0:l.right,zIndex:null!==(a=null===l||void 0===l?void 0:l.zIndex)&&void 0!==a?a:2},l),f=Object(d.a)({fontFamily:"body",bg:"background",position:(null===l||void 0===l?void 0:l.position)||"absolute",top:b,left:p,bottom:null===l||void 0===l?void 0:l.bottom,right:null===l||void 0===l?void 0:l.right,zIndex:null!==(r=null===l||void 0===l?void 0:l.zIndex)&&void 0!==r?r:2},l),m=Object(d.a)({fontFamily:"body",bg:(null===l||void 0===l?void 0:l.bg)||"primary",position:(null===l||void 0===l?void 0:l.position)||"absolute",top:b,left:p,bottom:null===l||void 0===l?void 0:l.bottom,right:null===l||void 0===l?void 0:l.right,zIndex:null!==(o=null===l||void 0===l?void 0:l.zIndex)&&void 0!==o?o:2,width:"32px",height:"32px",minWidth:"25px",minHeight:"25px",p:0,m:1,boxShadow:"1 1 4px rgba(0, 0, 0, 1)"},l),g=Object(O.jsx)(h.b,Object(d.a)(Object(d.a)({},u),{},{sx:x,children:s}));switch(c){case"none":return g;case"panel":return Object(O.jsx)(F,Object(d.a)(Object(d.a)({},u),{},{sx:f,children:s}));case"button":return Object(O.jsx)(L,Object(d.a)({children:s,buttonOptions:i,sx:m},u));default:return g}},E=n(173),z=Object(a.createContext)({addControl:function(){return Object(E.a)()}});var I=function(e){return!!(e&&Object.keys(e).length>0)&&!!(e.style&&Object.keys(e.style).length>0)},P=n(163),M=n.n(P),D=n(106),B=n.n(D),R=n(164),A=n.n(R),W=1e8,Z=["baseType","buttonOptions","sx"],J=new(function(){function e(){Object(i.a)(this,e),this.reader=new FileReader,this.reader.onload=this.handleFile.bind(this)}return Object(s.a)(e,[{key:"load",value:function(e,t){if(!e)throw new Error("File Required");if(!t)throw new Error("Callback Required");this.cb=t,this.file=e,this.fileExt=this.getExtension(),this.fileDetails={fileSize:this.file.size,fileName:this.file.name,fileExt:this.fileExt},this.file.size>=W?t({error:"File must be less than 20mb",fileDetails:this.fileDetails}):"zip"===this.fileExt.toLowerCase()?this.reader.readAsArrayBuffer(this.file):this.reader.readAsText(this.file,"UTF-8")}},{key:"getExtension",value:function(){var e=this.file.name.split(".");return e[e.length-1]}},{key:"handleFile",value:function(e){switch(this.fileExt.toLowerCase()){case"csv":this.handleCSV(e);break;case"kml":this.handleKML(e);break;case"geojson":case"json":this.handleJSON(e);break;case"gpx":this.handleGPX(e);break;case"zip":this.handleSHP(e);break;default:this.notRecognized()}}},{key:"handleJSON",value:function(e){try{this.handleGeoJSON(e)}catch(t){this.cb({error:"Problem parsing JSON (".concat(t.toString(),")"),fileDetails:this.fileDetails})}}},{key:"handleCSV",value:function(e){var t,n,a=this,r=["y","lat","latitude"],o=["x","lng","lon","long","longitude"],c=e.target.result;if(c.split("\n")[0].split(",").forEach((function(e){-1!==r.indexOf(e.toLowerCase().trim())&&(t=e.trim()),-1!==o.indexOf(e.toLowerCase().trim())&&(n=e.trim())})),!n||!t)throw new Error("no latitude (y, lat, latitude) or longitude (x, lng, long, longitude) field found");M.a.csv2geojson(c,{latfield:t,lonfield:n},(function(e,t){if(e)throw e;a.cb(a.fileDetails,t)}))}},{key:"handleKML",value:function(e){var t=(new window.DOMParser).parseFromString(e.target.result,"application/xml"),n=B.a.kml(t,{style:!0});this.cb(this.fileDetails,n)}},{key:"handleGeoJSON",value:function(e){this.cb(this.fileDetails,JSON.parse(e.target.result))}},{key:"handleGPX",value:function(e){var t=(new window.DOMParser).parseFromString(e.target.result,"application/xml"),n=B.a.gpx(t);this.cb(this.fileDetails,n)}},{key:"handleSHP",value:function(e){var t=A.a.parseZip(e.target.result);this.cb(this.fileDetails,t)}},{key:"notRecognized",value:function(){console.log("sorry, i didnt recognize this format"),this.cb({error:"File format ".concat(this.fileExt," not recognized."),fileDetails:this.fileDetails})}}]),e}()),H=function(e){var t=e.baseType,n=e.buttonOptions,r=(e.sx,Object(j.a)(e,Z)),o=Object(a.useContext)(z).map,c=Object(a.useState)("file"),i=Object(p.a)(c,2),s=i[0],l=i[1],u=Object(a.useState)([]),g=Object(p.a)(u,2),y=g[0],k=g[1],w=function(e,t){if(t&&e){var n=e.fileName;o.addSource(n,{type:"geojson",data:t}),function(e,t){function n(e){var t;switch(e){case"Point":case"MultiPoint":t="circle";break;case"LineString":case"MultiLineString":t="line";break;case"Polygon":case"MultiPolygon":t="fill";break;default:return""}return t}function a(e){var t;switch(e){case"Point":case"MultiPoint":t={"circle-radius":6,"circle-color":"#B42222","circle-opacity":.6};break;case"LineString":case"MultiLineString":t={"line-color":"#888","line-width":8};break;case"Polygon":case"MultiPolygon":t={"fill-color":"#088","fill-opacity":.8};break;default:return null}return t}function r(e){var t;switch(e){case"Point":case"MultiPoint":t=["==","$type","Point"];break;case"LineString":case"MultiLineString":t=["==","$type","LineString"];break;case"Polygon":case"MultiPolygon":t=["==","$type","Polygon"];break;default:return null}return t}var c=[];t.features.map((function(e){-1===c.indexOf(e.geometry.type)&&c.push(e.geometry.type)})),c.forEach((function(t){var c="".concat(e,"-").concat(t);o.addLayer({id:c,type:n(t),source:e,paint:a(t),filter:r(t),layout:{visibility:"visible"}}),k([].concat(Object(b.a)(y),[c]))}))}(n,t),function(e){var t=Object(x.a)(e);o.fitBounds(t)}(t)}},S=function(){return Object(O.jsx)(h.s,{children:"Upload your dataset [currently supporting only .zip (shp)]"})},C=function(){return Object(O.jsxs)(h.h,{sx:{justifyContent:"center",paddingBottom:"0.5rem"},children:[Object(O.jsx)(h.c,{sx:{width:"50%",bg:"transparent",color:"blue",cursor:"pointer",borderStyle:"solid",borderRadius:0,borderWidth:1,boxShadow:"none",":hover":{bg:"primary",color:"background"}},onClick:function(){l("file")},children:"File"}),Object(O.jsx)(h.c,{sx:{width:"50%",bg:"transparent",cursor:"pointer",color:"blue",borderStyle:"solid",borderRadius:0,borderWidth:1,boxShadow:"none",":hover":{bg:"primary",color:"background"}},onClick:function(){l("url")},children:"URL"})]})},F=function(){return Object(O.jsx)(h.b,{sx:{textAlign:"center"},children:Object(O.jsx)(h.h,{sx:{justifyContent:"flex-end"}})})},N=function(){var e=[".geojson",".kml",".gpx",".csv",".zip (shp)"];return Object(O.jsxs)("div",{children:[Object(O.jsx)(h.b,{sx:{textAlign:"left"},children:function(){var t=e.join(", ");return Object(O.jsxs)(h.b,{children:[Object(O.jsx)(h.s,{sx:{fontSize:0},children:"Supported File Extensions:"}),Object(O.jsx)(h.s,{sx:{fontSize:0},children:t}),Object(O.jsx)(h.m,{sx:{textAlign:"center",paddingTop:1,border:"none",">button":{boxShadow:"none"}},type:"file",className:"file-upload",onChange:function(e){!function(e){try{J.load(e.target.files[0],w)}catch(t){console.warn(t)}}(e)}})]})}()}),Object(O.jsx)(F,{})]})},L=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(h.m,{placeholder:"Paste URL Here"}),Object(O.jsx)(F,{})]})},_=function(){return Object(O.jsxs)("div",{styles:{width:"100%"},children:[Object(O.jsx)(C,{}),"file"===s?Object(O.jsx)(N,{}):Object(O.jsx)(L,{})]})},E=function(){return Object(O.jsxs)("div",{style:{width:"100%"},children:[Object(O.jsx)(h.c,{sx:{fontSize:0,textDecoration:"underline",color:"primary",cursor:"pointer",backgroundColor:"blue",":hover":{backgroundColor:"blue"}},onClick:function(e){e.preventDefault(),l("file")},children:"<< Back"}),Object(O.jsx)(h.b,{sx:{marginTop:""},content:Object(O.jsx)(v,{children:function(){var e=function(e){return"none"!==o.getLayoutProperty(e,"visibility")};return y.map((function(t,n){return Object(O.jsxs)(m,{children:[" ",Object(O.jsxs)(h.n,{children:[Object(O.jsx)(h.e,{onChange:function(){!function(t){e(t)?o.setLayoutProperty(t,"visibility","none"):o.setLayoutProperty(t,"visibility","visible")}(t)},defaultChecked:e(t)}),Object(O.jsx)(h.s,{pt:1,children:t})]})]},"".concat(t,"-").concat(n))}))}()})})]})},P=function(){return Object(O.jsx)("div",{style:{width:"100%"},children:"layers"===s?Object(O.jsx)(E,{}):Object(O.jsx)(_,{})})};return I(o)?Object(O.jsxs)(T,Object(d.a)(Object(d.a)({className:"add-tools",baseType:t,buttonOptions:Object(d.a)({icon:Object(O.jsx)(f.b,{}),title:"Add Data",testId:"add-data-btn"},n),sx:{minWidth:"400px",paddingTop:"10px",borderRadius:"5px",marginTop:"135px",backgroundColor:"white"}},r),{},{children:[Object(O.jsx)(S,{}),Object(O.jsx)(P,{})]})):null},G=n(107),V=n.n(G),X=function(e){var t=e.message,n=Object(a.useState)(!0),r=Object(p.a)(n,2),o=r[0],c=r[1];return o?Object(O.jsx)(h.a,{variant:"modal",children:Object(O.jsxs)(h.h,{sx:{flexDirection:"column"},children:[Object(O.jsx)(h.h,{sx:{width:"100%",position:"relative"},children:Object(O.jsx)("p",{style:{padding:1},children:t})}),Object(O.jsx)(h.h,{sx:{justifyContent:"flex-end"},children:Object(O.jsx)(h.c,{variant:"secondary",onClick:function(){c(!1)},children:"OK"})})]})}):null},K=["mapOptions","mapLayers","supportMessage","sx"],q=function(e){var t,n=e.mapOptions,r=e.mapLayers,o=e.supportMessage,c=e.sx,i=Object(j.a)(e,K),s=Object(a.useContext)(z).setMap;return Object(a.useEffect)((function(){var e;t=new V.a.Map(n),s(t),(e=r)&&t.on("load",(function(){e.forEach((function(e){t.addLayer(e)}))}))}),[]),V.a.supported()?Object(O.jsx)(h.b,Object(d.a)(Object(d.a)({},i),{},{sx:Object(d.a)({width:"100vw",height:"100vh"},c),ref:function(e){n.container=e},className:"cl-map-container"})):Object(O.jsx)(X,{message:o||"WARNING! Your browser does not currently support this application, which requires MapboxGL. \n    Please ensure you are using the latest version of Chrome, Firefox, or Edge.\n    Additionally, check https://get.webgl.org/ for compatibility with your system."})},U=n(10),Y=function(e){var t=e.name,n=e.item,a=e.defaultChecked,r=e.checkedChanged;return Object(O.jsxs)(h.n,Object(d.a)(Object(d.a)({className:"cl-radio-group-item"},e),{},{sx:{fontSize:"12px",marginRight:"2px",">span":{paddingTop:"3px"}},children:[Object(O.jsx)(h.p,{color:"primary",name:t,id:n.name,value:n.value,defaultChecked:a,sx:{"input:checked ~ &":{color:"primary"},"input:focus ~ &":{bg:"highlight"}},onChange:function(e){return r(e,n)}}),Object(O.jsx)("span",{children:n.label})]}))},$=function(e){var t=e.children,n=e.items,a=e.name,r=e.checkedValueChange,o={bg:"transparent",color:"primary",display:"flex",padding:0};return g(t)?Object(O.jsx)(h.b,Object(d.a)(Object(d.a)({},e),{},{className:"cl-radio-group",sx:o,children:t})):Object(O.jsx)(h.b,Object(d.a)(Object(d.a)({},e),{},{className:"cl-radio-group",sx:o,children:n.map((function(e){return Object(O.jsx)(Y,{name:a,item:e,defaultChecked:e.checked,checkedChanged:r,sx:{cursor:"pointer"}},e.value)}))}))},Q=["buttons","sx","children"],ee=function(e){var t,n=e.buttons,a=e.sx,r=e.children,o=Object(j.a)(e,Q);return t=n||r,Object(O.jsx)(h.h,Object(d.a)(Object(d.a)({alignItems:"center"},o),{},{className:"cl-button-group",sx:Object(d.a)(Object(d.a)({},a),{},{"> button":{height:"32px",cursor:"pointer",backgroundColor:"blue",color:"white",borderWidth:"0.25px",borderColor:"muted",borderStyle:"solid",":first-of-type":{borderTopLeftRadius:"default",borderBottomLeftRadius:"default",borderWidth:"0.5px",borderColor:"muted",borderStyle:"solid"},":last-child":{borderTopRightRadius:"default",borderBottomRightRadius:"default",borderWidth:"0.5px",borderColor:"muted",borderStyle:"solid"}}}),children:t}))},te=["switcherStyle","basemaps","preserveLayers","baseType","buttonOptions","sx"],ne=function(e){var t=e.switcherStyle,n=e.basemaps,r=e.preserveLayers,o=e.baseType,c=e.buttonOptions,i=(e.sx,Object(j.a)(e,te)),s=Object(a.useState)(n?n[0].value:"light-v10"),l=Object(p.a)(s,2),u=l[0],b=l[1],x=Object(a.useContext)(z).map,f=Object(a.useRef)(!1),m=function(e,t){b(t.value)};Object(a.useEffect)((function(){f.current?x.setStyle("mapbox://styles/mapbox/".concat(u)):f.current=!0}),[u]),Object(a.useEffect)((function(){I(x)&&x.on("load",(function(){x.setStyle("mapbox://styles/mapbox/".concat(u)),x.on("styledata",(function(){!function e(){if(x.isStyleLoaded())for(var t=0;t<(null===r||void 0===r?void 0:r.length);t+=1){var n=r[t];x.getSource(n.layer.source)||(x.addSource(n.layer.source,n.source),x.addLayer(n.layer))}else setTimeout(e,200)}()}))}))}),[x]);var g,y=n||[{name:"Light",key:"Light",label:"Light",value:"light-v10",checked:!0},{name:"Dark",key:"Dark",label:"Dark",value:"dark-v10"},{name:"satellite",key:"satellite",label:"Satellite",value:"satellite-streets-v9"}];switch(t){case"radio":g=Object(O.jsx)($,{items:y,name:"basemaps",checkedValueChange:m});break;case"buttons":var v=y.map((function(e){return Object(O.jsx)(h.c,{onClick:function(t){return m(0,e)},children:e.label},e.label)}));g=Object(O.jsx)(ee,{buttons:v});break;default:g=Object(O.jsx)($,{items:y,name:"basemaps",checkedValueChange:m})}return Object(O.jsxs)(T,Object(d.a)(Object(d.a)({sx:{marginTop:"360px"},baseType:o,buttonOptions:Object(d.a)({icon:Object(O.jsx)(U.g,{}),title:"Basemap Switcher",testId:"cl-basemap-btn"},c)},i),{},{className:"cl-basemap-switcher",children:[Object(O.jsx)(h.s,{children:"Choose basemap layer:"}),g]}))},ae={container:"map",style:"mapbox://styles/mapbox/light-v10",center:[12,50],zoom:3,accessToken:"pk.eyJ1IjoiZWxrYWxvbmFyaXMiLCJhIjoiY2twbXExOHcwMDg3ZzJvbnc0dXhyOWszOSJ9.AetSK7t4L_aaFVsCuNQmHg"},re=n(361),oe=function(e){var t=e.children,n=e.context,r=e.theme,o=e.mapOverride,c=n||z,i=c.Provider||c,s=Object(a.useState)(null),l=Object(p.a)(s,2),u=l[0],d={map:o||u,setMap:l[1]},b=Object(O.jsx)(re.a,{theme:r||{},children:t});return Object(O.jsx)(i,{value:d,children:b})},ce=n(76),ie=n.n(ce),se=function(e){var t=e.position,n=e.maxWidth,r=e.unit,o=Object(a.useState)(new ce.ScaleControl({maxWidth:n||100,unit:r||"metric"})),c=Object(p.a)(o,1)[0],i=Object(a.useContext)(z).map;if(!I(i))return null;var s=t||"bottom-left";return i.on("load",(function(){i.addControl(c,s)})),null},le=n(20),ue=n.n(le),de=n(38),be=(n(132),n(165)),pe=n.n(be),je=n(170),he=n(6),xe=function(e){var t=e.x,n=e.y,r=e.target,o=e.theme;r.style.padding="4px",r.style.textShadow="none";var c=Object(a.useState)(!1),i=Object(p.a)(c,2),s=i[0],l=i[1],u=Object(a.useState)(r.style.color||"black"),d=Object(p.a)(u,2),b=d[0],j=d[1],x=Object(a.useState)(r.style.backgroundColor||"white"),f=Object(p.a)(x,2),O=f[0],m=f[1],g=Object(a.useState)(!1),y=Object(p.a)(g,2),v=y[0],k=y[1],w=Object(a.useState)(!1),S=Object(p.a)(w,2),C=S[0],F=S[1];return Object(he.a)(pe.a,{handle:".handle",children:Object(he.b)(h.b,{sx:{position:"absolute",top:"".concat(n,"px"),left:"".concat(t,"px"),zIndex:99,backgroundColor:"white",width:"280px",borderRadius:"9px",display:s?"none":""},children:[Object(he.b)(h.g,{className:"handle",sx:{textAlign:"center",cursor:"pointer",backgroundColor:o.colors.primary,borderTopLeftRadius:"9px",borderTopRightRadius:"9px",padding:"5px"},children:[Object(he.a)(h.s,{sx:{color:"white",fontFamily:o.fonts.body},children:"Label Editor"}),Object(he.a)(h.f,{sx:{position:"absolute",top:0,right:0,color:"white",cursor:"pointer"},onClick:function(){l(!0)}})]}),Object(he.a)(h.g,{children:Object(he.b)(h.b,{sx:{margin:"2.5px"},children:[Object(he.a)(h.n,{sx:{fontFamily:o.fonts.body},htmlFor:"label-edit",children:"Label"}),Object(he.a)(h.m,{placeholder:r.innerHTML,name:"label-edit",id:"label-edit",onChange:function(e){r.innerHTML=e.target.value.toUpperCase()},sx:{padding:"2px"},mb:1}),Object(he.a)(h.n,{sx:{fontFamily:o.fonts.body},htmlFor:"font-size-edit",children:"Font Size"}),Object(he.a)(h.m,{placeholder:r.style.fontSize.replace("px","")||"12",name:"font-size-edit",id:"font-size-edit",onChange:function(e){r.style.fontSize="".concat(e.target.value,"px")},sx:{padding:"2px"},mb:1}),Object(he.a)(h.n,{sx:{fontFamily:o.fonts.body},htmlFor:"font-family-edit",children:"Font Family"}),Object(he.b)(h.q,{name:"font-family-edit",id:"font-family-edit",mb:1,onChange:function(e){r.style.fontFamily=e.target.value},sx:{padding:"2px"},children:[Object(he.a)("option",{value:"serif",children:"Serif"}),Object(he.a)("option",{value:"sans-serif",children:"Sans-Serif"}),Object(he.a)("option",{value:"cursive",children:"Cursive"}),Object(he.a)("option",{value:"monospace",children:"Monospace"}),Object(he.a)("option",{value:"fantasy",children:"Fantasy"})]}),Object(he.a)(h.n,{sx:{fontFamily:o.fonts.body},htmlFor:"font-weight-edit",children:"Font Weight"}),Object(he.a)(h.m,{placeholder:r.style.fontWeight||200,name:"font-weight-edit",id:"font-weight-edit",onChange:function(e){r.style.fontWeight=e.target.value},sx:{padding:"2px"},mb:1}),Object(he.a)(h.b,{sx:{textAlign:"fg"===C?"left":"right"},mb:1,children:v?Object(he.a)(je.a,{onChange:function(e){var t=e.hex;"fg"===C?(r.style.color=t,j(t)):"bg"===C&&(r.style.backgroundColor=t,m(t))}}):""}),Object(he.b)(h.i,{gap:2,mb:1,columns:[2,"1fr 1fr"],children:[Object(he.a)(h.b,{bg:b,onClick:function(){"fg"===C?(k(!1),F(!1)):(k(!0),F("fg"))},sx:{color:"white",cursor:"pointer",border:"fg"===C?"solid greenyellow 3px":""},children:"FG"}),Object(he.a)(h.b,{bg:O,onClick:function(){"bg"===C?(k(!1),F(!1)):(k(!0),F("bg"))},sx:{cursor:"pointer",border:"bg"===C?"solid greenyellow 3px":""},children:"BG"})]}),Object(he.a)(h.b,{p:2,sx:{textAlign:"center"},children:Object(he.a)(h.o,{sx:{color:"#a70000",fontFamily:o.fonts.body},href:"#!",onClick:function(e){e.preventDefault(),window.confirm("are you sure")&&(r.parentNode.removeChild(r),l(!0))},children:"Delete Label"})})]})})]})})},fe=function(e){var t={};function n(e){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return t.onSetup=function(){return{}},t.onClick=function(t,a){var r=this.newFeature({type:"Feature",geometry:{type:"Point",coordinates:[a.lngLat.lng,a.lngLat.lat]}}),o=new ie.a.Marker({element:n('<p class="cl-draw-text" style="text-shadow:0 0 4px #FFFFFF;text-stroke: .1em #FFFFFF; webkit-text-stroke = .1em #FFFFFF; cursor: context-menu" title="Right click to edit label style">New Label</p>'),draggable:!0});o.getElement().addEventListener("contextmenu",(function(t){var n=document.getElementById("label-maker");n&&n.parentNode.removeChild(n);var a=document.createElement("div");a.id="label-maker",document.body.appendChild(a),c.a.render(Object(O.jsx)(xe,{x:t.clientX+50,y:t.clientY+25,target:t.target,theme:e}),a)})),o.setLngLat(a.lngLat),o.addTo(this.map),this.map.fire("draw.create",{features:[r.toGeoJSON()]}),this.changeMode("simple_select")},t.onKeyUp=function(e,t){return 27===t.keyCode&&this.changeMode("simple_select")},t.toDisplayFeatures=function(e,t,n){n(t)},t};function Oe(e,t){t?(e.boxZoom.enable(),e.scrollZoom.enable(),e.dragPan.enable(),e.dragRotate.enable(),e.keyboard.enable(),e.doubleClickZoom.enable(),e.touchZoomRotate.enable()):(e.boxZoom.disable(),e.scrollZoom.disable(),e.dragPan.disable(),e.dragRotate.disable(),e.keyboard.disable(),e.doubleClickZoom.disable(),e.touchZoomRotate.disable())}var me={onSetup:function(){return this.setActionableState(),Oe(this.map,!1),{}},toDisplayFeatures:function(e,t,n){n(t)}},ge=me,ye=["baseType","buttonOptions","sx"],ve=function(e){var t=e.baseType,r=e.buttonOptions,o=(e.sx,Object(j.a)(e,ye)),c=Object(S.d)().theme,i=Object(a.useContext)(z).map,s=Object(a.useState)(null),l=Object(p.a)(s,2),u=l[0],b=l[1],x=Object(a.useState)(null),m=Object(p.a)(x,2),g=m[0],y=m[1];if(!I(i))return null;function v(e){return k.apply(this,arguments)}function k(){return(k=Object(de.a)(ue.a.mark((function e(t){var a,r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=u,e.t0){e.next=5;break}return e.next=4,n.e(0).then(n.t.bind(null,362,7)).then((function(e){var t=e.default;return new t({displayControlsDefault:!1,modes:Object.assign({draw_text:fe(c),static:ge},t.modes)})}));case 4:e.t0=e.sent;case 5:a=e.t0,u||(b(a),i.addControl(a)),y(r=t||"simple_select"),a.changeMode(r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){e.addEventListener("click",(function(){Oe(i,!1)})),e.style.backgroundColor="rgba(0, 0, 0, 0)",e.style.borderStyle="none",e.style.fontSize="14px",e.style.textShadow="0 0 2px #FFFFFF",e.style.textStroke=".02em #FFFFFF",e.style.webkitTextStroke=".02em #FFFFFF",e.style.resize="none"}return i.on("draw.create",(function(){"draw_text"===g&&function(){for(var e=document.getElementsByClassName("cc-draw-text"),t=function(t){e[t].focus(),e[t].addEventListener("click",(function(){var n;u.changeMode("static"),(n=e[t]).style.backgroundColor="#FFFFFF",n.style.borderStyle="inset",n.focus()}))},n=0;n<e.length;n+=1)t(n);addEventListener("keyup",(function(t){13===t.keyCode&&("static"===u.getMode()&&(u.changeMode("simple_select"),Oe(i,!0)),w(e[e.length-1]))})),addEventListener("dblclick",(function(){"static"===u.getMode()&&(u.changeMode("simple_select"),Oe(i,!0)),w(e[e.length-1])}))}()})),Object(O.jsxs)(T,Object(d.a)(Object(d.a)({style:{zIndex:"9999999"},className:"draw-tools",baseType:t||"none",buttonOptions:Object(d.a)({icon:Object(O.jsx)(U.i,{}),title:"Draw",testId:"cl-draw-btn"},r),sx:{marginTop:"280px",minWidth:"400px"}},o),{},{children:[Object(O.jsx)(h.s,{children:"Add markers, polygons and label positions on the map."}),Object(O.jsxs)(ee,{children:[Object(O.jsx)(h.c,{sx:{minWidth:"80px"},title:"Draw Point",className:"draw-tool draw-tool--point",onClick:function(){return v("draw_point")},children:Object(O.jsx)(f.c,{})}),Object(O.jsx)(h.c,{sx:{minWidth:"80px"},title:"Draw Line",className:"draw-tool draw-tool--line",onClick:function(){return v("draw_line_string")},children:Object(O.jsx)(f.e,{})}),Object(O.jsx)(h.c,{sx:{minWidth:"80px"},title:"Draw Polygon",className:"draw-tool draw-tool--polygon",onClick:function(){return v("draw_polygon")},children:Object(O.jsx)(U.b,{})}),Object(O.jsx)(h.c,{sx:{minWidth:"80px"},title:"Draw Text",className:"draw-tool draw-tool--text",onClick:function(){v("draw_text")},children:Object(O.jsx)(f.d,{})}),Object(O.jsx)(h.c,{sx:{minWidth:"80px"},title:"Delete Drawing",className:"draw-tool draw-tool--delete",onClick:function(){!function(){if(u){u.deleteAll();for(var e=document.getElementsByClassName("cl-draw-text");e.length>0;)e[0].remove()}}()},children:Object(O.jsx)(f.a,{})})]})]}))};function ke(){return window.localStorage.getItem("ccBookmarks")}function we(e,t){return!!I(e)&&(e.easeTo({center:t.center,zoom:t.zoom}),!0)}function Se(e,t,n){var a=ke();if(I(e)&&t)if(a){var r={name:t,zoom:e.getZoom(),center:e.getCenter()},o=JSON.parse(a),c=[].concat(Object(b.a)(o),[r]);window.localStorage.setItem("ccBookmarks",JSON.stringify(c)),n(c)}else{var i=[{name:t,zoom:e.getZoom(),center:e.getCenter()}];window.localStorage.setItem("ccBookmarks",JSON.stringify(i)),n(i)}}function Ce(e,t){var n=JSON.parse(ke()).filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)}));window.localStorage.setItem("ccBookmarks",JSON.stringify(n)),t(n)}var Fe=["baseType","buttonOptions","sx"],Ne=function(e){var t=e.baseType,n=e.buttonOptions,r=(e.sx,Object(j.a)(e,Fe)),o={_goToBookmark:Object.hasOwnProperty.call(r,"goToBookmark")?r.goToBookmark:we,_loadBookmarks:Object.hasOwnProperty.call(r,"loadBookmarks")?r.loadBookmarks:ke,_deleteBookmark:Object.hasOwnProperty.call(r,"deleteBookmark")?r.deleteBookmark:Ce,_saveBookmark:Object.hasOwnProperty.call(r,"saveBookmark")?r.saveBookmark:Se},c=o._goToBookmark,i=o._loadBookmarks,s=o._deleteBookmark,l=o._saveBookmark,u=Object(a.useContext)(z).map,b=JSON.parse(i())||[],x=Object(a.useState)(""),f=Object(p.a)(x,2),g=f[0],y=f[1],k=Object(a.useState)(b),w=Object(p.a)(k,2),S=w[0],C=w[1],F=Object(a.useState)([]),N=Object(p.a)(F,2),L=N[0],_=N[1];Object(a.useEffect)((function(){var e=S.map((function(e){return Object(O.jsx)(m,{selectable:!0,children:Object(O.jsxs)(h.h,{children:[Object(O.jsxs)(h.b,{onClick:function(){c(u,e)},sx:{flex:"1 1 auto"},children:[Object(O.jsx)(U.a,{}),e.name]}),Object(O.jsx)(h.b,{children:Object(O.jsx)(U.m,{onClick:function(){s(e,C)}})})]})},e.name)}));_(e)}),[u,S]);var E=Object(O.jsx)(h.s,{}),I=Object(O.jsxs)(h.h,{children:[Object(O.jsx)(h.m,{sx:{backgroundColor:"white",opacity:.4,color:"blue"},className:"input-book",placeholder:"Save view as bookmark",value:g,onChange:function(e){y(e.currentTarget.value)}}),Object(O.jsx)(h.c,{className:"bookmark-button",sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0,marginLeft:"-0.175rem",backgroundColor:"blue"},onClick:function(){l(u,g,C),y("")},children:"Save"})]});return Object(O.jsx)(T,Object(d.a)(Object(d.a)({className:"cl-bookmark-field",baseType:t,buttonOptions:Object(d.a)({icon:Object(O.jsx)(U.a,{}),title:"Bookmarks",testId:"bookmark-btn"},n),sx:{position:"fixed",left:450,top:10,backgroundColor:"blue"}},r),{},{children:Object(O.jsxs)(h.b,{children:[E,I,Object(O.jsx)(v,{children:L})]})}))},Le=n.p+"static/media/ESPON-logo.235f1bc5.png",_e=function(e){return Object(O.jsx)(T,{children:Object(O.jsxs)(h.b,{sx:{minHeight:"120vh",overflow:"auto",width:"430px",backgroundColor:"white",position:"fixed",top:0,left:0},children:[Object(O.jsx)(h.l,{src:Le,sx:{width:"200px",padding:"10px"}}),Object(O.jsx)(h.j,{sx:{padding:"14px",fontFamily:"sans-serif"},children:"ESPON Portal: Data studio"})]})})},Te=n(18),Ee=n.n(Te),ze=["baseType","buttonOptions","sx"],Ie=function(e){var t=e.baseType,n=e.buttonOptions,r=e.sx,o=Object(j.a)(e,ze),c=Object(a.useContext)(z).map,i=Object(a.useState)(""),s=Object(p.a)(i,2),l=s[0],u=s[1],b=Object(a.useState)(""),h=Object(p.a)(b,2),x=h[0],f=h[1],m=Object(a.useState)(""),g=Object(p.a)(m,2),y=g[0],v=g[1],k=Object(a.useState)(""),w=Object(p.a)(k,2),S=w[0],C=w[1];function F(){var e="".concat(Ee()(c.getCenter().lng).format("0.00000"),", ").concat(Ee()(c.getCenter().lat).format("0.00000"));u(e)}function N(){v(Ee()(c.getZoom()).format("0.00"))}function L(){var e=c.getBounds(),t="[".concat(Ee()(e._sw.lng).format("0.00000"),", ").concat(Ee()(e._sw.lat).format("0.00000"),", ").concat(Ee()(e._ne.lng).format("0.00000"),", ").concat(Ee()(e._ne.lat).format("0.00000"),"]");f(t)}return Object(a.useEffect)((function(){I(c)&&c.on("load",(function(){F(),N(),L(),c.on("move",(function(){F(),L()})),c.on("zoom",(function(){N()})),c.on("mousemove",(function(e){!function(e){var t="".concat(Ee()(e.lngLat.lng).format("0.00000"),", ").concat(Ee()(e.lngLat.lat).format("0.00000"));C(t)}(e)}))}))}),[c]),I(c)?Object(O.jsx)(T,Object(d.a)(Object(d.a)({className:"cl-mapinfo",baseType:t||"none",buttonOptions:Object(d.a)({icon:Object(O.jsx)(U.e,{}),title:"Map Info",testId:"cl-mapinfo-btn"},n),sx:Object(d.a)({padding:2,fontFamily:"sans-serif",bg:"white",color:"panel"===t?"text":"background"},r)},o),{},{children:"Center (lon/lat): ".concat(l," degrees; Zoom: ").concat(y,"; Cursor: ").concat(S,"; Bounds: ").concat(x)})):null},Pe=["className","sx","variant"],Me=r.a.forwardRef((function(e,t){var n=e.className,a=e.sx,r=e.variant,o=void 0===r?"switch":r,c=Object(j.a)(e,Pe);return Object(O.jsxs)(h.b,{children:[Object(O.jsx)(h.b,Object(d.a)(Object(d.a)({ref:t,as:"input",type:"checkbox",__themeKey:"forms"},c),{},{sx:{position:"absolute",opacity:0,zIndex:-1,width:1,height:1,overflow:"hidden"}})),Object(O.jsx)(h.b,Object(d.a)(Object(d.a)({css:{padding:2},__themeKey:"forms",variant:o,className:n,sx:a,__css:{position:"relative",bg:"gray",borderRadius:18,height:22,width:40,mr:2,cursor:"pointer","input:disabled ~ &":{opacity:.5,cursor:"not-allowed"},"& > div":{display:"flex",alignItems:"center",borderRadius:"50%",height:18,width:18,bg:"white",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)",position:"relative",transform:"translateX(0%)",transition:"transform 240ms cubic-bezier(0.165, 0.840, 0.440, 1.000)"},"input:checked ~ &":{bg:"primary","> div":{transform:"translateX(100%)"}}}},c),{},{children:Object(O.jsx)(h.b,{})}))]})})),De=function(e){var t=e.type;try{switch(t){case"fill":return function(e){var t,n,a,r=e.get("fill-color").value,o=e.get("fill-outline-color").value,c=(null===(t=e.get("fill-opacity").value)||void 0===t?void 0:t.value)||1;if(r._parameters&&Object.prototype.hasOwnProperty.call(r._parameters,"stops"))n=r._parameters.stops,r._parameters.default&&(n=[].concat(Object(b.a)(n),[["",r._parameters.default]]));else if(r._styleExpression){var i=[];Object.keys(r._styleExpression.expression.cases).forEach((function(e){var t=[e,r._styleExpression.expression.outputs[+r._styleExpression.expression.cases[e]].value.toString()];i.push(t)})),r._styleExpression.expression.otherwise&&i.push(["",r._styleExpression.expression.otherwise.value.toString()]),n=i}else n=[r.value.toString()];if(o._parameters&&Object.prototype.hasOwnProperty.call(o._parameters,"stops"))a=o._parameters.stops,o._parameters.default&&(a=[].concat(Object(b.a)(n),[["",o._parameters.default]]));else if(o._styleExpression){var s=[];Object.keys(o._styleExpression.expression.cases).forEach((function(e){var t=[e,o._styleExpression.expression.outputs[+o._styleExpression.expression.cases[e]].value.toString()];s.push(t)})),o._styleExpression.expression.otherwise&&s.push(["",o._styleExpression.expression.otherwise.value.toString()]),a=s}else a=[o.value.toString()];return Object(he.a)(v,{sx:{margin:0,padding:0},children:Object(he.a)((function(){var e=(n.length>1?n.map((function(e){return[].concat(Object(b.a)(e),[a[0]])})):a.length>1?a.map((function(e){return e.splice(1,0,n[0]),e})):[[null,n[0],a[0]]]).map((function(e,t){return Object(he.b)(m,{sx:{margin:0,marginLeft:4,padding:0,display:"flex"},children:[Object(he.a)(h.b,{children:Object(he.a)("svg",{width:"25",height:"25",children:Object(he.a)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"25",height:"25",sx:{fill:e[1],stroke:e[2],strokeWidth:3,fillOpacity:c,strokeOpacity:c}})})}),Object(he.a)(h.b,{children:Object(he.a)(h.s,{sx:{padding:"3px"},children:e[0]})})]},t)}));return Object(he.a)(h.b,{children:e})}),{})})}(e.paint);case"circle":return function(e){var t,n,a,r=e.get("circle-color").value.value.toString(),o=e.get("circle-radius").value;return o._parameters&&Object.prototype.hasOwnProperty.call(o._parameters,"stops")&&"source"===o.kind?(n=6,a="center",t=o._parameters.stops,o._parameters.default&&(t=[].concat(Object(b.a)(t),[["",o._parameters.default]]))):(n=1,a="left",+(t=[o.value.toString()])[0]<8&&(t=["8"])),Object(he.a)(v,{sx:{margin:0,padding:0},children:Object(he.a)((function(){var e=(t.length>1?t.map((function(e){return Object(b.a)(e)})):[[null,t[0]]]).map((function(e,t){var o=+e[1]+.75*+e[1];return Object(he.b)(m,{sx:{margin:0,marginLeft:4,padding:0,display:"flex"},children:[Object(he.a)(h.b,{sx:{flexGrow:n,textAlign:a},children:Object(he.a)("svg",{width:o,height:o,children:Object(he.a)("circle",{cx:o/2,cy:o/2,r:o/2-.5,sx:{fill:r}})})}),Object(he.a)(h.b,{sx:{flexGrow:1,lineHeight:e[1]>=10?"".concat(1.8388*+e[1]-7.5,"px"):"15px"},children:Object(he.a)(h.s,{sx:{padding:"3px"},children:e[0]})})]},t)}));return Object(he.a)(h.b,{children:e})}),{})})}(e.paint);case"line":return function(e){var t,n=e.get("line-color").value,a=n.kind;if("source"===a||"constant"===a){if(n._parameters&&Object.prototype.hasOwnProperty.call(n._parameters,"stops"))t=n._parameters.stops,n._parameters.default&&(t=[].concat(Object(b.a)(t),[["",n._parameters.default]]));else if(n._styleExpression){var r=[];Object.keys(n._styleExpression.expression.cases).forEach((function(e){var t=[e,n._styleExpression.expression.outputs[+n._styleExpression.expression.cases[e]].value.toString()];r.push(t)})),n._styleExpression.expression.otherwise&&r.push(["",n._styleExpression.expression.otherwise.value.toString()]),t=r}else t=[n.value.toString()];return Object(he.a)(v,{sx:{margin:0,padding:0},children:Object(he.a)((function(){var e=(t.length>1?t.map((function(e){return Object(b.a)(e)})):[[null,t[0]]]).map((function(e,t){return Object(he.b)(m,{sx:{margin:0,marginLeft:4,padding:0,display:"flex",alignItems:"flex-start",justifyContent:"flex-start"},children:[Object(he.a)(h.b,{children:Object(he.a)("svg",{width:"25",height:"25",children:Object(he.a)("rect",{x:"0",y:"3.75",rx:"0",ry:"0",width:"25",height:"7.5",sx:{fill:e,strokeWidth:2}})})}),Object(he.a)(h.b,{px:1,children:Object(he.a)(h.s,{children:e[0]})})]},t)}));return Object(he.a)(h.b,{children:e})}),{})})}if("composite"!==e.get("line-color").value.kind)return!1;try{return t=e.get("line-color").value._styleExpression.expression.outputs[0].outputs[0].value.toString(),Object(he.a)(v,{sx:{margin:0,marginLeft:4,padding:0},children:Object(he.a)(m,{sx:{margin:0,marginLeft:4,padding:0},children:Object(he.a)("svg",{width:"25",height:"25",children:Object(he.a)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"25",height:"7.5",sx:{fill:t,strokeWidth:2}})})})})}catch(o){return console.error(o),!1}}(e.paint);case"symbol":return e.paint,console.log("legend cannot render symbol yet"),!1;case"heatmap":return e.paint,console.log("legend cannot render heatmap yet"),!1;case"fill-extrusion":return e.paint,console.log("legend cannot render fill-extrusion yet"),!1;case"raster":return e.paint,console.log("legend cannot render raster yet"),!1;case"hillshade":return e.paint,console.log("legend cannot render hillshade yet"),!1;case"background":return e.paint,console.log("legend cannot render background yet"),!1;default:return!1}}catch(n){return console.warn(n),!1}};function Be(e,t,n){return!!I(e)&&(n?e.setLayoutProperty(t,"visibility","visible"):e.setLayoutProperty(t,"visibility","none"),!0)}var Re=n(49),Ae=(n(356),function(e){var t=e.layerActions;return t&&t.length>0?Object(he.b)(Re.a,{className:"cl-layer-list-action-menu",children:[Object(he.a)(Re.b,{sx:{color:"text",bg:"background",borderStyle:"none",fontSize:1,":hover":{cursor:"pointer"}},children:"..."}),Object(he.a)(Re.e,{sx:{zIndex:3,fontFamily:"body"},children:Object(he.a)(Re.d,{children:t.map((function(e){return Object(he.a)(Re.c,{onSelect:function(){e.action()},children:e.title},e.title)}))})})]}):null}),We=function(e){var t,n=e.layerInfo,r=e.map,o=e.legend,c=e.showActions,i=e.itemActions,s=e.checkboxStyle,l=e.baseType,u=Object(a.useState)(!1),d=Object(p.a)(u,2),b=d[0],j=d[1],x=Object(a.useState)(null),f=Object(p.a)(x,2),g=f[0],y=f[1],v=Object(a.useState)(),k=Object(p.a)(v,2),w=k[0],S=k[1],C=Object(a.useState)(!!o),F=Object(p.a)(C,2),N=F[0],L=F[1],_=n.layerIds,T=function(e){var t=e.currentTarget.checked;_.map((function(e){return t||!b?(j(!0),Be(r,e,!0)):(j(!1),Be(r,e,!1)),!0}))};Object(a.useEffect)((function(){switch(s){case"check":y(Object(O.jsx)(h.e,{onChange:T,checked:b}));break;case"switch":y(Object(O.jsx)(Me,{checked:b,onChange:T}));break;case"eye":y(b?Object(O.jsx)(h.k,{onClick:T,sx:{alignItems:"baseline"},children:Object(O.jsx)(U.c,{})}):Object(O.jsx)(h.k,{onClick:T,sx:{alignItems:"baseline"},children:Object(O.jsx)(U.d,{})}));break;default:y(Object(O.jsx)(h.e,{checked:b,onChange:T}))}}),[s,b]),Object(a.useEffect)((function(){var e;if(I(r)){var t=function(){e=r.getLayoutProperty(_[0],"visibility"),j("none"!==e),o&&S(n.legendStyle?n.legendStyle():De(r.getLayer(_[0])))};if(Object.keys(r).length>0)if(l&&"button"===l)try{t()}catch(a){a instanceof TypeError&&r.once("idle",(function(){t()}))}else r.once("idle",(function(){t()}))}}),[r,n]),t=c?Object(O.jsx)(Ae,{layerActions:i}):null;var E=function(){return Object(O.jsx)(h.b,{sx:{display:N?"":"none"},children:Object(O.jsx)(m,{css:{display:o&&w?"":"none"},children:w},"".concat(n.layerName,"-legend"))})};return Object(O.jsxs)(h.b,{className:"listItem",children:[Object(O.jsx)(m,{children:Object(O.jsxs)(h.h,{children:[Object(O.jsxs)(h.n,{children:[g,Object(O.jsx)(h.s,{pt:1,sx:{fontWeight:"bold",cursor:"pointer",":hover":{textDecoration:"underline"}},onClick:function(e){o&&(e.preventDefault(),L(!N))},children:n.layerName})]}),t]})},n.layerName),o?Object(O.jsx)(E,{}):null]})},Ze=function(e){var t,n=e.layerInfo,r=e.map,o=e.legend,c=e.showActions,i=e.itemActions,s=e.group,l=e.callback,u=e.activeOnLoad,d=Object(a.useState)(),b=Object(p.a)(d,2),j=b[0],x=b[1],f=n.layerIds;Object(a.useEffect)((function(){I(r)&&Object.keys(r).length>0&&r.once("idle",(function(){o&&x(n.legendStyle?n.legendStyle():De(r.getLayer(f[0])))}))}),[r,n]),t=c?Object(O.jsx)(Ae,{layerActions:i}):null;var g=function(){return Object(O.jsx)(h.b,{children:Object(O.jsx)(m,{css:{display:o&&j?"":"none"},children:j},"".concat(n.layerName,"-legend"))})};return Object(O.jsxs)(h.b,{className:"listItem",children:[Object(O.jsx)(m,{children:Object(O.jsxs)(h.h,{children:[Object(O.jsxs)(h.n,{children:[Object(O.jsx)(h.p,{name:s,onChange:function(e){!function(e){var t=e.currentTarget.value.split(",");l(t)}(e)},value:n.layerIds,defaultChecked:u}),Object(O.jsx)(h.s,{pt:1,children:n.layerName})]}),t]})},n.layerName),o?Object(O.jsx)(g,{}):null]})},Je=function(e){var t=e.group,n=e.map,r=e.legend,o=e.showOnLoad,c=void 0===o||o,i=Object(a.useState)(c),s=Object(p.a)(i,2),l=s[0],u=s[1],d=t.layers.map((function(e){return e.layerIds.map((function(e){return e}))}));d=d.flat();var b=function(e){var t=d.filter((function(t){return e.includes(t)})),a=d.filter((function(t){return!e.includes(t)}));l?(t.map((function(e){return Be(n,e,!0),!0})),a.map((function(e){return Be(n,e,!1),!0}))):d.map((function(e){return Be(n,e,!1),!0}))},j=t.layers.map((function(e,a){return Object(O.jsx)(Ze,{layerInfo:e,map:n,legend:r,itemActions:e.actions,group:t.groupName,callback:b,activeOnLoad:0===a},e.layerName)}));return Object(O.jsx)(m,{children:Object(O.jsx)(h.b,{children:Object(O.jsxs)(h.h,{sx:{flexDirection:"column"},children:[Object(O.jsxs)(h.n,{children:[Object(O.jsx)(h.e,{checked:l,onChange:function(e){e.currentTarget.checked?(u(!0),d.map((function(e){return Be(n,e,!0),!0}))):(u(!1),d.map((function(e){return Be(n,e,!1),!0})))}}),Object(O.jsx)(h.s,{pt:1,sx:{fontWeight:"bold"},children:t.groupName})]}),Object(O.jsx)(v,{children:j})]})})})},He=["layers","groupLayers","legend","showActions","checkboxStyle","baseType","buttonOptions","sx"],Ge=function(e){var t=e.layers,n=e.groupLayers,r=e.legend,o=void 0!==r&&r,c=e.showActions,i=e.checkboxStyle,s=e.baseType,l=e.buttonOptions,u=e.sx,b=Object(j.a)(e,He),p=Object(a.useContext)(z).map;if(!I(p))return null;var x,f=function(){return Object(O.jsx)(h.s,{children:"Toggle layers:"})},m=t.map((function(e){return Object(O.jsx)(We,{layerInfo:e,map:p,legend:o,itemActions:e.actions,showActions:c,checkboxStyle:i,baseType:s},e.layerName)}));return n&&n.length>0&&(x=n.map((function(e){return Object(O.jsx)(Je,{group:e,map:p,legend:o})}))),Object(O.jsxs)(T,Object(d.a)(Object(d.a)({baseType:s,buttonOptions:Object(d.a)({icon:Object(O.jsx)(U.f,{}),title:"Layer List",testId:"cl-layerlist-btn"},l),sx:u},b),{},{children:[Object(O.jsx)(f,{}),Object(O.jsx)(v,{children:m}),Object(O.jsxs)(v,{children:[" ",x]})]}))};var Ve=["circular","horizontal","controlType","showZoomLevel","sx"],Xe=function(e){var t=e.circular,n=e.horizontal,r=e.controlType,o=e.showZoomLevel,c=e.sx,i=Object(j.a)(e,Ve),s=Object(a.useContext)(z).map,l=Object(a.useState)((function(){return!!I()&&s.getZoom()})),u=Object(p.a)(l,2),b=u[0],x=u[1];function f(){x(Ee()(s.getZoom()).format("0.0"))}Object(a.useEffect)((function(){I(s)&&(s.on("load",(function(){f()})),s.on("zoom",(function(){f()})))}),[s]);var m={borderRadius:"default",width:"32px",height:"32px",minWidth:"25px",cursor:"pointer",minHeight:"25px",bg:"blue",boxShadow:"0 0 4px rgba(0, 0, 0, .6)",padding:0,my:"2px",":hover":{bg:"blue",boxShadow:"0 0 0px rgba(0, 0, 0, .6)"}};t&&(m=Object(d.a)(Object(d.a)({},m),{},{borderRadius:"circle"})),"slider"===r&&(m=Object(d.a)(Object(d.a)({},m),{},{mx:0}));var g="column";n&&(g="row",m=Object(d.a)(Object(d.a)({},m),{},{marginRight:"4px",my:0}));var y=null;o&&(y=Object(O.jsx)(h.c,{sx:Object(d.a)(Object(d.a)({},m),{},{bg:"blue",fontSize:0}),children:b}));var v,k=Object(O.jsx)(h.c,{title:"Zoom In",sx:m,className:"cl-zoom-btn",circular:t,onClick:function(){!function(e){if(!I(e))return!1;var t=Math.round(e.getZoom());e.setZoom(t+1)}(s)},children:Object(O.jsx)(U.j,{})}),w=Object(O.jsx)(h.c,{title:"Zoom Out",sx:m,className:"cl-zoom-btn",circular:t,onClick:function(){!function(e){if(!I(e))return!1;var t=Math.round(e.getZoom());e.setZoom(t-1)}(s)},children:Object(O.jsx)(U.h,{})});return"button"===r||void 0===r?v=n?Object(O.jsxs)(O.Fragment,{children:[w,y,k]}):Object(O.jsxs)(O.Fragment,{children:[k,y,w]}):"slider"===r?v=n?Object(O.jsxs)(O.Fragment,{children:[w,Object(O.jsx)(h.r,{step:.1,min:0,max:22,value:b,onInput:function(e){return s.setZoom(e.target.value),!0}}),k]}):Object(O.jsxs)(h.h,{sx:{maxWidth:"50px",flexDirection:"column",alignItems:"center"},children:[k,Object(O.jsx)(h.r,{step:.1,min:0,max:22,sx:{width:"120px",my:"58px",transform:"rotate(270deg)"},value:b,onInput:function(e){return s.setZoom(e.target.value),!0}}),w]}):console.error("Value for 'controlType' prop on Zoom component is not recognized."),Object(O.jsx)(T,Object(d.a)(Object(d.a)({},i),{},{baseType:"none",sx:Object(d.a)({display:"flex",flexDirection:g,m:1},c),className:"cl-zoom-controls",children:v}))};function Ke(e,t){return qe.apply(this,arguments)}function qe(){return(qe=Object(de.a)(ue.a.mark((function e(t,a){var r,o,c,i,s,l,u;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4).then(n.bind(null,363));case 2:return r=e.sent,o=r.default,e.next=6,n.e(5).then(n.bind(null,364));case 6:if(c=e.sent,i=c.default,s=1e3*i(t),l=o(t),!(s>l)){e.next=26;break}e.t0=a,e.next="m"===e.t0?14:"ft"===e.t0?16:"km"===e.t0?18:"mi"===e.t0?20:22;break;case 14:return u=s,e.abrupt("break",24);case 16:return u=3.28084*s,e.abrupt("break",24);case 18:return u=s/1e3,e.abrupt("break",24);case 20:return u=621371e-9*s,e.abrupt("break",24);case 22:return u=s,e.abrupt("break",24);case 24:e.next=41;break;case 26:e.t1=a,e.next="m\xb2"===e.t1?29:"ft\xb2"===e.t1?31:"km\xb2"===e.t1?33:"mi\xb2"===e.t1?35:"ac"===e.t1?37:39;break;case 29:return u=l,e.abrupt("break",41);case 31:return u=10.7639*l,e.abrupt("break",41);case 33:return u=l/1e6,e.abrupt("break",41);case 35:return u=l/2589988.1103,e.abrupt("break",41);case 37:return u=247105e-9*l,e.abrupt("break",41);case 39:return u=l,e.abrupt("break",41);case 41:return e.abrupt("return",u);case 42:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ue=["baseType","buttonOptions","sx"],Ye=function(e){var t=e.baseType,r=e.buttonOptions,o=e.sx,c=Object(j.a)(e,Ue),i=Object(a.useContext)(z).map,s=Object(a.useState)(null),l=Object(p.a)(s,2),u=l[0],b=l[1],x=Object(a.useState)(!1),O=Object(p.a)(x,2),m=O[0],g=O[1],y=Object(a.useState)(!1),v=Object(p.a)(y,2),k=v[0],w=v[1],S=Object(a.useState)(0),C=Object(p.a)(S,2),F=C[0],N=C[1],L=Object(a.useState)("m"),_=Object(p.a)(L,2),E=_[0],P=_[1],M=Object(a.useState)(!1),D=Object(p.a)(M,2),B=D[0],R=D[1],A=["m","ft","km","mi"],W=["m\xb2","ft\xb2","km\xb2","mi\xb2","ac"];function Z(){return J.apply(this,arguments)}function J(){return(J=Object(de.a)(ue.a.mark((function e(){var t,n,a,r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=8;break}if(t=u.getAll(),!((n=t.features)&&n.length>0)){e.next=8;break}return a=n[0],e.next=6,Ke(a,E);case 6:r=e.sent,N(r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(a.useEffect)((function(){Z()}),[E]),!I(i))return null;var H,G=function(e){P(e.currentTarget.value)};function V(e){return X.apply(this,arguments)}function X(){return(X=Object(de.a)(ue.a.mark((function e(t){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(i)){e.next=2;break}return e.abrupt("return");case 2:if(a=u||!1,u){e.next=9;break}return e.next=6,n.e(0).then(n.t.bind(null,362,7)).then((function(e){return new(0,e.default)({displayControlsDefault:!1})}));case 6:a=e.sent,b(a),i.addControl(a);case 9:a.changeMode(t),"draw_line_string"===t?P("m"):"draw_polygon"===t&&P("m\xc2\xb2"),R(!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.on("draw.render",(function(){Z()})),B&&(H=Object(he.a)(h.c,{title:"Delete Measurement",className:"draw-tool draw-tool--delete",onClick:function(){u.deleteAll(),N(0),u.changeMode("simple_select"),R(!1),g(!1),w(!1)},children:Object(he.a)(U.l,{})}));var K,q=k||m?"block":"none";return k&&!m?K=Object(he.b)(h.h,{children:[Object(he.a)(h.b,{children:"".concat(Ee()(F).format("0,0.00"))}),Object(he.a)(h.q,{name:"measure-units",sx:{position:"relative",width:55,border:"none",paddingTop:0},onChange:G,defaultValue:A[0],children:A.map((function(e){return Object(he.a)("option",{sx:{color:"text"},children:e},e)}))})]}):!k&&m&&(K=Object(he.b)(h.h,{children:[Object(he.a)(h.b,{sx:{color:"background"},children:"".concat(Ee()(F).format("0,0.00"))}),Object(he.a)(h.q,{name:"measure-units",sx:{color:"background",position:"relative",width:55,border:"none",paddingTop:0},onChange:G,defaultValue:W[0],children:W.map((function(e){return Object(he.a)("option",{sx:{color:"text"},children:e},e)}))})]})),Object(he.b)(T,Object(d.a)(Object(d.a)({className:"cl-measure-tools",baseType:t||"none",sx:o,buttonOptions:Object(d.a)({icon:Object(he.a)(U.k,{}),title:"Measure",testId:"cl-measure-btn"},r)},c),{},{children:[Object(he.b)(ee,{children:[Object(he.a)(h.c,{className:"draw-tool",onClick:function(){u.changeMode("simple_select"),w(!1),g(!1)},children:Object(he.a)(h.s,{sx:{fontSize:"12px",alignItems:"center"},children:"Measure"})}),Object(he.a)(h.c,{title:"Measure Line",className:"draw-tool draw-tool--line",onClick:function(){V("draw_line_string"),w(!0),g(!1)},children:Object(he.a)(f.e,{})}),Object(he.a)(h.c,{title:"Measure Area",className:"draw-tool draw-tool--polygon",onClick:function(){V("draw_polygon"),g(!0),w(!1)},children:Object(he.a)(U.b,{})}),H]}),Object(he.a)(h.b,{bg:"primary",p:2,color:"background",height:"32px",width:135,sx:{display:q,borderColor:"white",borderWidth:1,borderStyle:"solid"},children:K})]}))},$e=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(O.jsx)(oe,{children:Object(O.jsxs)(q,{mapOptions:ae,children:[Object(O.jsx)(_e,{}),Object(O.jsx)(H,{}),Object(O.jsx)(ne,{sx:{marginTop:"380px"}}),Object(O.jsx)(se,{}),Object(O.jsx)(ve,{}),Object(O.jsx)(Ne,{baseType:"button",goToBookmark:we,loadBookmarks:ke,deleteBookmark:Ce,saveBookmark:Se}),Object(O.jsx)(Ge,{sx:{marginTop:"420px"},panel:!0,layers:[{layerIds:["admin-0-boundary","admin-0-boundary-bg"],layerName:"Admin 0 boundaries"},{layerIds:["admin-1-boundary","admin-1-boundary-bg"],layerName:"Admin 1 boundaries"},{layerIds:["admin-2-boundary"],layerName:"Admin 2 boundaries"},{layerIds:["admin-3-boundary"],layerName:"Admin 3 boundaries"}]}),Object(O.jsx)(Ie,{baseType:"button",sx:{position:"fixed",left:450,top:47,fontSize:"12px",backgroundColor:"white",cursor:"pointer",zIndex:"3"}}),Object(O.jsx)(Xe,{showZoomLevel:!0,sx:{position:"fixed",right:2,top:10}}),Object(O.jsx)(Ye,{baseType:"button",sx:{position:"fixed",left:450,top:85,backgroundColor:"white",cursor:"pointer",color:"blue"}})]})})}}]),n}(a.Component);c.a.render(Object(O.jsx)($e,{}),document.getElementById("root"))}},[[358,2,3]]]);
//# sourceMappingURL=main.3b96c0bf.chunk.js.map