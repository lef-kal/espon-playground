(this["webpackJsonpespon-playground"]=this["webpackJsonpespon-playground"]||[]).push([[0],{168:function(e,t,n){},176:function(e,t){},210:function(e,t){},343:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n(28),a=n.n(i),r=(n(167),n(168),n(62)),c=n(63),l=n(162),s=n(159),d=n(3),b=n(24),u=n(7),j=n(6),h=n(347),f=n(161),p=n(33),x=n(2),O=function(e){var t=e.children,n=e.selectable,o=e.sx,i=n?Object(d.a)({padding:2,":hover":{cursor:"pointer",bg:"primary",color:"background"}},o):Object(d.a)({padding:2},o);return Object(x.jsx)(h.b,Object(d.a)(Object(d.a)({},e),{},{as:"li",sx:i,children:t}))},m=function(e){return null!==e&&void 0!==e&&("number"===typeof e?!isNaN(e):Array.isArray(e)?e.length>0:!!e)},g=["items","children","sx"],y=function(e){var t=e.items,n=e.children,o=e.sx,i=Object(j.a)(e,g),a=Object(d.a)({listStyleType:"none",padding:1},o);return m(n)?Object(x.jsx)(h.b,Object(d.a)(Object(d.a)({},i),{},{as:"ul",className:"cl-list",sx:a,children:n})):!!(t&&t.length>0)&&Object(x.jsx)(h.b,Object(d.a)(Object(d.a)({},i),{},{as:"ul",className:"cl-list",sx:a,children:t.map((function(e){return Object(x.jsx)(O,{children:e})}))}))},v=n(160),k=n(46),w=n(11),S=["closable","onClose","sx","children"],C=function(e){var t=e.closable,n=e.onClose,o=e.sx,i=e.children,a=Object(j.a)(e,S),r=Object(w.d)().theme;return Object(x.jsxs)(h.d,Object(d.a)(Object(d.a)({className:"cl-panel-component",color:"text",sx:Object(d.a)(Object(d.a)({padding:3,width:"300px",borderRadius:"4px",boxShadow:"0 0 4px rgba(0, 0, 0, .6)",bg:"background"},o),{},{paddingTop:t?0:3})},a),{},{children:[t&&Object(x.jsx)(h.h,{sx:{justifyContent:"flex-end",marginRight:"-".concat(r.space?r.space[3]:16,"px")},children:Object(x.jsx)(h.f,{sx:{color:"text",height:"24px",width:"24px",":hover":{cursor:"pointer"}},onClick:n})}),i]}))},F=["children","buttonOptions","sx"],L=function(e){var t,n,i,a=e.children,r=e.buttonOptions,c=e.sx,l=Object(j.a)(e,F),s=Object(o.useRef)(null),b=Object(k.a)(s),f=Object(o.useState)(!1),p=Object(u.a)(f,2),O=p[0],m=p[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(h.c,{ref:s,title:null===r||void 0===r?void 0:r.title,className:null!==(t=null===l||void 0===l?void 0:l.className)&&void 0!==t?t:"cl-btn","data-testid":null!==(n=null===r||void 0===r?void 0:r.testId)&&void 0!==n?n:"cl-btn",variant:null!==(i=null===r||void 0===r?void 0:r.variant)&&void 0!==i?i:"primary",onClick:function(){if(null===r||void 0===r?void 0:r.intercept)try{r.intercept()}catch(e){console.error(e)}else m(!O)},sx:Object(d.a)({},c),children:null===r||void 0===r?void 0:r.icon}),O&&Object(x.jsx)(v.a,{style:{zIndex:c.zIndex||2},targetRef:s,position:function(){return{left:(null===b||void 0===b?void 0:b.right)+10,top:(null===b||void 0===b?void 0:b.top)+window.scrollY}},children:Object(x.jsx)(C,{closable:!0,onClose:function(){return m(!1)},sx:{fontFamily:"body"},children:a})})]})},N=["baseType","buttonOptions","children","open","sx"],T=function(e){var t,n,o,i,a,r=e.baseType,c=e.buttonOptions,l=e.children,s=(e.open,e.sx),b=Object(j.a)(e,N),u=null!==(t=null===s||void 0===s?void 0:s.top)&&void 0!==t?t:"1rem",f=null!==(n=null===s||void 0===s?void 0:s.left)&&void 0!==n?n:"1rem";(null===s||void 0===s?void 0:s.bottom)&&(u=null),(null===s||void 0===s?void 0:s.right)&&(f=null);var p=Object(d.a)({fontFamily:"body",bg:"transparent",position:(null===s||void 0===s?void 0:s.position)||"absolute",top:u,left:f,bottom:null===s||void 0===s?void 0:s.bottom,right:null===s||void 0===s?void 0:s.right,zIndex:null!==(o=null===s||void 0===s?void 0:s.zIndex)&&void 0!==o?o:2},s),O=Object(d.a)({fontFamily:"body",bg:"background",position:(null===s||void 0===s?void 0:s.position)||"absolute",top:u,left:f,bottom:null===s||void 0===s?void 0:s.bottom,right:null===s||void 0===s?void 0:s.right,zIndex:null!==(i=null===s||void 0===s?void 0:s.zIndex)&&void 0!==i?i:2},s),m=Object(d.a)({fontFamily:"body",bg:(null===s||void 0===s?void 0:s.bg)||"primary",position:(null===s||void 0===s?void 0:s.position)||"absolute",top:u,left:f,bottom:null===s||void 0===s?void 0:s.bottom,right:null===s||void 0===s?void 0:s.right,zIndex:null!==(a=null===s||void 0===s?void 0:s.zIndex)&&void 0!==a?a:2,width:"32px",height:"32px",minWidth:"25px",minHeight:"25px",p:0,m:1,boxShadow:"0 0 4px rgba(0, 0, 0, .6)"},s),g=Object(x.jsx)(h.b,Object(d.a)(Object(d.a)({},b),{},{sx:p,children:l}));switch(r){case"none":return g;case"panel":return Object(x.jsx)(C,Object(d.a)(Object(d.a)({},b),{},{sx:O,children:l}));case"button":return Object(x.jsx)(L,Object(d.a)({children:l,buttonOptions:c,sx:m},b));default:return g}},B=Object(o.createContext)({});var z=function(e){return!!(e&&Object.keys(e).length>0)&&!!(e.style&&Object.keys(e.style).length>0)},D=n(150),P=n.n(D),R=n(97),M=n.n(R),E=n(151),I=n.n(E),J=1e8,_=["baseType","buttonOptions","sx"],W=new(function(){function e(){Object(r.a)(this,e),this.reader=new FileReader,this.reader.onload=this.handleFile.bind(this)}return Object(c.a)(e,[{key:"load",value:function(e,t){if(!e)throw new Error("File Required");if(!t)throw new Error("Callback Required");this.cb=t,this.file=e,this.fileExt=this.getExtension(),this.fileDetails={fileSize:this.file.size,fileName:this.file.name,fileExt:this.fileExt},this.file.size>=J?t({error:"File must be less than 20mb",fileDetails:this.fileDetails}):"zip"===this.fileExt.toLowerCase()?this.reader.readAsArrayBuffer(this.file):this.reader.readAsText(this.file,"UTF-8")}},{key:"getExtension",value:function(){var e=this.file.name.split(".");return e[e.length-1]}},{key:"handleFile",value:function(e){switch(this.fileExt.toLowerCase()){case"csv":this.handleCSV(e);break;case"kml":this.handleKML(e);break;case"geojson":case"json":this.handleJSON(e);break;case"gpx":this.handleGPX(e);break;case"zip":this.handleSHP(e);break;default:this.notRecognized()}}},{key:"handleJSON",value:function(e){try{this.handleGeoJSON(e)}catch(t){this.cb({error:"Problem parsing JSON (".concat(t.toString(),")"),fileDetails:this.fileDetails})}}},{key:"handleCSV",value:function(e){var t,n,o=this,i=["y","lat","latitude"],a=["x","lng","lon","long","longitude"],r=e.target.result;if(r.split("\n")[0].split(",").forEach((function(e){-1!==i.indexOf(e.toLowerCase().trim())&&(t=e.trim()),-1!==a.indexOf(e.toLowerCase().trim())&&(n=e.trim())})),!n||!t)throw new Error("no latitude (y, lat, latitude) or longitude (x, lng, long, longitude) field found");P.a.csv2geojson(r,{latfield:t,lonfield:n},(function(e,t){if(e)throw e;o.cb(o.fileDetails,t)}))}},{key:"handleKML",value:function(e){var t=(new window.DOMParser).parseFromString(e.target.result,"application/xml"),n=M.a.kml(t,{style:!0});this.cb(this.fileDetails,n)}},{key:"handleGeoJSON",value:function(e){this.cb(this.fileDetails,JSON.parse(e.target.result))}},{key:"handleGPX",value:function(e){var t=(new window.DOMParser).parseFromString(e.target.result,"application/xml"),n=M.a.gpx(t);this.cb(this.fileDetails,n)}},{key:"handleSHP",value:function(e){var t=I.a.parseZip(e.target.result);this.cb(this.fileDetails,t)}},{key:"notRecognized",value:function(){console.log("sorry, i didnt recognize this format"),this.cb({error:"File format ".concat(this.fileExt," not recognized."),fileDetails:this.fileDetails})}}]),e}()),A=function(e){var t=e.baseType,n=e.buttonOptions,i=e.sx,a=Object(j.a)(e,_),r=Object(o.useContext)(B).map,c=Object(o.useState)("file"),l=Object(u.a)(c,2),s=l[0],m=l[1],g=Object(o.useState)([]),v=Object(u.a)(g,2),k=v[0],w=v[1],S=function(e,t){if(t&&e){var n=e.fileName;r.addSource(n,{type:"geojson",data:t}),function(e,t){function n(e){var t;switch(e){case"Point":case"MultiPoint":t="circle";break;case"LineString":case"MultiLineString":t="line";break;case"Polygon":case"MultiPolygon":t="fill";break;default:return""}return t}function o(e){var t;switch(e){case"Point":case"MultiPoint":t={"circle-radius":6,"circle-color":"#B42222","circle-opacity":.6};break;case"LineString":case"MultiLineString":t={"line-color":"#888","line-width":8};break;case"Polygon":case"MultiPolygon":t={"fill-color":"#088","fill-opacity":.8};break;default:return null}return t}function i(e){var t;switch(e){case"Point":case"MultiPoint":t=["==","$type","Point"];break;case"LineString":case"MultiLineString":t=["==","$type","LineString"];break;case"Polygon":case"MultiPolygon":t=["==","$type","Polygon"];break;default:return null}return t}var a=[];t.features.map((function(e){-1===a.indexOf(e.geometry.type)&&a.push(e.geometry.type)})),a.forEach((function(t){var a="".concat(e,"-").concat(t);r.addLayer({id:a,type:n(t),source:e,paint:o(t),filter:i(t),layout:{visibility:"visible"}}),w([].concat(Object(b.a)(k),[a]))}))}(n,t),function(e){var t=Object(f.a)(e);r.fitBounds(t)}(t)}},C=function(){return Object(x.jsxs)(h.h,{sx:{justifyContent:"center",paddingBottom:"0.5rem"},children:[Object(x.jsx)(h.c,{sx:{width:"50%",bg:"transparent",color:"text",borderStyle:"solid",borderRadius:0,borderTopWidth:0,borderLeftWidth:0,borderRightWidth:".5px",borderBottomWidth:"0.5px",boxShadow:"none",":hover":{bg:"primary",color:"background"}},onClick:function(){m("file")},children:"File"}),Object(x.jsx)(h.c,{sx:{width:"50%",bg:"transparent",color:"text",borderStyle:"solid",borderRadius:0,borderTopWidth:0,borderRightWidth:0,borderBottomWidth:"0.5px",boxShadow:"none",":hover":{bg:"primary",color:"background"}},onClick:function(){m("url")},children:"URL"})]})},F=function(){return Object(x.jsx)(h.b,{sx:{textAlign:"center",marginTop:"0.5rem"},children:Object(x.jsx)(h.h,{sx:{justifyContent:"flex-end"},children:Object(x.jsx)(h.c,{sx:{fontSize:0,textDecoration:"underline",color:"primary",backgroundColor:"background",":hover":{backgroundColor:"background"}},onClick:function(e){e.preventDefault(),m("layers")},children:"Manage Layers"})})})},L=function(){var e=[".geojson",".kml",".gpx",".csv",".zip (shp)"];return Object(x.jsxs)("div",{children:[Object(x.jsx)(h.b,{sx:{textAlign:"center"},children:function(){var t=e.join(", ");return Object(x.jsxs)(h.b,{children:[Object(x.jsx)(h.o,{sx:{fontSize:0},children:"Supported File Extensions:"}),Object(x.jsx)(h.o,{sx:{fontSize:0},children:t}),Object(x.jsx)(h.j,{sx:{textAlign:"center",paddingTop:1,marginTop:2,border:"none",">button":{boxShadow:"none"}},type:"file",className:"file-upload",onChange:function(e){!function(e){try{W.load(e.target.files[0],S)}catch(t){console.warn(t)}}(e)}})]})}()}),Object(x.jsx)(F,{})]})},N=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(h.j,{placeholder:"Paste URL Here"}),Object(x.jsx)(h.c,{css:{marginTop:"0.5rem"},children:"Add Layer"}),Object(x.jsx)(F,{})]})},D=function(){return Object(x.jsxs)("div",{styles:{width:"100%"},children:[Object(x.jsx)(C,{}),"file"===s?Object(x.jsx)(L,{}):Object(x.jsx)(N,{})]})},P=function(){return Object(x.jsxs)("div",{style:{width:"100%"},children:[Object(x.jsx)(h.c,{sx:{fontSize:0,textDecoration:"underline",color:"primary",backgroundColor:"background",":hover":{backgroundColor:"background"}},onClick:function(e){e.preventDefault(),m("file")},children:"<< Back"}),Object(x.jsx)(h.b,{sx:{marginTop:"0.5rem"},content:Object(x.jsx)(y,{children:function(){var e=function(e){return"none"!==r.getLayoutProperty(e,"visibility")};return k.map((function(t,n){return Object(x.jsxs)(O,{children:[" ",Object(x.jsxs)(h.k,{children:[Object(x.jsx)(h.e,{onChange:function(){!function(t){e(t)?r.setLayoutProperty(t,"visibility","none"):r.setLayoutProperty(t,"visibility","visible")}(t)},defaultChecked:e(t)}),Object(x.jsx)(h.o,{pt:1,children:t})]})]},"".concat(t,"-").concat(n))}))}()})})]})},R=function(){return Object(x.jsx)("div",{style:{width:"100%"},children:"layers"===s?Object(x.jsx)(P,{}):Object(x.jsx)(D,{})})};return z(r)?Object(x.jsx)(T,Object(d.a)(Object(d.a)({className:"add-tools",baseType:t,buttonOptions:Object(d.a)({icon:Object(x.jsx)(p.b,{}),title:"Add Data",testId:"add-data-btn"},n),sx:i},a),{},{children:Object(x.jsx)(R,{})})):null},Z=n(98),G=n.n(Z),H=function(e){var t=e.message,n=Object(o.useState)(!0),i=Object(u.a)(n,2),a=i[0],r=i[1];return a?Object(x.jsx)(h.a,{variant:"modal",children:Object(x.jsxs)(h.h,{sx:{flexDirection:"column"},children:[Object(x.jsx)(h.h,{sx:{width:"100%",position:"relative"},children:Object(x.jsx)("p",{style:{padding:1},children:t})}),Object(x.jsx)(h.h,{sx:{justifyContent:"flex-end"},children:Object(x.jsx)(h.c,{variant:"secondary",onClick:function(){r(!1)},children:"OK"})})]})}):null},V=["mapOptions","mapLayers","supportMessage","sx"],X=function(e){var t,n=e.mapOptions,i=e.mapLayers,a=e.supportMessage,r=e.sx,c=Object(j.a)(e,V),l=Object(o.useContext)(B).setMap;return Object(o.useEffect)((function(){var e;t=new G.a.Map(n),l(t),(e=i)&&t.on("load",(function(){e.forEach((function(e){t.addLayer(e)}))}))}),[]),G.a.supported()?Object(x.jsx)(h.b,Object(d.a)(Object(d.a)({},c),{},{sx:Object(d.a)({width:"100vw",height:"100vh"},r),ref:function(e){n.container=e},className:"cl-map-container"})):Object(x.jsx)(H,{message:a||"WARNING! Your browser does not currently support this application, which requires MapboxGL. \n    Please ensure you are using the latest version of Chrome, Firefox, or Edge.\n    Additionally, check https://get.webgl.org/ for compatibility with your system."})},K=n(25),U=function(e){var t=e.name,n=e.item,o=e.defaultChecked,i=e.checkedChanged;return Object(x.jsxs)(h.k,Object(d.a)(Object(d.a)({className:"cl-radio-group-item"},e),{},{sx:{fontSize:"12px",marginRight:"2px",">span":{paddingTop:"3px"}},children:[Object(x.jsx)(h.m,{color:"primary",name:t,id:n.name,value:n.value,defaultChecked:o,sx:{"input:checked ~ &":{color:"primary"},"input:focus ~ &":{bg:"highlight"}},onChange:function(e){return i(e,n)}}),Object(x.jsx)("span",{children:n.label})]}))},Y=function(e){var t=e.children,n=e.items,o=e.name,i=e.checkedValueChange,a={bg:"transparent",color:"primary",display:"flex",padding:0};return m(t)?Object(x.jsx)(h.b,Object(d.a)(Object(d.a)({},e),{},{className:"cl-radio-group",sx:a,children:t})):Object(x.jsx)(h.b,Object(d.a)(Object(d.a)({},e),{},{className:"cl-radio-group",sx:a,children:n.map((function(e){return Object(x.jsx)(U,{name:o,item:e,defaultChecked:e.checked,checkedChanged:i},e.value)}))}))},q=["buttons","sx","children"],$=function(e){var t,n=e.buttons,o=e.sx,i=e.children,a=Object(j.a)(e,q);return t=n||i,Object(x.jsx)(h.h,Object(d.a)(Object(d.a)({alignItems:"center"},a),{},{className:"cl-button-group",sx:Object(d.a)(Object(d.a)({},o),{},{"> button":{height:"32px",borderRadius:0,borderWidth:"0.25px",borderColor:"muted",borderStyle:"solid",":first-of-type":{borderTopLeftRadius:"default",borderBottomLeftRadius:"default",borderWidth:"0.5px",borderColor:"muted",borderStyle:"solid"},":last-child":{borderTopRightRadius:"default",borderBottomRightRadius:"default",borderWidth:"0.5px",borderColor:"muted",borderStyle:"solid"}}}),children:t}))},Q=["switcherStyle","basemaps","preserveLayers","baseType","buttonOptions","sx"],ee=function(e){var t=e.switcherStyle,n=e.basemaps,i=e.preserveLayers,a=e.baseType,r=e.buttonOptions,c=e.sx,l=Object(j.a)(e,Q),s=Object(o.useState)(n?n[0].value:"light-v10"),b=Object(u.a)(s,2),f=b[0],p=b[1],O=Object(o.useContext)(B).map,m=Object(o.useRef)(!1),g=function(e,t){p(t.value)};Object(o.useEffect)((function(){m.current?O.setStyle("mapbox://styles/mapbox/".concat(f)):m.current=!0}),[f]),Object(o.useEffect)((function(){z(O)&&O.on("load",(function(){O.setStyle("mapbox://styles/mapbox/".concat(f)),O.on("styledata",(function(){!function e(){if(O.isStyleLoaded())for(var t=0;t<(null===i||void 0===i?void 0:i.length);t+=1){var n=i[t];O.getSource(n.layer.source)||(O.addSource(n.layer.source,n.source),O.addLayer(n.layer))}else setTimeout(e,200)}()}))}))}),[O]);var y,v=n||[{name:"Light",key:"Light",label:"Light",value:"light-v10",checked:!0},{name:"Dark",key:"Dark",label:"Dark",value:"dark-v10"},{name:"satellite",key:"satellite",label:"Satellite",value:"satellite-streets-v9"}];switch(t){case"radio":y=Object(x.jsx)(Y,{items:v,name:"basemaps",checkedValueChange:g});break;case"buttons":var k=v.map((function(e){return Object(x.jsx)(h.c,{onClick:function(t){return g(0,e)},children:e.label},e.label)}));y=Object(x.jsx)($,{buttons:k});break;default:y=Object(x.jsx)(Y,{items:v,name:"basemaps",checkedValueChange:g})}return Object(x.jsx)(T,Object(d.a)(Object(d.a)({baseType:a,buttonOptions:Object(d.a)({icon:Object(x.jsx)(K.c,{}),title:"Basemap Switcher",testId:"cl-basemap-btn"},r)},l),{},{sx:c,className:"cl-basemap-switcher",children:y}))},te={container:"map",style:"mapbox://styles/mapbox/light-v10",center:[12,50],zoom:3,accessToken:"pk.eyJ1IjoiZWxrYWxvbmFyaXMiLCJhIjoiY2twbXExOHcwMDg3ZzJvbnc0dXhyOWszOSJ9.AetSK7t4L_aaFVsCuNQmHg"},ne=n(348),oe=function(e){var t=e.children,n=e.context,i=e.theme,a=e.mapOverride,r=n||B,c=r.Provider||r,l=Object(o.useState)(null),s=Object(u.a)(l,2),d=s[0],b={map:a||d,setMap:s[1]},j=Object(x.jsx)(ne.a,{theme:i||{},children:t});return Object(x.jsx)(c,{value:b,children:j})},ie=n(68),ae=n.n(ie),re=function(e){var t=e.position,n=e.maxWidth,i=e.unit,a=Object(o.useState)(new ie.ScaleControl({maxWidth:n||100,unit:i||"metric"})),r=Object(u.a)(a,1)[0],c=Object(o.useContext)(B).map;if(!z(c))return null;var l=t||"bottom-left";return c.on("load",(function(){c.addControl(r,l)})),null},ce=n(67),le=n.n(ce),se=n(152),de=(n(231),n(153)),be=n.n(de),ue=n(158),je=n(8),he=function(e){var t=e.x,n=e.y,i=e.target,a=e.theme;i.style.padding="4px",i.style.textShadow="none";var r=Object(o.useState)(!1),c=Object(u.a)(r,2),l=c[0],s=c[1],d=Object(o.useState)(i.style.color||"black"),b=Object(u.a)(d,2),j=b[0],f=b[1],p=Object(o.useState)(i.style.backgroundColor||"white"),x=Object(u.a)(p,2),O=x[0],m=x[1],g=Object(o.useState)(!1),y=Object(u.a)(g,2),v=y[0],k=y[1],w=Object(o.useState)(!1),S=Object(u.a)(w,2),C=S[0],F=S[1];return Object(je.a)(be.a,{handle:".handle",children:Object(je.b)(h.b,{sx:{position:"absolute",top:"".concat(n,"px"),left:"".concat(t,"px"),zIndex:99,backgroundColor:"white",width:"280px",borderRadius:"9px",display:l?"none":""},children:[Object(je.b)(h.g,{className:"handle",sx:{textAlign:"center",cursor:"pointer",backgroundColor:a.colors.primary,borderTopLeftRadius:"9px",borderTopRightRadius:"9px",padding:"5px"},children:[Object(je.a)(h.o,{sx:{color:"white",fontFamily:a.fonts.body},children:"Label Editor"}),Object(je.a)(h.f,{sx:{position:"absolute",top:0,right:0,color:"white",cursor:"pointer"},onClick:function(){s(!0)}})]}),Object(je.a)(h.g,{children:Object(je.b)(h.b,{sx:{margin:"2.5px"},children:[Object(je.a)(h.k,{sx:{fontFamily:a.fonts.body},htmlFor:"label-edit",children:"Label"}),Object(je.a)(h.j,{placeholder:i.innerHTML,name:"label-edit",id:"label-edit",onChange:function(e){i.innerHTML=e.target.value.toUpperCase()},sx:{padding:"2px"},mb:1}),Object(je.a)(h.k,{sx:{fontFamily:a.fonts.body},htmlFor:"font-size-edit",children:"Font Size"}),Object(je.a)(h.j,{placeholder:i.style.fontSize.replace("px","")||"12",name:"font-size-edit",id:"font-size-edit",onChange:function(e){i.style.fontSize="".concat(e.target.value,"px")},sx:{padding:"2px"},mb:1}),Object(je.a)(h.k,{sx:{fontFamily:a.fonts.body},htmlFor:"font-family-edit",children:"Font Family"}),Object(je.b)(h.n,{name:"font-family-edit",id:"font-family-edit",mb:1,onChange:function(e){i.style.fontFamily=e.target.value},sx:{padding:"2px"},children:[Object(je.a)("option",{value:"serif",children:"Serif"}),Object(je.a)("option",{value:"sans-serif",children:"Sans-Serif"}),Object(je.a)("option",{value:"cursive",children:"Cursive"}),Object(je.a)("option",{value:"monospace",children:"Monospace"}),Object(je.a)("option",{value:"fantasy",children:"Fantasy"})]}),Object(je.a)(h.k,{sx:{fontFamily:a.fonts.body},htmlFor:"font-weight-edit",children:"Font Weight"}),Object(je.a)(h.j,{placeholder:i.style.fontWeight||200,name:"font-weight-edit",id:"font-weight-edit",onChange:function(e){i.style.fontWeight=e.target.value},sx:{padding:"2px"},mb:1}),Object(je.a)(h.b,{sx:{textAlign:"fg"===C?"left":"right"},mb:1,children:v?Object(je.a)(ue.a,{onChange:function(e){var t=e.hex;"fg"===C?(i.style.color=t,f(t)):"bg"===C&&(i.style.backgroundColor=t,m(t))}}):""}),Object(je.b)(h.i,{gap:2,mb:1,columns:[2,"1fr 1fr"],children:[Object(je.a)(h.b,{bg:j,onClick:function(){"fg"===C?(k(!1),F(!1)):(k(!0),F("fg"))},sx:{color:"white",cursor:"pointer",border:"fg"===C?"solid greenyellow 3px":""},children:"FG"}),Object(je.a)(h.b,{bg:O,onClick:function(){"bg"===C?(k(!1),F(!1)):(k(!0),F("bg"))},sx:{cursor:"pointer",border:"bg"===C?"solid greenyellow 3px":""},children:"BG"})]}),Object(je.a)(h.b,{p:2,sx:{textAlign:"center"},children:Object(je.a)(h.l,{sx:{color:"#a70000",fontFamily:a.fonts.body},href:"#!",onClick:function(e){e.preventDefault(),window.confirm("are you sure")&&(i.parentNode.removeChild(i),s(!0))},children:"Delete Label"})})]})})]})})},fe=function(e){var t={};function n(e){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return t.onSetup=function(){return{}},t.onClick=function(t,o){var i=this.newFeature({type:"Feature",geometry:{type:"Point",coordinates:[o.lngLat.lng,o.lngLat.lat]}}),r=new ae.a.Marker({element:n('<p class="cl-draw-text" style="text-shadow:0 0 4px #FFFFFF;text-stroke: .1em #FFFFFF; webkit-text-stroke = .1em #FFFFFF; cursor: context-menu" title="Right click to edit label style">New Label</p>'),draggable:!0});r.getElement().addEventListener("contextmenu",(function(t){var n=document.getElementById("label-maker");n&&n.parentNode.removeChild(n);var o=document.createElement("div");o.id="label-maker",document.body.appendChild(o),a.a.render(Object(x.jsx)(he,{x:t.clientX+50,y:t.clientY+25,target:t.target,theme:e}),o)})),r.setLngLat(o.lngLat),r.addTo(this.map),this.map.fire("draw.create",{features:[i.toGeoJSON()]}),this.changeMode("simple_select")},t.onKeyUp=function(e,t){return 27===t.keyCode&&this.changeMode("simple_select")},t.toDisplayFeatures=function(e,t,n){n(t)},t};function pe(e,t){t?(e.boxZoom.enable(),e.scrollZoom.enable(),e.dragPan.enable(),e.dragRotate.enable(),e.keyboard.enable(),e.doubleClickZoom.enable(),e.touchZoomRotate.enable()):(e.boxZoom.disable(),e.scrollZoom.disable(),e.dragPan.disable(),e.dragRotate.disable(),e.keyboard.disable(),e.doubleClickZoom.disable(),e.touchZoomRotate.disable())}var xe={onSetup:function(){return this.setActionableState(),pe(this.map,!1),{}},toDisplayFeatures:function(e,t,n){n(t)}},Oe=xe,me=["baseType","buttonOptions","sx"],ge=function(e){var t=e.baseType,i=e.buttonOptions,a=e.sx,r=Object(j.a)(e,me),c=Object(w.d)().theme,l=Object(o.useContext)(B).map,s=Object(o.useState)(null),b=Object(u.a)(s,2),f=b[0],O=b[1],m=Object(o.useState)(null),g=Object(u.a)(m,2),y=g[0],v=g[1];if(!z(l))return null;function k(e){return S.apply(this,arguments)}function S(){return(S=Object(se.a)(le.a.mark((function e(t){var o,i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=f,e.t0){e.next=5;break}return e.next=4,n.e(3).then(n.t.bind(null,349,7)).then((function(e){var t=e.default;return new t({displayControlsDefault:!1,modes:Object.assign({draw_text:fe(c),static:Oe},t.modes)})}));case 4:e.t0=e.sent;case 5:o=e.t0,f||(O(o),l.addControl(o)),v(i=t||"simple_select"),o.changeMode(i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){e.addEventListener("click",(function(){pe(l,!1)})),e.style.backgroundColor="rgba(0, 0, 0, 0)",e.style.borderStyle="none",e.style.fontSize="14px",e.style.textShadow="0 0 2px #FFFFFF",e.style.textStroke=".02em #FFFFFF",e.style.webkitTextStroke=".02em #FFFFFF",e.style.resize="none"}return l.on("draw.create",(function(){"draw_text"===y&&function(){for(var e=document.getElementsByClassName("cc-draw-text"),t=function(t){e[t].focus(),e[t].addEventListener("click",(function(){var n;f.changeMode("static"),(n=e[t]).style.backgroundColor="#FFFFFF",n.style.borderStyle="inset",n.focus()}))},n=0;n<e.length;n+=1)t(n);addEventListener("keyup",(function(t){13===t.keyCode&&("static"===f.getMode()&&(f.changeMode("simple_select"),pe(l,!0)),C(e[e.length-1]))})),addEventListener("dblclick",(function(){"static"===f.getMode()&&(f.changeMode("simple_select"),pe(l,!0)),C(e[e.length-1])}))}()})),Object(x.jsx)(T,Object(d.a)(Object(d.a)({className:"draw-tools",baseType:t||"none",buttonOptions:Object(d.a)({icon:Object(x.jsx)(K.d,{}),title:"Draw",testId:"cl-draw-btn"},i),sx:a},r),{},{children:Object(x.jsxs)($,{children:[Object(x.jsx)(h.c,{title:"Draw Point",className:"draw-tool draw-tool--point",onClick:function(){return k("draw_point")},children:Object(x.jsx)(p.c,{})}),Object(x.jsx)(h.c,{title:"Draw Line",className:"draw-tool draw-tool--line",onClick:function(){return k("draw_line_string")},children:Object(x.jsx)(p.e,{})}),Object(x.jsx)(h.c,{title:"Draw Polygon",className:"draw-tool draw-tool--polygon",onClick:function(){return k("draw_polygon")},children:Object(x.jsx)(K.b,{})}),Object(x.jsx)(h.c,{title:"Draw Text",className:"draw-tool draw-tool--text",onClick:function(){k("draw_text")},children:Object(x.jsx)(p.d,{})}),Object(x.jsx)(h.c,{title:"Delete Drawing",className:"draw-tool draw-tool--delete",onClick:function(){!function(){if(f){f.deleteAll();for(var e=document.getElementsByClassName("cl-draw-text");e.length>0;)e[0].remove()}}()},children:Object(x.jsx)(p.a,{})})]})}))};function ye(){return window.localStorage.getItem("ccBookmarks")}function ve(e,t){return!!z(e)&&(e.easeTo({center:t.center,zoom:t.zoom}),!0)}function ke(e,t,n){var o=ye();if(z(e)&&t)if(o){var i={name:t,zoom:e.getZoom(),center:e.getCenter()},a=JSON.parse(o),r=[].concat(Object(b.a)(a),[i]);window.localStorage.setItem("ccBookmarks",JSON.stringify(r)),n(r)}else{var c=[{name:t,zoom:e.getZoom(),center:e.getCenter()}];window.localStorage.setItem("ccBookmarks",JSON.stringify(c)),n(c)}}function we(e,t){var n=JSON.parse(ye()).filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)}));window.localStorage.setItem("ccBookmarks",JSON.stringify(n)),t(n)}var Se=["baseType","buttonOptions","sx"],Ce=function(e){var t=e.baseType,n=e.buttonOptions,i=e.sx,a=Object(j.a)(e,Se),r={_goToBookmark:Object.hasOwnProperty.call(a,"goToBookmark")?a.goToBookmark:ve,_loadBookmarks:Object.hasOwnProperty.call(a,"loadBookmarks")?a.loadBookmarks:ye,_deleteBookmark:Object.hasOwnProperty.call(a,"deleteBookmark")?a.deleteBookmark:we,_saveBookmark:Object.hasOwnProperty.call(a,"saveBookmark")?a.saveBookmark:ke},c=r._goToBookmark,l=r._loadBookmarks,s=r._deleteBookmark,b=r._saveBookmark,f=Object(o.useContext)(B).map,p=JSON.parse(l())||[],m=Object(o.useState)(""),g=Object(u.a)(m,2),v=g[0],k=g[1],w=Object(o.useState)(p),S=Object(u.a)(w,2),C=S[0],F=S[1],L=Object(o.useState)([]),N=Object(u.a)(L,2),z=N[0],D=N[1];Object(o.useEffect)((function(){var e=C.map((function(e){return Object(x.jsx)(O,{selectable:!0,children:Object(x.jsxs)(h.h,{children:[Object(x.jsxs)(h.b,{onClick:function(){c(f,e)},sx:{flex:"1 1 auto"},children:[Object(x.jsx)(K.a,{}),e.name]}),Object(x.jsx)(h.b,{children:Object(x.jsx)(K.e,{onClick:function(){s(e,F)}})})]})},e.name)}));D(e)}),[f,C]);var P=Object(x.jsx)(h.o,{children:"Save the current view or choose a Bookmark below to return to a saved view."}),R=Object(x.jsxs)(h.h,{children:[Object(x.jsx)(h.j,{value:v,onChange:function(e){k(e.currentTarget.value)}}),Object(x.jsx)(h.c,{sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0,marginLeft:"-0.175rem"},onClick:function(){b(f,v,F),k("")},children:"Save"})]});return Object(x.jsx)(T,Object(d.a)(Object(d.a)({baseType:t,buttonOptions:Object(d.a)({icon:Object(x.jsx)(K.a,{}),title:"Bookmarks",testId:"bookmark-btn"},n),sx:i},a),{},{children:Object(x.jsxs)(h.b,{children:[P,R,Object(x.jsx)(y,{children:z})]})}))},Fe=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(x.jsx)(oe,{children:Object(x.jsxs)(X,{mapOptions:te,children:[Object(x.jsx)(A,{}),Object(x.jsx)(ee,{}),Object(x.jsx)(re,{}),Object(x.jsx)(ge,{}),Object(x.jsx)(Ce,{goToBookmark:ve,loadBookmarks:ye,deleteBookmark:we,saveBookmark:ke})]})})}}]),n}(o.Component);a.a.render(Object(x.jsx)(Fe,{}),document.getElementById("root"))}},[[343,1,2]]]);
//# sourceMappingURL=main.86604317.chunk.js.map