(this["webpackJsonpespon-playground"]=this["webpackJsonpespon-playground"]||[]).push([[0],{113:function(e,t){},148:function(e,t){},153:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n.n(i),r=n(33),a=n.n(r),c=(n(86),n(87),n(34)),l=n(35),s=n(81),d=n(78),u=n(25),b=n.n(u),h=n(3),j=n(20),p=n(8),x=n(4),f=n(156),O=n(80),g=n(76),v=n(2),m=function(e){var t=e.children,n=e.selectable,i=e.sx,o=n?Object(h.a)({padding:2,":hover":{cursor:"pointer",bg:"primary",color:"background"}},i):Object(h.a)({padding:2},i);return Object(v.jsx)(f.b,Object(h.a)(Object(h.a)({},e),{},{as:"li",sx:o,children:t}))},y=function(e){return null!==e&&void 0!==e&&("number"===typeof e?!isNaN(e):Array.isArray(e)?e.length>0:!!e)},k=["items","children","sx"],w=function(e){var t=e.items,n=e.children,i=e.sx,o=Object(x.a)(e,k),r=Object(h.a)({listStyleType:"none",padding:1},i);return y(n)?Object(v.jsx)(f.b,Object(h.a)(Object(h.a)({},o),{},{as:"ul",className:"cl-list",sx:r,children:n})):!!(t&&t.length>0)&&Object(v.jsx)(f.b,Object(h.a)(Object(h.a)({},o),{},{as:"ul",className:"cl-list",sx:r,children:t.map((function(e){return Object(v.jsx)(m,{children:e})}))}))},S=n(79),C=n(29),L=n(5),z=["closable","onClose","sx","children"],P=function(e){var t=e.closable,n=e.onClose,i=e.sx,o=e.children,r=Object(x.a)(e,z),a=Object(L.d)().theme;return Object(v.jsxs)(f.d,Object(h.a)(Object(h.a)({className:"cl-panel-component",color:"text",sx:Object(h.a)(Object(h.a)({padding:3,width:"300px",borderRadius:"4px",boxShadow:"0 0 4px rgba(0, 0, 0, .6)",bg:"background"},i),{},{paddingTop:t?0:3})},r),{},{children:[t&&Object(v.jsx)(f.g,{sx:{justifyContent:"flex-end",marginRight:"-".concat(a.space?a.space[3]:16,"px")},children:Object(v.jsx)(f.f,{sx:{color:"text",height:"24px",width:"24px",":hover":{cursor:"pointer"}},onClick:n})}),o]}))},N=["children","buttonOptions","sx"],D=function(e){var t,n,o,r=e.children,a=e.buttonOptions,c=e.sx,l=Object(x.a)(e,N),s=Object(i.useRef)(null),d=Object(C.a)(s),u=Object(i.useState)(!1),b=Object(p.a)(u,2),j=b[0],O=b[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f.c,{ref:s,title:null===a||void 0===a?void 0:a.title,className:null!==(t=null===l||void 0===l?void 0:l.className)&&void 0!==t?t:"cl-btn","data-testid":null!==(n=null===a||void 0===a?void 0:a.testId)&&void 0!==n?n:"cl-btn",variant:null!==(o=null===a||void 0===a?void 0:a.variant)&&void 0!==o?o:"primary",onClick:function(){if(null===a||void 0===a?void 0:a.intercept)try{a.intercept()}catch(e){console.error(e)}else O(!j)},sx:Object(h.a)({},c),children:null===a||void 0===a?void 0:a.icon}),j&&Object(v.jsx)(S.a,{style:{zIndex:c.zIndex||2},targetRef:s,position:function(){return{left:(null===d||void 0===d?void 0:d.right)+10,top:(null===d||void 0===d?void 0:d.top)+window.scrollY}},children:Object(v.jsx)(P,{closable:!0,onClose:function(){return O(!1)},sx:{fontFamily:"body"},children:r})})]})},M=["baseType","buttonOptions","children","open","sx"],R=function(e){var t,n,i,o,r,a=e.baseType,c=e.buttonOptions,l=e.children,s=(e.open,e.sx),d=Object(x.a)(e,M),u=null!==(t=null===s||void 0===s?void 0:s.top)&&void 0!==t?t:"1rem",b=null!==(n=null===s||void 0===s?void 0:s.left)&&void 0!==n?n:"1rem";(null===s||void 0===s?void 0:s.bottom)&&(u=null),(null===s||void 0===s?void 0:s.right)&&(b=null);var j=Object(h.a)({fontFamily:"body",bg:"transparent",position:(null===s||void 0===s?void 0:s.position)||"absolute",top:u,left:b,bottom:null===s||void 0===s?void 0:s.bottom,right:null===s||void 0===s?void 0:s.right,zIndex:null!==(i=null===s||void 0===s?void 0:s.zIndex)&&void 0!==i?i:2},s),p=Object(h.a)({fontFamily:"body",bg:"background",position:(null===s||void 0===s?void 0:s.position)||"absolute",top:u,left:b,bottom:null===s||void 0===s?void 0:s.bottom,right:null===s||void 0===s?void 0:s.right,zIndex:null!==(o=null===s||void 0===s?void 0:s.zIndex)&&void 0!==o?o:2},s),O=Object(h.a)({fontFamily:"body",bg:(null===s||void 0===s?void 0:s.bg)||"primary",position:(null===s||void 0===s?void 0:s.position)||"absolute",top:u,left:b,bottom:null===s||void 0===s?void 0:s.bottom,right:null===s||void 0===s?void 0:s.right,zIndex:null!==(r=null===s||void 0===s?void 0:s.zIndex)&&void 0!==r?r:2,width:"32px",height:"32px",minWidth:"25px",minHeight:"25px",p:0,m:1,boxShadow:"0 0 4px rgba(0, 0, 0, .6)"},s),g=Object(v.jsx)(f.b,Object(h.a)(Object(h.a)({},d),{},{sx:j,children:l}));switch(a){case"none":return g;case"panel":return Object(v.jsx)(P,Object(h.a)(Object(h.a)({},d),{},{sx:p,children:l}));case"button":return Object(v.jsx)(D,Object(h.a)({children:l,buttonOptions:c,sx:O},d));default:return g}},T=Object(i.createContext)({});var E=function(e){return!!(e&&Object.keys(e).length>0)&&!!(e.style&&Object.keys(e.style).length>0)},F=n(74),I=n.n(F),W=n(49),J=n.n(W),A=n(75),B=n.n(A),H=1e8,X=["baseType","buttonOptions","sx"],V=new(function(){function e(){Object(c.a)(this,e),this.reader=new FileReader,this.reader.onload=this.handleFile.bind(this)}return Object(l.a)(e,[{key:"load",value:function(e,t){if(!e)throw new Error("File Required");if(!t)throw new Error("Callback Required");this.cb=t,this.file=e,this.fileExt=this.getExtension(),this.fileDetails={fileSize:this.file.size,fileName:this.file.name,fileExt:this.fileExt},this.file.size>=H?t({error:"File must be less than 20mb",fileDetails:this.fileDetails}):"zip"===this.fileExt.toLowerCase()?this.reader.readAsArrayBuffer(this.file):this.reader.readAsText(this.file,"UTF-8")}},{key:"getExtension",value:function(){var e=this.file.name.split(".");return e[e.length-1]}},{key:"handleFile",value:function(e){switch(this.fileExt.toLowerCase()){case"csv":this.handleCSV(e);break;case"kml":this.handleKML(e);break;case"geojson":case"json":this.handleJSON(e);break;case"gpx":this.handleGPX(e);break;case"zip":this.handleSHP(e);break;default:this.notRecognized()}}},{key:"handleJSON",value:function(e){try{this.handleGeoJSON(e)}catch(t){this.cb({error:"Problem parsing JSON (".concat(t.toString(),")"),fileDetails:this.fileDetails})}}},{key:"handleCSV",value:function(e){var t,n,i=this,o=["y","lat","latitude"],r=["x","lng","lon","long","longitude"],a=e.target.result;if(a.split("\n")[0].split(",").forEach((function(e){-1!==o.indexOf(e.toLowerCase().trim())&&(t=e.trim()),-1!==r.indexOf(e.toLowerCase().trim())&&(n=e.trim())})),!n||!t)throw new Error("no latitude (y, lat, latitude) or longitude (x, lng, long, longitude) field found");I.a.csv2geojson(a,{latfield:t,lonfield:n},(function(e,t){if(e)throw e;i.cb(i.fileDetails,t)}))}},{key:"handleKML",value:function(e){var t=(new window.DOMParser).parseFromString(e.target.result,"application/xml"),n=J.a.kml(t,{style:!0});this.cb(this.fileDetails,n)}},{key:"handleGeoJSON",value:function(e){this.cb(this.fileDetails,JSON.parse(e.target.result))}},{key:"handleGPX",value:function(e){var t=(new window.DOMParser).parseFromString(e.target.result,"application/xml"),n=J.a.gpx(t);this.cb(this.fileDetails,n)}},{key:"handleSHP",value:function(e){var t=B.a.parseZip(e.target.result);this.cb(this.fileDetails,t)}},{key:"notRecognized",value:function(){console.log("sorry, i didnt recognize this format"),this.cb({error:"File format ".concat(this.fileExt," not recognized."),fileDetails:this.fileDetails})}}]),e}()),G=function(e){var t=e.baseType,n=e.buttonOptions,o=e.sx,r=Object(x.a)(e,X),a=Object(i.useContext)(T).map,c=Object(i.useState)("file"),l=Object(p.a)(c,2),s=l[0],d=l[1],u=Object(i.useState)([]),b=Object(p.a)(u,2),y=b[0],k=b[1],S=function(e,t){if(t&&e){var n=e.fileName;a.addSource(n,{type:"geojson",data:t}),function(e,t){function n(e){var t;switch(e){case"Point":case"MultiPoint":t="circle";break;case"LineString":case"MultiLineString":t="line";break;case"Polygon":case"MultiPolygon":t="fill";break;default:return""}return t}function i(e){var t;switch(e){case"Point":case"MultiPoint":t={"circle-radius":6,"circle-color":"#B42222","circle-opacity":.6};break;case"LineString":case"MultiLineString":t={"line-color":"#888","line-width":8};break;case"Polygon":case"MultiPolygon":t={"fill-color":"#088","fill-opacity":.8};break;default:return null}return t}function o(e){var t;switch(e){case"Point":case"MultiPoint":t=["==","$type","Point"];break;case"LineString":case"MultiLineString":t=["==","$type","LineString"];break;case"Polygon":case"MultiPolygon":t=["==","$type","Polygon"];break;default:return null}return t}var r=[];t.features.map((function(e){-1===r.indexOf(e.geometry.type)&&r.push(e.geometry.type)})),r.forEach((function(t){var r="".concat(e,"-").concat(t);a.addLayer({id:r,type:n(t),source:e,paint:i(t),filter:o(t),layout:{visibility:"visible"}}),k([].concat(Object(j.a)(y),[r]))}))}(n,t),function(e){var t=Object(O.a)(e);a.fitBounds(t)}(t)}},C=function(){return Object(v.jsxs)(f.g,{sx:{justifyContent:"center",paddingBottom:"0.5rem"},children:[Object(v.jsx)(f.c,{sx:{width:"50%",bg:"transparent",color:"text",borderStyle:"solid",borderRadius:0,borderTopWidth:0,borderLeftWidth:0,borderRightWidth:".5px",borderBottomWidth:"0.5px",boxShadow:"none",":hover":{bg:"primary",color:"background"}},onClick:function(){d("file")},children:"File"}),Object(v.jsx)(f.c,{sx:{width:"50%",bg:"transparent",color:"text",borderStyle:"solid",borderRadius:0,borderTopWidth:0,borderRightWidth:0,borderBottomWidth:"0.5px",boxShadow:"none",":hover":{bg:"primary",color:"background"}},onClick:function(){d("url")},children:"URL"})]})},L=function(){return Object(v.jsx)(f.b,{sx:{textAlign:"center",marginTop:"0.5rem"},children:Object(v.jsx)(f.g,{sx:{justifyContent:"flex-end"},children:Object(v.jsx)(f.c,{sx:{fontSize:0,textDecoration:"underline",color:"primary",backgroundColor:"background",":hover":{backgroundColor:"background"}},onClick:function(e){e.preventDefault(),d("layers")},children:"Manage Layers"})})})},z=function(){var e=[".geojson",".kml",".gpx",".csv",".zip (shp)"];return Object(v.jsxs)("div",{children:[Object(v.jsx)(f.b,{sx:{textAlign:"center"},children:function(){var t=e.join(", ");return Object(v.jsxs)(f.b,{children:[Object(v.jsx)(f.k,{sx:{fontSize:0},children:"Supported File Extensions:"}),Object(v.jsx)(f.k,{sx:{fontSize:0},children:t}),Object(v.jsx)(f.h,{sx:{textAlign:"center",paddingTop:1,marginTop:2,border:"none",">button":{boxShadow:"none"}},type:"file",className:"file-upload",onChange:function(e){!function(e){try{V.load(e.target.files[0],S)}catch(t){console.warn(t)}}(e)}})]})}()}),Object(v.jsx)(L,{})]})},P=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(f.h,{placeholder:"Paste URL Here"}),Object(v.jsx)(f.c,{css:{marginTop:"0.5rem"},children:"Add Layer"}),Object(v.jsx)(L,{})]})},N=function(){return Object(v.jsxs)("div",{styles:{width:"100%"},children:[Object(v.jsx)(C,{}),"file"===s?Object(v.jsx)(z,{}):Object(v.jsx)(P,{})]})},D=function(){return Object(v.jsxs)("div",{style:{width:"100%"},children:[Object(v.jsx)(f.c,{sx:{fontSize:0,textDecoration:"underline",color:"primary",backgroundColor:"background",":hover":{backgroundColor:"background"}},onClick:function(e){e.preventDefault(),d("file")},children:"<< Back"}),Object(v.jsx)(f.b,{sx:{marginTop:"0.5rem"},content:Object(v.jsx)(w,{children:function(){var e=function(e){return"none"!==a.getLayoutProperty(e,"visibility")};return y.map((function(t,n){return Object(v.jsxs)(m,{children:[" ",Object(v.jsxs)(f.i,{children:[Object(v.jsx)(f.e,{onChange:function(){!function(t){e(t)?a.setLayoutProperty(t,"visibility","none"):a.setLayoutProperty(t,"visibility","visible")}(t)},defaultChecked:e(t)}),Object(v.jsx)(f.k,{pt:1,children:t})]})]},"".concat(t,"-").concat(n))}))}()})})]})},M=function(){return Object(v.jsx)("div",{style:{width:"100%"},children:"layers"===s?Object(v.jsx)(D,{}):Object(v.jsx)(N,{})})};return E(a)?Object(v.jsx)(R,Object(h.a)(Object(h.a)({baseType:t,buttonOptions:Object(h.a)({icon:Object(v.jsx)(g.a,{}),title:"Add Data",testId:"add-data-btn"},n),sx:o},r),{},{children:Object(v.jsx)(M,{})})):null},Y=function(e){var t=e.message,n=Object(i.useState)(!0),o=Object(p.a)(n,2),r=o[0],a=o[1];return r?Object(v.jsx)(f.a,{variant:"modal",children:Object(v.jsxs)(f.g,{sx:{flexDirection:"column"},children:[Object(v.jsx)(f.g,{sx:{width:"100%",position:"relative"},children:Object(v.jsx)("p",{style:{padding:1},children:t})}),Object(v.jsx)(f.g,{sx:{justifyContent:"flex-end"},children:Object(v.jsx)(f.c,{variant:"secondary",onClick:function(){a(!1)},children:"OK"})})]})}):null},K=["mapOptions","mapLayers","supportMessage","sx"],Z=function(e){var t,n=e.mapOptions,o=e.mapLayers,r=e.supportMessage,a=e.sx,c=Object(x.a)(e,K),l=Object(i.useContext)(T).setMap;return Object(i.useEffect)((function(){var e;t=new b.a.Map(n),l(t),(e=o)&&t.on("load",(function(){e.forEach((function(e){t.addLayer(e)}))}))}),[]),b.a.supported()?Object(v.jsx)(f.b,Object(h.a)(Object(h.a)({},c),{},{sx:Object(h.a)({width:"100vw",height:"100vh"},a),ref:function(e){n.container=e},className:"cl-map-container"})):Object(v.jsx)(Y,{message:r||"WARNING! Your browser does not currently support this application, which requires MapboxGL. \n    Please ensure you are using the latest version of Chrome, Firefox, or Edge.\n    Additionally, check https://get.webgl.org/ for compatibility with your system."})},q=n(77),U=function(e){var t=e.name,n=e.item,i=e.defaultChecked,o=e.checkedChanged;return Object(v.jsxs)(f.i,Object(h.a)(Object(h.a)({className:"cl-radio-group-item"},e),{},{sx:{fontSize:"12px",marginRight:"2px",">span":{paddingTop:"3px"}},children:[Object(v.jsx)(f.j,{color:"primary",name:t,id:n.name,value:n.value,defaultChecked:i,sx:{"input:checked ~ &":{color:"primary"},"input:focus ~ &":{bg:"highlight"}},onChange:function(e){return o(e,n)}}),Object(v.jsx)("span",{children:n.label})]}))},$=function(e){var t=e.children,n=e.items,i=e.name,o=e.checkedValueChange,r={bg:"transparent",color:"primary",display:"flex",padding:0};return y(t)?Object(v.jsx)(f.b,Object(h.a)(Object(h.a)({},e),{},{className:"cl-radio-group",sx:r,children:t})):Object(v.jsx)(f.b,Object(h.a)(Object(h.a)({},e),{},{className:"cl-radio-group",sx:r,children:n.map((function(e){return Object(v.jsx)(U,{name:i,item:e,defaultChecked:e.checked,checkedChanged:o},e.value)}))}))},Q=["buttons","sx","children"],_=function(e){var t,n=e.buttons,i=e.sx,o=e.children,r=Object(x.a)(e,Q);return t=n||o,Object(v.jsx)(f.g,Object(h.a)(Object(h.a)({alignItems:"center"},r),{},{className:"cl-button-group",sx:Object(h.a)(Object(h.a)({},i),{},{"> button":{height:"32px",borderRadius:0,borderWidth:"0.25px",borderColor:"muted",borderStyle:"solid",":first-of-type":{borderTopLeftRadius:"default",borderBottomLeftRadius:"default",borderWidth:"0.5px",borderColor:"muted",borderStyle:"solid"},":last-child":{borderTopRightRadius:"default",borderBottomRightRadius:"default",borderWidth:"0.5px",borderColor:"muted",borderStyle:"solid"}}}),children:t}))},ee=["switcherStyle","basemaps","preserveLayers","baseType","buttonOptions","sx"],te=function(e){var t=e.switcherStyle,n=e.basemaps,o=e.preserveLayers,r=e.baseType,a=e.buttonOptions,c=e.sx,l=Object(x.a)(e,ee),s=Object(i.useState)(n?n[0].value:"light-v10"),d=Object(p.a)(s,2),u=d[0],b=d[1],j=Object(i.useContext)(T).map,O=Object(i.useRef)(!1),g=function(e,t){b(t.value)};Object(i.useEffect)((function(){O.current?j.setStyle("mapbox://styles/mapbox/".concat(u)):O.current=!0}),[u]),Object(i.useEffect)((function(){E(j)&&j.on("load",(function(){j.setStyle("mapbox://styles/mapbox/".concat(u)),j.on("styledata",(function(){!function e(){if(j.isStyleLoaded())for(var t=0;t<(null===o||void 0===o?void 0:o.length);t+=1){var n=o[t];j.getSource(n.layer.source)||(j.addSource(n.layer.source,n.source),j.addLayer(n.layer))}else setTimeout(e,200)}()}))}))}),[j]);var m,y=n||[{name:"Light",key:"Light",label:"Light",value:"light-v10",checked:!0},{name:"Dark",key:"Dark",label:"Dark",value:"dark-v10"},{name:"satellite",key:"satellite",label:"Satellite",value:"satellite-streets-v9"}];switch(t){case"radio":m=Object(v.jsx)($,{items:y,name:"basemaps",checkedValueChange:g});break;case"buttons":var k=y.map((function(e){return Object(v.jsx)(f.c,{onClick:function(t){return g(0,e)},children:e.label},e.label)}));m=Object(v.jsx)(_,{buttons:k});break;default:m=Object(v.jsx)($,{items:y,name:"basemaps",checkedValueChange:g})}return Object(v.jsx)(R,Object(h.a)(Object(h.a)({baseType:r,buttonOptions:Object(h.a)({icon:Object(v.jsx)(q.a,{}),title:"Basemap Switcher",testId:"cl-basemap-btn"},a)},l),{},{sx:c,className:"cl-basemap-switcher",children:m}))},ne={container:"map",style:"mapbox://styles/mapbox/streets-v11",bounds:[[-96.1642,29.7381],[-95.3841,29.8781]],center:[-95.7742,29.80814],zoom:10,accessToken:"pk.eyJ1IjoiZWxrYWxvbmFyaXMiLCJhIjoiY2twbXExOHcwMDg3ZzJvbnc0dXhyOWszOSJ9.AetSK7t4L_aaFVsCuNQmHg"},ie=n(157),oe=function(e){var t=e.children,n=e.context,o=e.theme,r=e.mapOverride,a=n||T,c=a.Provider||a,l=Object(i.useState)(null),s=Object(p.a)(l,2),d=s[0],u={map:r||d,setMap:s[1]},b=Object(v.jsx)(ie.a,{theme:o||{},children:t});return Object(v.jsx)(c,{value:u,children:b})};b.a.accessToken="pk.eyJ1IjoiZWxrYWxvbmFyaXMiLCJhIjoiY2twbXExOHcwMDg3ZzJvbnc0dXhyOWszOSJ9.AetSK7t4L_aaFVsCuNQmHg";var re=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsxs)(oe,{children:[Object(v.jsx)(te,{}),Object(v.jsx)(Z,{mapOptions:ne}),Object(v.jsx)(G,{})]})}}]),n}(i.Component);a.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(re,{})}),document.getElementById("root"))},87:function(e,t,n){}},[[153,1,2]]]);
//# sourceMappingURL=main.ff8f007b.chunk.js.map