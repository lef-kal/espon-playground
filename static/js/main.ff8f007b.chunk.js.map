{"version":3,"sources":["components/_primitives/ListItem.js","util/childrenExist.js","components/_primitives/List.js","components/_common/PanelComponent.js","components/_common/ButtonComponent.js","components/_common/BaseComponent.js","DefaultContext.js","util/mapExists.js","components/AddData/importer/index.js","components/AddData/AddData.js","components/_common/AlertModal.js","components/Map/Map.js","components/_primitives/RadioGroupItem.js","components/_primitives/RadioGroup.js","components/_primitives/ButtonGroup.js","components/BasemapSwitcher/BasemapSwitcher.js","util/mockMapOptions.js","config.js","components/_common/ElementsProvider.js","App.js","index.js"],"names":["ListItem","props","children","selectable","sx","style","padding","cursor","bg","color","as","childrenExist","undefined","isNaN","Array","isArray","length","List","items","rest","listStyleType","className","map","item","PanelComponent","closable","onClose","theme","useThemeUI","width","borderRadius","boxShadow","paddingTop","justifyContent","marginRight","space","height","onClick","ButtonComponent","buttonOptions","ref","useRef","triggerRect","useRect","useState","showPanel","setShowPanel","title","testId","variant","intercept","err","console","error","icon","zIndex","targetRef","position","left","right","top","window","scrollY","fontFamily","BaseComponent","baseType","open","topPos","leftPos","bottom","baseStyle","panelStyle","buttonStyle","minWidth","minHeight","p","m","defaultType","DefaultContext","createContext","mapExists","Object","keys","config","importer","this","reader","FileReader","onload","handleFile","bind","file","cb","Error","fileExt","getExtension","fileDetails","fileSize","size","fileName","name","toLowerCase","readAsArrayBuffer","readAsText","fArr","split","evt","handleCSV","handleKML","handleJSON","handleGPX","handleSHP","notRecognized","handleGeoJSON","toString","latitude","longitude","latitudes","longitudes","csv","target","result","forEach","column","indexOf","trim","csv2geojson","latfield","lonfield","data","xml","DOMParser","parseFromString","geojson","togeojson","kml","JSON","parse","gpx","shpjs","parseZip","log","AddData","useContext","Context","tab","setTab","tmpLayers","setTmpLayers","addMapSource","sourceId","addSource","type","setType","geomType","setPaint","paint","setFilter","filter","geomTypes","features","feature","geometry","push","layerId","addLayer","id","source","layout","visibility","bounds","bbox","fitBounds","zoomToLayer","Tabs","paddingBottom","borderStyle","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","ManageLayers","textAlign","marginTop","fontSize","textDecoration","backgroundColor","e","preventDefault","FileBody","supportedFileExt","subtitle","join","border","onChange","load","files","warn","loadFile","supported","UrlBody","placeholder","css","TabBody","styles","LayerBody","content","isVisible","getLayoutProperty","i","setLayoutProperty","handleChange","defaultChecked","pt","Body","AlertModal","message","show","setShow","flexDirection","Map","mapOptions","mapLayers","supportMessage","setMap","useEffect","layers","mapboxgl","on","l","el","container","RadioGroupItem","checkedChanged","value","label","RadioGroup","checkedValueChange","display","checked","ButtonGroup","buttons","alignItems","borderWidth","borderColor","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","BasemapSwitcher","switcherStyle","basemaps","preserveLayers","basemapValue","setBasemapValue","didMountRef","current","setStyle","waiting","isStyleLoaded","getSource","layer","setTimeout","switcher","basemapOptions","key","center","zoom","accessToken","ElementsProvider","context","mapOverride","ctx","ContextProvider","Provider","provider","App","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ff8f007b.chunk.js","sourcesContent":["import React from 'react';\nimport { Box } from 'theme-ui';\n\nconst ListItem = props => {\n  const { children, selectable, sx } = props;\n\n  const style = selectable\n    ? {\n        padding: 2,\n        ':hover': {\n          cursor: 'pointer',\n          bg: 'primary',\n          color: 'background'\n        },\n        ...sx\n      }\n    : { padding: 2, ...sx };\n\n  return (\n    <Box {...props} as=\"li\" sx={style}>\n      {children}\n    </Box>\n  );\n};\n\nexport default ListItem;\n","/**\n * Tests if children exist in React.\n * @param {Object} children The children prop of a component.\n * @returns {Boolean}\n */\n\nconst childrenExist = (children) => {\n  if (children === null || children === undefined) return false;\n  // eslint-disable-next-line no-restricted-globals\n  if (typeof children === 'number') return !isNaN(children);\n\n  if (Array.isArray(children)) return children.length > 0;\n\n  return !!children;\n};\n\nexport default childrenExist;\n","import React from 'react';\nimport { Box } from 'theme-ui';\nimport ListItem from \"./ListItem\";\nimport childrenExist from '../../util/childrenExist';\n\nconst List = ({ items, children, sx, ...rest }) => {\n  const style = { listStyleType: 'none', padding: 1, ...sx };\n\n  if (childrenExist(children)) {\n    return (\n      <Box {...rest} as=\"ul\" className=\"cl-list\" sx={style}>\n        {children}\n      </Box>\n    );\n  }\n\n  if (items && items.length > 0) {\n    return (\n      <Box {...rest} as=\"ul\" className=\"cl-list\" sx={style}>\n        {items.map(item => (\n          <ListItem>{item}</ListItem>\n        ))}\n      </Box>\n    );\n  } \n    return false;\n  \n};\n\nexport default List;\n","import React from 'react';\nimport { Card, Close, Flex, useThemeUI } from 'theme-ui';\n\nconst PanelComponent = ({ closable, onClose, sx, children, ...rest }) => {\n  const { theme } = useThemeUI();\n\n  return (\n    <Card\n      className=\"cl-panel-component\"\n      color=\"text\"\n      sx={{\n        padding: 3,\n        width: '300px',\n        borderRadius: '4px',\n        boxShadow: '0 0 4px rgba(0, 0, 0, .6)',\n        bg: 'background',\n        ...sx,\n        paddingTop: closable ? 0 : 3\n        // paddingRight: closable ? 0 : 3\n      }}\n      {...rest}\n    >\n      {closable && (\n        <Flex\n          sx={{\n            justifyContent: 'flex-end',\n            marginRight: `-${theme.space ? theme.space[3] : 16}px`\n          }}\n        >\n          <Close\n            sx={{\n              color: 'text',\n              height: '24px',\n              width: '24px',\n              ':hover': { cursor: 'pointer' }\n            }}\n            onClick={onClose}\n          />\n        </Flex>\n      )}\n      {children}\n    </Card>\n  );\n};\n\nexport default PanelComponent;\n","import Popover from '@reach/popover';\nimport { useRect } from '@reach/rect';\nimport React, { useRef, useState } from 'react';\nimport { Button } from 'theme-ui';\nimport Panel from './PanelComponent';\n\nconst ButtonComponent = ({ children, buttonOptions, sx, ...rest }) => {\n  const ref = useRef(null);\n  const triggerRect = useRect(ref);\n  const [showPanel, setShowPanel] = useState(false);\n  return (\n    <>\n      <Button\n        ref={ref}\n        title={buttonOptions?.title}\n        className={rest?.className ?? 'cl-btn'}\n        data-testid={buttonOptions?.testId ?? 'cl-btn'}\n        variant={buttonOptions?.variant ?? 'primary'}\n        onClick={() => {\n          if (buttonOptions?.intercept) {\n            try {\n              buttonOptions.intercept();\n            } catch (err) {\n              // eslint-disable-next-line no-console\n              console.error(err);\n            }\n          } else {\n            setShowPanel(!showPanel);\n          }\n        }}\n        sx={{\n          ...sx\n        }}\n      >\n        {buttonOptions?.icon}\n      </Button>\n\n      {showPanel && (\n        <Popover\n        style={{zIndex: sx.zIndex || 2}}\n          targetRef={ref}\n          position={() => ({\n            left: triggerRect?.right + 10,\n            top: triggerRect?.top + window.scrollY\n          })}\n        >\n          <Panel\n            closable\n            onClose={() => setShowPanel(false)}\n            sx={{\n              fontFamily: 'body',\n\n              // bg: 'transparent'\n            }}\n          >\n            {children}\n          </Panel>\n        </Popover>\n      )}\n    </>\n  );\n};\n\nexport default ButtonComponent;\n","// Base Component to give structure to all other major components\n\nimport React from 'react';\nimport { Box } from 'theme-ui';\nimport ButtonComponent from './ButtonComponent';\nimport Panel from './PanelComponent';\n\nconst BaseComponent = ({\n  baseType, // 'none', 'panel', 'button'\n  buttonOptions, // optional\n  children,\n  open,\n  sx,\n  ...rest\n}) => {\n  let topPos = sx?.top ?? '1rem';\n  let leftPos = sx?.left ?? '1rem';\n\n  if (sx?.bottom) {\n    topPos = null;\n  }\n\n  if (sx?.right) {\n    leftPos = null;\n  }\n\n  const baseStyle = {\n    fontFamily: 'body',\n    bg: 'transparent',\n    position: sx?.position || 'absolute',\n    top: topPos,\n    left: leftPos,\n    bottom: sx?.bottom,\n    right: sx?.right,\n    zIndex: sx?.zIndex ?? 2,\n    ...sx\n  };\n\n  const panelStyle = {\n    fontFamily: 'body',\n    bg: 'background',\n    position: sx?.position || 'absolute',\n    top: topPos,\n    left: leftPos,\n    bottom: sx?.bottom,\n    right: sx?.right,\n    zIndex: sx?.zIndex ?? 2,\n    ...sx\n  };\n\n  const buttonStyle = {\n    fontFamily: 'body',\n    bg: sx?.bg || 'primary',\n    position: sx?.position || 'absolute',\n    top: topPos,\n    left: leftPos,\n    bottom: sx?.bottom,\n    right: sx?.right,\n    zIndex: sx?.zIndex ?? 2,\n    width: '32px',\n    height: '32px',\n    minWidth: '25px',\n    minHeight: '25px',\n    p: 0,\n    m: 1,\n    boxShadow: '0 0 4px rgba(0, 0, 0, .6)',\n    ...sx\n  };\n\n  const defaultType = (\n    <Box {...rest} sx={baseStyle}>\n      {children}\n    </Box>\n  );\n\n  switch (baseType) {\n    case 'none':\n      return defaultType;\n    case 'panel':\n      return (\n        <Panel {...rest} sx={panelStyle}>\n          {children}\n        </Panel>\n      );\n    case 'button':\n      return (\n        <ButtonComponent\n          // eslint-disable-next-line react/no-children-prop\n          children={children}\n          buttonOptions={buttonOptions}\n          sx={buttonStyle}\n          {...rest}\n        />\n      );\n    default:\n      return defaultType;\n  }\n};\n\nexport default BaseComponent;\n","import { createContext } from 'react';\n\nconst DefaultContext = createContext({});\n\nexport default DefaultContext;\n","function mapExists(map) {\n  if (map && Object.keys(map).length > 0) {\n    if (map.style && Object.keys(map.style).length > 0) {\n      return true;\n    } \n      return false;\n    \n  } \n    return false;\n  \n}\n\nexport default mapExists;\n","// @description Load various file format\n// returns GeoJSON\nimport csv2geojson from 'csv2geojson'; // csv\nimport togeojson from '@mapbox/togeojson'; // kml, gpx\nimport shpjs from 'shpjs'; // zipped shapefile\n\nconst config = {\n  maxFileSize: 10e7 // in bytes, 100 mb\n};\n\nclass Importer {\n  constructor() {\n    this.reader = new FileReader();\n    this.reader.onload = this.handleFile.bind(this);\n  }\n\n  load(file, cb) {\n    if (!file) throw new Error('File Required');\n    if (!cb) throw new Error('Callback Required');\n    this.cb = cb;\n    this.file = file;\n    this.fileExt = this.getExtension();\n    this.fileDetails = {\n      fileSize: this.file.size,\n      fileName: this.file.name,\n      fileExt: this.fileExt\n    };\n    if (this.file.size >= config.maxFileSize) {\n      cb({\n        error: 'File must be less than 20mb',\n        fileDetails: this.fileDetails\n      });\n    } else if (this.fileExt.toLowerCase() === 'zip') {\n      this.reader.readAsArrayBuffer(this.file);\n    } else {\n      this.reader.readAsText(this.file, 'UTF-8');\n    }\n  }\n\n  getExtension() {\n    const fArr = this.file.name.split('.');\n    return fArr[fArr.length - 1];\n  }\n\n  handleFile(evt) {\n    switch (this.fileExt.toLowerCase()) {\n      case 'csv':\n        this.handleCSV(evt);\n        break;\n      case 'kml':\n        this.handleKML(evt);\n        break;\n      // case 'topojson':\n      case 'geojson':\n      case 'json':\n        this.handleJSON(evt);\n        break;\n      case 'gpx':\n        this.handleGPX(evt);\n        break;\n      // case 'igc':\n      //   this.handleIGC(evt);\n      //   break;\n      case 'zip':\n        this.handleSHP(evt);\n        break;\n      default:\n        this.notRecognized();\n        break;\n    }\n  }\n\n  handleJSON(evt) {\n    try {\n      /* const res = JSON.parse(evt.target.result);\n             if (res.type && res.type.toLowerCase() === 'topology') {\n        this.handleTopoJSON(evt);\n      } else {\n        this.handleGeoJSON(evt);\n      } */\n      this.handleGeoJSON(evt);\n    } catch (err) {\n      this.cb({\n        error: `Problem parsing JSON (${err.toString()})`,\n        fileDetails: this.fileDetails\n      });\n    }\n  }\n\n  handleCSV(evt) {\n    const latitudes = ['y', 'lat', 'latitude'];\n    const longitudes = ['x', 'lng', 'lon', 'long', 'longitude'];\n    let latitude;\n    let longitude;\n    const csv = evt.target.result;\n    const header = csv.split('\\n')[0].split(',');\n    header.forEach((column) => {\n      if (latitudes.indexOf(column.toLowerCase().trim()) !== -1) {\n        latitude = column.trim();\n      }\n      if (longitudes.indexOf(column.toLowerCase().trim()) !== -1) {\n        longitude = column.trim();\n      }\n    });\n    if (!longitude || !latitude) {\n      throw new Error(\n        'no latitude (y, lat, latitude) or longitude (x, lng, long, longitude) field found'\n      );\n    }\n    csv2geojson.csv2geojson(\n      csv,\n      {\n        latfield: latitude,\n        lonfield: longitude\n      },\n      (err, data) => {\n        if (err) throw err;\n        this.cb(this.fileDetails, data);\n      }\n    );\n  }\n\n  handleKML(evt) {\n    const xml = new window.DOMParser().parseFromString(\n      evt.target.result,\n      'application/xml'\n    );\n    const geojson = togeojson.kml(xml, { style: true });\n    this.cb(this.fileDetails, geojson);\n  }\n\n  handleGeoJSON(evt) {\n    this.cb(this.fileDetails, JSON.parse(evt.target.result));\n  }\n\n  // handleTopoJSON(evt) {\n  //   console.log('handle as topojson');\n  // }\n\n  handleGPX(evt) {\n    const xml = new window.DOMParser().parseFromString(\n      evt.target.result,\n      'application/xml'\n    );\n    const geojson = togeojson.gpx(xml);\n    this.cb(this.fileDetails, geojson);\n  }\n\n  // handleIGC(evt) {\n  //   console.log('handle as igc');\n  // }\n\n  handleSHP(evt) {\n    const geojson = shpjs.parseZip(evt.target.result);\n    this.cb(this.fileDetails, geojson);\n  }\n\n  notRecognized() {\n    // eslint-disable-next-line no-console\n    console.log('sorry, i didnt recognize this format');\n    this.cb({\n      error: `File format ${this.fileExt} not recognized.`,\n      fileDetails: this.fileDetails\n    });\n  }\n}\n\nexport default Importer;\n","import React, { useContext, useState } from 'react';\nimport {\n  Button,\n  Flex,\n  Box,\n  // Link,\n  Text,\n  Input,\n  Checkbox,\n  Label\n} from 'theme-ui';\nimport bbox from '@turf/bbox';\nimport { MdLibraryAdd } from 'react-icons/md';\nimport List from '../_primitives/List';\nimport ListItem from '../_primitives/ListItem';\nimport BaseComponent from '../_common/BaseComponent';\nimport Context from '../../DefaultContext';\nimport mapExists from '../../util/mapExists';\nimport Importer from './importer/index';\n\nconst importer = new Importer();\n\nconst AddData = ({ baseType, buttonOptions, sx, ...rest }) => {\n  const config = useContext(Context);\n  const { map } = config;\n\n  // state\n  const [tab, setTab] = useState('file'); // file, url, layers\n  const [tmpLayers, setTmpLayers] = useState([]); // added layers\n  // const [file, setFile] = useState(null); // file to upload\n\n  const addLayer = (sourceId, geojson) => {\n    // add multiple layers based on source geometry\n    // Point, MultiPoint\n    // LineString, MultiLineString\n    // Polygon, MultiPolygon\n\n    function setType(geomType) {\n      let type;\n      switch (geomType) {\n        case 'Point':\n        case 'MultiPoint':\n          type = 'circle';\n          break;\n        case 'LineString':\n        case 'MultiLineString':\n          type = 'line';\n          break;\n        case 'Polygon':\n        case 'MultiPolygon':\n          type = 'fill';\n          break;\n        default:\n          return '';\n      }\n      return type;\n    }\n\n    function setPaint(geomType) {\n      let paint;\n      switch (geomType) {\n        case 'Point':\n        case 'MultiPoint':\n          paint = {\n            'circle-radius': 6,\n            'circle-color': '#B42222',\n            'circle-opacity': 0.6\n          };\n          break;\n\n        case 'LineString':\n        case 'MultiLineString':\n          paint = {\n            'line-color': '#888',\n            'line-width': 8\n          };\n          break;\n\n        case 'Polygon':\n        case 'MultiPolygon':\n          paint = {\n            'fill-color': '#088',\n            'fill-opacity': 0.8\n          };\n          break;\n        default:\n          return null;\n      }\n      return paint;\n    }\n\n    function setFilter(geomType) {\n      let filter;\n      switch (geomType) {\n        case 'Point':\n        case 'MultiPoint':\n          filter = ['==', '$type', 'Point'];\n          break;\n        case 'LineString':\n        case 'MultiLineString':\n          filter = ['==', '$type', 'LineString'];\n          break;\n        case 'Polygon':\n        case 'MultiPolygon':\n          filter = ['==', '$type', 'Polygon'];\n          break;\n        default:\n          return null;\n      }\n      return filter;\n    }\n    const geomTypes = [];\n    /* eslint-disable array-callback-return */\n    geojson.features.map((feature) => {\n      if (geomTypes.indexOf(feature.geometry.type) === -1)\n        geomTypes.push(feature.geometry.type);\n    });\n    /* eslint-enable array-callback-return */\n\n    geomTypes.forEach((type) => {\n      const layerId = `${sourceId}-${type}`;\n      map.addLayer({\n        id: layerId,\n        type: setType(type),\n        source: sourceId,\n        paint: setPaint(type),\n        filter: setFilter(type),\n        layout: {\n          visibility: 'visible'\n        }\n      });\n      setTmpLayers([...tmpLayers, layerId]);\n    });\n  };\n\n  const zoomToLayer = (geojson) => {\n    const bounds = bbox(geojson);\n    map.fitBounds(bounds);\n  };\n\n  const addMapSource = (fileDetails, geojson) => {\n    if (!geojson || !fileDetails) return;\n    const sourceId = fileDetails.fileName;\n    map.addSource(sourceId, {\n      type: 'geojson',\n      data: geojson\n    });\n    addLayer(sourceId, geojson);\n    zoomToLayer(geojson);\n  };\n\n  const loadFile = (e) => {\n    try {\n      importer.load(e.target.files[0], addMapSource);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.warn(err);\n    }\n  };\n\n  const Tabs = () => {\n    return (\n      <Flex\n        sx={{\n          justifyContent: 'center',\n          paddingBottom: '0.5rem'\n        }}\n      >\n        <Button\n          sx={{\n            width: '50%',\n            bg: 'transparent',\n            color: 'text',\n            borderStyle: 'solid',\n            borderRadius: 0,\n            borderTopWidth: 0,\n            borderLeftWidth: 0,\n            borderRightWidth: '.5px',\n            borderBottomWidth: '0.5px',\n            boxShadow: 'none',\n            ':hover': {\n              bg: 'primary',\n              color: 'background'\n            }\n          }}\n          onClick={() => {\n            setTab('file');\n          }}\n        >\n          File\n        </Button>\n\n        <Button\n          sx={{\n            width: '50%',\n            bg: 'transparent',\n            color: 'text',\n            borderStyle: 'solid',\n            borderRadius: 0,\n            borderTopWidth: 0,\n            borderRightWidth: 0,\n            borderBottomWidth: '0.5px',\n            boxShadow: 'none',\n            ':hover': {\n              bg: 'primary',\n              color: 'background'\n            }\n          }}\n          onClick={() => {\n            setTab('url');\n          }}\n        >\n          URL\n        </Button>\n      </Flex>\n    );\n  };\n\n  const ManageLayers = () => {\n    const content = () => {\n      return (\n        <Flex sx={{ justifyContent: 'flex-end' }}>\n          <Button\n            sx={{\n              fontSize: 0,\n              textDecoration: 'underline',\n              color: 'primary',\n              backgroundColor: 'background',\n              ':hover': {\n                backgroundColor: 'background'\n              }\n            }}\n            onClick={(e) => {\n              e.preventDefault();\n              setTab('layers');\n            }}\n          >\n            Manage Layers\n          </Button>\n        </Flex>\n      );\n    };\n    return (\n      <Box\n        sx={{\n          textAlign: 'center',\n          marginTop: '0.5rem'\n        }}\n      >\n        {content()}\n      </Box>\n    );\n  };\n\n  const FileBody = () => {\n    const supportedFileExt = ['.geojson', '.kml', '.gpx', '.csv', '.zip (shp)'];\n    const supported = () => {\n      const title = 'Supported File Extensions:';\n      const subtitle = supportedFileExt.join(', ');\n      return (\n        <Box>\n          <Text sx={{ fontSize: 0 }}>{title}</Text>\n          <Text sx={{ fontSize: 0 }}>{subtitle}</Text>\n          <Input\n            sx={{\n              textAlign: 'center',\n              paddingTop: 1,\n              marginTop: 2,\n              border: 'none',\n              '>button': {\n                boxShadow: 'none'\n              }\n            }}\n            type=\"file\"\n            className=\"file-upload\"\n            onChange={(e) => {\n              loadFile(e);\n            }}\n          />\n          {/* <Flex sx={{ justifyContent: 'flex-end' }}>\n            <Button\n              onClick={e => {\n                loadFile(file);\n              }}\n              variant=\"outline\"\n            >\n              Add Data\n            </Button>\n          </Flex> */}\n        </Box>\n      );\n    };\n    return (\n      <div>\n        <Box\n          sx={{\n            textAlign: 'center'\n          }}\n        >\n          {supported()}\n        </Box>\n        <ManageLayers />\n      </div>\n    );\n  };\n\n  const UrlBody = () => {\n    return (\n      <div>\n        <Input /* fluid */ placeholder=\"Paste URL Here\" />\n        <Button\n          // mt={1}\n          /* fluid */\n          css={{ marginTop: '0.5rem' }}\n          /*           icon=\"files-upload\" */\n        >\n          Add Layer\n        </Button>\n        <ManageLayers />\n      </div>\n    );\n  };\n\n  const TabBody = () => {\n    return (\n      <div styles={{ width: '100%' }}>\n        <Tabs />\n        {tab === 'file' ? <FileBody /> : <UrlBody />}\n      </div>\n    );\n  };\n\n  const LayerBody = () => {\n    const items = () => {\n      const isVisible = (layerId) => {\n        const layerVisibility = map.getLayoutProperty(layerId, 'visibility');\n        const checked = layerVisibility !== 'none';\n        return checked;\n      };\n\n      const handleChange = (layerId) => {\n        const checked = isVisible(layerId);\n        if (checked) {\n          map.setLayoutProperty(layerId, 'visibility', 'none');\n        } else {\n          map.setLayoutProperty(layerId, 'visibility', 'visible');\n        }\n      };\n      return tmpLayers.map((layerId, i) => {\n        return (\n          <ListItem\n            // eslint-disable-next-line react/no-array-index-key\n            key={`${layerId}-${i}`}\n          >\n            {' '}\n            <Label>\n              <Checkbox\n                onChange={() => {\n                  handleChange(layerId);\n                }}\n                defaultChecked={isVisible(layerId)}\n              />\n              <Text pt={1}>{layerId}</Text>\n            </Label>\n          </ListItem>\n        );\n      });\n    };\n\n    return (\n      <div style={{ width: '100%' }}>\n        <Button\n          sx={{\n            fontSize: 0,\n            textDecoration: 'underline',\n            color: 'primary',\n            backgroundColor: 'background',\n            ':hover': {\n              backgroundColor: 'background'\n            }\n          }}\n          onClick={(e) => {\n            e.preventDefault();\n            setTab('file');\n          }}\n        >\n          &lt;&lt; Back\n        </Button>\n        <Box sx={{ marginTop: '0.5rem' }} content={<List>{items()}</List>} />\n      </div>\n    );\n  };\n\n  const Body = () => {\n    return (\n      <div style={{ width: '100%' }}>\n        {tab === 'layers' ? <LayerBody /> : <TabBody />}\n      </div>\n    );\n  };\n\n  if (!mapExists(map)) return null;\n\n  return (\n    <BaseComponent\n      baseType={baseType}\n      buttonOptions={{\n        icon: <MdLibraryAdd />,\n        title: 'Add Data',\n        testId: 'add-data-btn',\n        ...buttonOptions\n      }}\n      sx={sx}\n      {...rest}\n    >\n      <Body />\n    </BaseComponent>\n  );\n};\n\nexport default AddData;\n","import React, { useState } from 'react';\n\nimport { Alert, Button, Flex } from 'theme-ui';\n\nconst AlertModal = ({ message }) => {\n  const [show, setShow] = useState(true);\n\n  if (!show) return null;\n  return (\n    <Alert variant=\"modal\">\n      <Flex sx={{ flexDirection: 'column' }}>\n        <Flex sx={{ width: '100%', position: 'relative' }}>\n          <p style={{ padding: 1 }}>{message}</p>\n        </Flex>\n        <Flex sx={{ justifyContent: 'flex-end' }}>\n          <Button\n            variant=\"secondary\"\n            onClick={() => {\n              setShow(false);\n            }}\n          >\n            OK\n          </Button>\n        </Flex>\n      </Flex>\n    </Alert>\n  );\n};\n\nexport default AlertModal;\n","import React, { useEffect, useContext } from 'react';\nimport { Box } from 'theme-ui';\nimport mapboxgl from 'mapbox-gl';\nimport DefaultContext from '../../DefaultContext';\nimport AlertModal from '../_common/AlertModal';\n\nconst Map = ({ mapOptions, mapLayers, supportMessage, sx, ...rest }) => {\n  let map;\n  const config = useContext(DefaultContext);\n  const { setMap } = config;\n\n  const addLayers = (layers) => {\n    if (!layers) return;\n    map.on('load', () => {\n      layers.forEach((l) => {\n        map.addLayer(l);\n      });\n    });\n  };\n\n  useEffect(() => {\n    // init the map\n    map = new mapboxgl.Map(mapOptions);\n    setMap(map);\n\n    addLayers(mapLayers);\n  }, []);\n\n  if (!mapboxgl.supported()) {\n    return (\n      <AlertModal\n        message={\n          supportMessage ||\n          `WARNING! Your browser does not currently support this application, which requires MapboxGL. \n    Please ensure you are using the latest version of Chrome, Firefox, or Edge.\n    Additionally, check https://get.webgl.org/ for compatibility with your system.`\n        }\n      />\n    );\n  }\n\n  return (\n    <Box\n      {...rest}\n      sx={{ width: '100vw', height: '100vh', ...sx }}\n      ref={(el) => {\n        // eslint-disable-next-line no-param-reassign\n        mapOptions.container = el;\n      }}\n      className=\"cl-map-container\"\n    />\n  );\n};\n\nexport default Map;\n","import React from 'react';\nimport { Label, Radio } from 'theme-ui';\n\nconst RadioGroupItem = (props) => {\n  const { name, item, defaultChecked, checkedChanged } = props;\n\n  return (\n    <Label\n      className=\"cl-radio-group-item\"\n      {...props}\n      sx={{\n        // color: 'text',\n        fontSize: '12px',\n        marginRight: '2px',\n        '>span': {\n          paddingTop: '3px'\n        }\n      }}\n    >\n      <Radio\n        color=\"primary\"\n        name={name}\n        id={item.name}\n        value={item.value}\n        defaultChecked={defaultChecked}\n        sx={{\n          'input:checked ~ &': {\n            color: 'primary'\n          },\n          'input:focus ~ &': {\n            bg: 'highlight'\n          }\n        }}\n        onChange={(e) => checkedChanged(e, item)}\n      />\n      <span>{item.label}</span>\n    </Label>\n  );\n};\n\nexport default RadioGroupItem;\n","import React from 'react';\nimport { Box } from 'theme-ui';\nimport RadioGroupItem from './RadioGroupItem';\nimport childrenExist from '../../util/childrenExist';\n\n/**\n * @class RadioGroup\n * @param {Array} items\n * @param {String} name\n * @param {String} checkedValue\n * @param {Func} checkedValueChange\n */\n\nconst RadioGroup = (props) => {\n  const {\n    children,\n    items,\n    name,\n    /* checkedValue, */ checkedValueChange\n  } = props;\n  const style = {\n    bg: 'transparent',\n    color: 'primary',\n    display: 'flex',\n    padding: 0\n  };\n\n  if (childrenExist(children)) {\n    return (\n      <Box {...props} className=\"cl-radio-group\" sx={style}>\n        {children}\n      </Box>\n    );\n  }\n\n  return (\n    <Box {...props} className=\"cl-radio-group\" sx={style}>\n      {items.map((item) => {\n        return (\n          <RadioGroupItem\n            key={item.value}\n            name={name}\n            item={item}\n            defaultChecked={item.checked}\n            checkedChanged={checkedValueChange}\n          />\n        );\n      })}\n    </Box>\n  );\n};\n\nexport default RadioGroup;\n","import React from 'react';\nimport { Flex } from 'theme-ui';\n\nconst ButtonGroup = ({ buttons, sx, children, ...rest }) => {\n  let content;\n  if (buttons) {\n    content = buttons;\n  } else {\n    content = children;\n  }\n  return (\n    <Flex\n      alignItems=\"center\"\n      {...rest}\n      className=\"cl-button-group\"\n      sx={{\n        ...sx,\n        '> button': {\n          height: '32px',\n          borderRadius: 0,\n          borderWidth: '0.25px',\n          borderColor: 'muted',\n          borderStyle: 'solid',\n          ':first-of-type': {\n            borderTopLeftRadius: 'default',\n            borderBottomLeftRadius: 'default',\n            borderWidth: '0.5px',\n            borderColor: 'muted',\n            borderStyle: 'solid'\n          },\n          ':last-child': {\n            borderTopRightRadius: 'default',\n            borderBottomRightRadius: 'default',\n            borderWidth: '0.5px',\n            borderColor: 'muted',\n            borderStyle: 'solid'\n          }\n        }\n      }}\n    >\n      {content}\n    </Flex>\n  );\n};\n\nexport default ButtonGroup;\n","// BasemapSwitcher  Component for changing basemaps\n\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport { Button } from 'theme-ui';\nimport { FaMap } from 'react-icons/fa';\nimport DefaultContext from '../../DefaultContext';\nimport mapExists from '../../util/mapExists';\nimport RadioGroup from '../_primitives/RadioGroup';\nimport ButtonGroup from '../_primitives/ButtonGroup';\nimport BaseComponent from '../_common/BaseComponent';\n/**\n * @class BasemapSwitcher\n */\n\nconst BasemapSwitcher = ({\n  switcherStyle,\n  basemaps,\n  preserveLayers, // array of objects, each with 'source' and 'layer' properties. see https://bl.ocks.org/ryanbaumann/7f9a353d0a1ae898ce4e30f336200483/96bea34be408290c161589dcebe26e8ccfa132d7\n  baseType,\n  buttonOptions,\n  sx,\n  ...rest\n}) => {\n  const [basemapValue, setBasemapValue] = useState(\n    basemaps ? basemaps[0].value : 'light-v10'\n  );\n  const config = useContext(DefaultContext);\n  const { map } = config;\n\n  const didMountRef = useRef(false);\n\n  const handleChange = (e, props) => {\n    setBasemapValue(props.value);\n  };\n\n  useEffect(() => {\n    if (didMountRef.current) {\n      map.setStyle(`mapbox://styles/mapbox/${basemapValue}`);\n    } else {\n      didMountRef.current = true;\n    }\n  }, [basemapValue]);\n\n  useEffect(() => {\n    if (mapExists(map)) {\n      map.on('load', () => {\n        map.setStyle(`mapbox://styles/mapbox/${basemapValue}`);\n\n        map.on('styledata', () => {\n          const waiting = () => {\n            if (!map.isStyleLoaded()) {\n              setTimeout(waiting, 200);\n            } else {\n              for (let i = 0; i < preserveLayers?.length; i += 1) {\n                const p = preserveLayers[i];\n                if (!map.getSource(p.layer.source)) {\n                  map.addSource(p.layer.source, p.source);\n                  map.addLayer(p.layer);\n                }\n              }\n            }\n          };\n          waiting();\n        });\n      });\n    }\n  }, [map]);\n\n  const basemapOptions = basemaps || [\n    {\n      name: 'Light',\n      key: 'Light',\n      label: 'Light',\n      value: 'light-v10',\n      checked: true\n    },\n    {\n      name: 'Dark',\n      key: 'Dark',\n      label: 'Dark',\n      value: 'dark-v10'\n    },\n    {\n      name: 'satellite',\n      key: 'satellite',\n      label: 'Satellite',\n      value: 'satellite-streets-v9'\n    }\n  ];\n\n  let switcher;\n\n  switch (switcherStyle) {\n    case 'radio':\n      switcher = (\n        <RadioGroup\n          items={basemapOptions}\n          name=\"basemaps\"\n          checkedValueChange={handleChange}\n        />\n      );\n      break;\n\n    case 'buttons':\n      // eslint-disable-next-line no-case-declarations\n      const buttons = basemapOptions.map((item) => {\n        return (\n          <Button key={item.label} onClick={(e) => handleChange(e, item)}>\n            {item.label}\n          </Button>\n        );\n      });\n\n      switcher = <ButtonGroup buttons={buttons} />;\n      break;\n    default:\n      switcher = (\n        <RadioGroup\n          items={basemapOptions}\n          name=\"basemaps\"\n          checkedValueChange={handleChange}\n        />\n      );\n      break;\n  }\n\n  return (\n    <BaseComponent\n      baseType={baseType}\n      buttonOptions={{\n        icon: <FaMap />,\n        title: 'Basemap Switcher',\n        testId: 'cl-basemap-btn',\n        ...buttonOptions\n      }}\n      {...rest}\n      // type={switcherStyle === 'buttons' ? 'none' : 'panel'}\n      sx={sx}\n      className=\"cl-basemap-switcher\"\n    >\n      {switcher}\n    </BaseComponent>\n  );\n};\n\nexport default BasemapSwitcher;\n","import config from '../config';\n\nconst mapOptions = {\n  container: 'map',\n  style: 'mapbox://styles/mapbox/streets-v11',\n  bounds: [\n    [-96.1642, 29.7381],\n    [-95.3841, 29.8781]\n  ],\n  center: [-95.7742, 29.80814],\n  zoom: 10,\n  accessToken: config.mapboxToken\n};\n\nexport default mapOptions;\n","export default {\n  mapboxToken: 'pk.eyJ1IjoiZWxrYWxvbmFyaXMiLCJhIjoiY2twbXExOHcwMDg3ZzJvbnc0dXhyOWszOSJ9.AetSK7t4L_aaFVsCuNQmHg'\n};\n","import React, { useState } from 'react';\n// import { ThemeProvider as EmotionProvider } from 'emotion-theming';\nimport { ThemeProvider as ThemeUIProvider } from 'theme-ui';\nimport DefaultContext from '../../DefaultContext';\n\nconst ElementsProvider = ({\n  children,\n  context,\n  theme,\n  // themeUI,\n  mapOverride\n}) => {\n  const ctx = context || DefaultContext;\n  const ContextProvider = ctx.Provider || ctx;\n  const [map, setMap] = useState(null);\n\n  const value = {\n    map: mapOverride || map,\n    setMap\n  };\n\n  // let provider = (\n  //   <EmotionProvider theme={theme || {}}>{children}</EmotionProvider>\n  // );\n\n  // if (themeUI === true) {\n  //   provider = (\n  //     <ThemeUIProvider theme={theme || {}}>{children}</ThemeUIProvider>\n  //   );\n  // }\n\n  const provider = (\n    <ThemeUIProvider theme={theme || {}}>{children}</ThemeUIProvider>\n  );\n\n  return <ContextProvider value={value}>{provider}</ContextProvider>;\n};\n\nexport default ElementsProvider;\n","import React, { useRef, useEffect, useState, Component } from 'react';\nimport mapboxgl from 'mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\nimport AddData from './components/AddData/AddData';\nimport Map from './components/Map/Map';\nimport BasemapSwitcher from './components/BasemapSwitcher/BasemapSwitcher';\nimport mapOptions from './util/mockMapOptions';\nimport ElementsProvider from './components/_common/ElementsProvider';\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiZWxrYWxvbmFyaXMiLCJhIjoiY2twbXExOHcwMDg3ZzJvbnc0dXhyOWszOSJ9.AetSK7t4L_aaFVsCuNQmHg';\n\nclass App extends Component {\n  render(){\n    return (\n      <ElementsProvider>\n            <BasemapSwitcher/>\n      <Map mapOptions={mapOptions}></Map>\n\n      <AddData\n      />\n    </ElementsProvider>\n    );\n  }\n}\nexport default App;\n\n// export default function App() {\n// const mapContainer = useRef(null);\n// const map = useRef(null);\n// const [lng, setLng] = useState(-70.9);\n// const [lat, setLat] = useState(42.35);\n// const [zoom, setZoom] = useState(9);\n \n// useEffect(() => {\n// if (map.current) return; // initialize map only once\n// map.current = new mapboxgl.Map({\n// container: mapContainer.current,\n// style: 'mapbox://styles/mapbox/streets-v11',\n// center: [lng, lat],\n// zoom: zoom\n// });\n// });\n \n// useEffect(() => {\n// if (!map.current) return; // wait for map to initialize\n// map.current.on('move', () => {\n// setLng(map.current.getCenter().lng.toFixed(4));\n// setLat(map.current.getCenter().lat.toFixed(4));\n// setZoom(map.current.getZoom().toFixed(2));\n// });\n// });\n\n\n// return (\n// <div>\n// <div className=\"sidebar\">\n// Longitude: {lng} | Latitude: {lat} | Zoom: {zoom}\n// </div>\n// <div ref={mapContainer} className=\"map-container\" />\n// </div>\n// );\n// }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport './index.css';\nimport App from './App';\n \nReactDOM.render(\n<React.StrictMode>\n<App />\n</React.StrictMode>,\ndocument.getElementById('root')\n);"],"sourceRoot":""}