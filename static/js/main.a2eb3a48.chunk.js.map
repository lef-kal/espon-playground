{"version":3,"sources":["components/_primitives/ListItem.js","util/childrenExist.js","components/_primitives/List.js","components/_common/PanelComponent.js","components/_common/ButtonComponent.js","components/_common/BaseComponent.js","DefaultContext.js","util/mapExists.js","components/AddData/importer/index.js","components/AddData/AddData.js","components/_common/AlertModal.js","components/Map/Map.js","components/_primitives/RadioGroupItem.js","components/_primitives/RadioGroup.js","components/_primitives/ButtonGroup.js","components/BasemapSwitcher/BasemapSwitcher.js","util/mockMapOptions.js","config.js","components/_common/ElementsProvider.js","components/ScaleBar/ScaleBar.js","components/Measure/calculateMeasurements.js","components/Measure/Measure.js","components/Draw/LabelMaker.js","components/Draw/textDrawMode.js","components/Draw/allowMapInteractions.js","components/Draw/staticDrawMode.js","components/Draw/Draw.js","components/LayerList/Legend.js","components/_primitives/Switch.js","components/LayerList/util/toggleLayerVisibility.js","components/LayerList/LayerActionsMenu.js","components/LayerList/LayerListItem.js","components/LayerList/GroupLayerItem.js","components/LayerList/GroupLayer.js","components/LayerList/LayerList.js","App.js","index.js"],"names":["ListItem","props","children","selectable","sx","style","padding","cursor","bg","color","as","childrenExist","undefined","isNaN","Array","isArray","length","List","items","rest","listStyleType","className","map","item","PanelComponent","closable","onClose","theme","useThemeUI","width","borderRadius","boxShadow","paddingTop","justifyContent","marginRight","space","height","onClick","ButtonComponent","buttonOptions","ref","useRef","triggerRect","useRect","useState","showPanel","setShowPanel","title","testId","variant","intercept","err","console","error","icon","zIndex","targetRef","position","left","right","top","window","scrollY","fontFamily","BaseComponent","baseType","open","topPos","leftPos","bottom","baseStyle","panelStyle","buttonStyle","minWidth","minHeight","p","m","defaultType","DefaultContext","createContext","mapExists","Object","keys","config","this","reader","FileReader","onload","handleFile","bind","file","cb","Error","fileExt","getExtension","fileDetails","fileSize","size","fileName","name","toLowerCase","readAsArrayBuffer","readAsText","fArr","split","evt","handleCSV","handleKML","handleJSON","handleGPX","handleSHP","notRecognized","handleGeoJSON","toString","latitude","longitude","latitudes","longitudes","csv","target","result","forEach","column","indexOf","trim","csv2geojson","latfield","lonfield","data","xml","DOMParser","parseFromString","geojson","togeojson","kml","JSON","parse","gpx","shpjs","parseZip","log","AlertModal","message","show","setShow","flexDirection","Map","mapOptions","mapLayers","supportMessage","setMap","useContext","useEffect","layers","mapboxgl","on","l","addLayer","supported","el","container","RadioGroupItem","defaultChecked","checkedChanged","fontSize","id","value","onChange","e","label","RadioGroup","checkedValueChange","display","checked","ButtonGroup","content","buttons","alignItems","borderWidth","borderColor","borderStyle","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","BasemapSwitcher","switcherStyle","basemaps","preserveLayers","basemapValue","setBasemapValue","didMountRef","handleChange","current","setStyle","waiting","isStyleLoaded","i","getSource","layer","source","addSource","setTimeout","switcher","basemapOptions","key","center","zoom","accessToken","ElementsProvider","context","mapOverride","ctx","ContextProvider","Provider","provider","ScaleBar","maxWidth","unit","ScaleControl","scale","Context","ctrlPosition","addControl","calculateMeasurements","feature","units","a","area","default","drawnLength","drawnArea","measurement","Measure","measureControl","setMeasureControl","areaPopupOpen","setAreaPopupOpen","linePopupOpen","setLinePopupOpen","setMeasurement","setUnits","showDelete","setShowDelete","lengthOptions","areaOptions","handleMeasurement","getAll","features","drawnMeasurements","deleteButton","changeUnits","currentTarget","startDraw","type","measure","then","MapboxDraw","displayControlsDefault","changeMode","deleteAll","displayContent","numeral","format","border","defaultValue","option","LabelMaker","x","y","textShadow","hidden","setHidden","textColor","setTextColor","backgroundColor","setBackgroundColor","colorPickerActive","setColorPickerActive","currentColorPicker","setCurrentColorPicker","handle","textAlign","colors","primary","fonts","body","margin","htmlFor","placeholder","innerHTML","toUpperCase","mb","replace","fontWeight","hex","gap","columns","href","preventDefault","confirm","parentNode","removeChild","GetTextMode","TextMode","htmlToElement","html","template","document","createElement","firstChild","onSetup","state","point","newFeature","geometry","coordinates","lngLat","lng","lat","marker","Marker","element","draggable","getElement","addEventListener","clickEvent","exists","getElementById","appendChild","ReactDOM","render","clientX","clientY","setLngLat","addTo","fire","toGeoJSON","onKeyUp","keyCode","toDisplayFeatures","allowMapInteractions","allow","boxZoom","enable","scrollZoom","dragPan","dragRotate","keyboard","doubleClickZoom","touchZoomRotate","disable","StaticMode","setActionableState","Draw","drawControl","setDrawControl","nextMode","setNextMode","drawType","modes","assign","draw_text","static","draw","nm","hideTextArea","textEl","textStroke","webkitTextStroke","resize","getElementsByClassName","focus","getMode","remove","clearDrawings","buildStyle","lyr","paint","fc","foc","fcValue","get","focValue","foValue","_parameters","prototype","hasOwnProperty","call","stops","_styleExpression","flattened","expression","cases","k","outputs","push","otherwise","svgs","splice","s","marginLeft","rx","ry","fill","stroke","strokeWidth","fillOpacity","strokeOpacity","cr","flexGrow","cc","crValue","kind","cSize","cx","cy","r","lineHeight","circle","lc","lcValue","px","line","warn","Switch","React","forwardRef","__themeKey","opacity","overflow","css","__css","SIZE","mr","transform","transition","toggleLayerVisibility","layerId","setLayoutProperty","LayerActionsMenu","layerActions","action","onSelect","LayerListItem","actionMenuSlot","layerInfo","legend","showActions","itemActions","checkboxStyle","isChecked","setIsChecked","checkbox","setCheckbox","legendVisibility","setLegendVisibility","layerIds","layerVisibility","setCurrentState","getLayoutProperty","legendStyle","getLayer","TypeError","once","LegendListItem","layerName","pt","textDecoration","GroupLayerItem","group","callback","activeOnLoad","handleRadioChange","GroupLayer","showOnLoad","flat","toggleGroupLayers","layerArray","onLayers","filter","includes","offLayers","layerItems","idx","actions","groupName","LayerList","groupLayers","groupItems","listItems","alert","App","Component"],"mappings":"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","file":"static/js/main.a2eb3a48.chunk.js","sourcesContent":["import React from 'react';\nimport { Box } from 'theme-ui';\n\nconst ListItem = props => {\n  const { children, selectable, sx } = props;\n\n  const style = selectable\n    ? {\n        padding: 2,\n        ':hover': {\n          cursor: 'pointer',\n          bg: 'primary',\n          color: 'background'\n        },\n        ...sx\n      }\n    : { padding: 2, ...sx };\n\n  return (\n    <Box {...props} as=\"li\" sx={style}>\n      {children}\n    </Box>\n  );\n};\n\nexport default ListItem;\n","/**\n * Tests if children exist in React.\n * @param {Object} children The children prop of a component.\n * @returns {Boolean}\n */\n\nconst childrenExist = (children) => {\n  if (children === null || children === undefined) return false;\n  // eslint-disable-next-line no-restricted-globals\n  if (typeof children === 'number') return !isNaN(children);\n\n  if (Array.isArray(children)) return children.length > 0;\n\n  return !!children;\n};\n\nexport default childrenExist;\n","import React from 'react';\nimport { Box } from 'theme-ui';\nimport ListItem from \"./ListItem\";\nimport childrenExist from '../../util/childrenExist';\n\nconst List = ({ items, children, sx, ...rest }) => {\n  const style = { listStyleType: 'none', padding: 1, ...sx };\n\n  if (childrenExist(children)) {\n    return (\n      <Box {...rest} as=\"ul\" className=\"cl-list\" sx={style}>\n        {children}\n      </Box>\n    );\n  }\n\n  if (items && items.length > 0) {\n    return (\n      <Box {...rest} as=\"ul\" className=\"cl-list\" sx={style}>\n        {items.map(item => (\n          <ListItem>{item}</ListItem>\n        ))}\n      </Box>\n    );\n  } \n    return false;\n  \n};\n\nexport default List;\n","import React from 'react';\nimport { Card, Close, Flex, useThemeUI } from 'theme-ui';\n\nconst PanelComponent = ({ closable, onClose, sx, children, ...rest }) => {\n  const { theme } = useThemeUI();\n\n  return (\n    <Card\n      className=\"cl-panel-component\"\n      color=\"text\"\n      sx={{\n        padding: 3,\n        width: '300px',\n        borderRadius: '4px',\n        boxShadow: '0 0 4px rgba(0, 0, 0, .6)',\n        bg: 'background',\n        ...sx,\n        paddingTop: closable ? 0 : 3\n        // paddingRight: closable ? 0 : 3\n      }}\n      {...rest}\n    >\n      {closable && (\n        <Flex\n          sx={{\n            justifyContent: 'flex-end',\n            marginRight: `-${theme.space ? theme.space[3] : 16}px`\n          }}\n        >\n          <Close\n            sx={{\n              color: 'text',\n              height: '24px',\n              width: '24px',\n              ':hover': { cursor: 'pointer' }\n            }}\n            onClick={onClose}\n          />\n        </Flex>\n      )}\n      {children}\n    </Card>\n  );\n};\n\nexport default PanelComponent;\n","import Popover from '@reach/popover';\nimport { useRect } from '@reach/rect';\nimport React, { useRef, useState } from 'react';\nimport { Button } from 'theme-ui';\nimport Panel from './PanelComponent';\n\nconst ButtonComponent = ({ children, buttonOptions, sx, ...rest }) => {\n  const ref = useRef(null);\n  const triggerRect = useRect(ref);\n  const [showPanel, setShowPanel] = useState(false);\n  return (\n    <>\n      <Button\n        ref={ref}\n        title={buttonOptions?.title}\n        className={rest?.className ?? 'cl-btn'}\n        data-testid={buttonOptions?.testId ?? 'cl-btn'}\n        variant={buttonOptions?.variant ?? 'primary'}\n        onClick={() => {\n          if (buttonOptions?.intercept) {\n            try {\n              buttonOptions.intercept();\n            } catch (err) {\n              // eslint-disable-next-line no-console\n              console.error(err);\n            }\n          } else {\n            setShowPanel(!showPanel);\n          }\n        }}\n        sx={{\n          ...sx\n        }}\n      >\n        {buttonOptions?.icon}\n      </Button>\n\n      {showPanel && (\n        <Popover\n        style={{zIndex: sx.zIndex || 2}}\n          targetRef={ref}\n          position={() => ({\n            left: triggerRect?.right + 10,\n            top: triggerRect?.top + window.scrollY\n          })}\n        >\n          <Panel\n            closable\n            onClose={() => setShowPanel(false)}\n            sx={{\n              fontFamily: 'body',\n\n              // bg: 'transparent'\n            }}\n          >\n            {children}\n          </Panel>\n        </Popover>\n      )}\n    </>\n  );\n};\n\nexport default ButtonComponent;\n","// Base Component to give structure to all other major components\n\nimport React from 'react';\nimport { Box } from 'theme-ui';\nimport ButtonComponent from './ButtonComponent';\nimport Panel from './PanelComponent';\n\nconst BaseComponent = ({\n  baseType, // 'none', 'panel', 'button'\n  buttonOptions, // optional\n  children,\n  open,\n  sx,\n  ...rest\n}) => {\n  let topPos = sx?.top ?? '1rem';\n  let leftPos = sx?.left ?? '1rem';\n\n  if (sx?.bottom) {\n    topPos = null;\n  }\n\n  if (sx?.right) {\n    leftPos = null;\n  }\n\n  const baseStyle = {\n    fontFamily: 'body',\n    bg: 'transparent',\n    position: sx?.position || 'absolute',\n    top: topPos,\n    left: leftPos,\n    bottom: sx?.bottom,\n    right: sx?.right,\n    zIndex: sx?.zIndex ?? 2,\n    ...sx\n  };\n\n  const panelStyle = {\n    fontFamily: 'body',\n    bg: 'background',\n    position: sx?.position || 'absolute',\n    top: topPos,\n    left: leftPos,\n    bottom: sx?.bottom,\n    right: sx?.right,\n    zIndex: sx?.zIndex ?? 2,\n    ...sx\n  };\n\n  const buttonStyle = {\n    fontFamily: 'body',\n    bg: sx?.bg || 'primary',\n    position: sx?.position || 'absolute',\n    top: topPos,\n    left: leftPos,\n    bottom: sx?.bottom,\n    right: sx?.right,\n    zIndex: sx?.zIndex ?? 2,\n    width: '32px',\n    height: '32px',\n    minWidth: '25px',\n    minHeight: '25px',\n    p: 0,\n    m: 1,\n    boxShadow: '0 0 4px rgba(0, 0, 0, .6)',\n    ...sx\n  };\n\n  const defaultType = (\n    <Box {...rest} sx={baseStyle}>\n      {children}\n    </Box>\n  );\n\n  switch (baseType) {\n    case 'none':\n      return defaultType;\n    case 'panel':\n      return (\n        <Panel {...rest} sx={panelStyle}>\n          {children}\n        </Panel>\n      );\n    case 'button':\n      return (\n        <ButtonComponent\n          // eslint-disable-next-line react/no-children-prop\n          children={children}\n          buttonOptions={buttonOptions}\n          sx={buttonStyle}\n          {...rest}\n        />\n      );\n    default:\n      return defaultType;\n  }\n};\n\nexport default BaseComponent;\n","import { createContext } from 'react';\n\nconst DefaultContext = createContext({});\n\nexport default DefaultContext;\n","function mapExists(map) {\n  if (map && Object.keys(map).length > 0) {\n    if (map.style && Object.keys(map.style).length > 0) {\n      return true;\n    } \n      return false;\n    \n  } \n    return false;\n  \n}\n\nexport default mapExists;\n","// @description Load various file format\n// returns GeoJSON\nimport csv2geojson from 'csv2geojson'; // csv\nimport togeojson from '@mapbox/togeojson'; // kml, gpx\nimport shpjs from 'shpjs'; // zipped shapefile\n\nconst config = {\n  maxFileSize: 10e7 // in bytes, 100 mb\n};\n\nclass Importer {\n  constructor() {\n    this.reader = new FileReader();\n    this.reader.onload = this.handleFile.bind(this);\n  }\n\n  load(file, cb) {\n    if (!file) throw new Error('File Required');\n    if (!cb) throw new Error('Callback Required');\n    this.cb = cb;\n    this.file = file;\n    this.fileExt = this.getExtension();\n    this.fileDetails = {\n      fileSize: this.file.size,\n      fileName: this.file.name,\n      fileExt: this.fileExt\n    };\n    if (this.file.size >= config.maxFileSize) {\n      cb({\n        error: 'File must be less than 20mb',\n        fileDetails: this.fileDetails\n      });\n    } else if (this.fileExt.toLowerCase() === 'zip') {\n      this.reader.readAsArrayBuffer(this.file);\n    } else {\n      this.reader.readAsText(this.file, 'UTF-8');\n    }\n  }\n\n  getExtension() {\n    const fArr = this.file.name.split('.');\n    return fArr[fArr.length - 1];\n  }\n\n  handleFile(evt) {\n    switch (this.fileExt.toLowerCase()) {\n      case 'csv':\n        this.handleCSV(evt);\n        break;\n      case 'kml':\n        this.handleKML(evt);\n        break;\n      // case 'topojson':\n      case 'geojson':\n      case 'json':\n        this.handleJSON(evt);\n        break;\n      case 'gpx':\n        this.handleGPX(evt);\n        break;\n      // case 'igc':\n      //   this.handleIGC(evt);\n      //   break;\n      case 'zip':\n        this.handleSHP(evt);\n        break;\n      default:\n        this.notRecognized();\n        break;\n    }\n  }\n\n  handleJSON(evt) {\n    try {\n      /* const res = JSON.parse(evt.target.result);\n             if (res.type && res.type.toLowerCase() === 'topology') {\n        this.handleTopoJSON(evt);\n      } else {\n        this.handleGeoJSON(evt);\n      } */\n      this.handleGeoJSON(evt);\n    } catch (err) {\n      this.cb({\n        error: `Problem parsing JSON (${err.toString()})`,\n        fileDetails: this.fileDetails\n      });\n    }\n  }\n\n  handleCSV(evt) {\n    const latitudes = ['y', 'lat', 'latitude'];\n    const longitudes = ['x', 'lng', 'lon', 'long', 'longitude'];\n    let latitude;\n    let longitude;\n    const csv = evt.target.result;\n    const header = csv.split('\\n')[0].split(',');\n    header.forEach((column) => {\n      if (latitudes.indexOf(column.toLowerCase().trim()) !== -1) {\n        latitude = column.trim();\n      }\n      if (longitudes.indexOf(column.toLowerCase().trim()) !== -1) {\n        longitude = column.trim();\n      }\n    });\n    if (!longitude || !latitude) {\n      throw new Error(\n        'no latitude (y, lat, latitude) or longitude (x, lng, long, longitude) field found'\n      );\n    }\n    csv2geojson.csv2geojson(\n      csv,\n      {\n        latfield: latitude,\n        lonfield: longitude\n      },\n      (err, data) => {\n        if (err) throw err;\n        this.cb(this.fileDetails, data);\n      }\n    );\n  }\n\n  handleKML(evt) {\n    const xml = new window.DOMParser().parseFromString(\n      evt.target.result,\n      'application/xml'\n    );\n    const geojson = togeojson.kml(xml, { style: true });\n    this.cb(this.fileDetails, geojson);\n  }\n\n  handleGeoJSON(evt) {\n    this.cb(this.fileDetails, JSON.parse(evt.target.result));\n  }\n\n  // handleTopoJSON(evt) {\n  //   console.log('handle as topojson');\n  // }\n\n  handleGPX(evt) {\n    const xml = new window.DOMParser().parseFromString(\n      evt.target.result,\n      'application/xml'\n    );\n    const geojson = togeojson.gpx(xml);\n    this.cb(this.fileDetails, geojson);\n  }\n\n  // handleIGC(evt) {\n  //   console.log('handle as igc');\n  // }\n\n  handleSHP(evt) {\n    const geojson = shpjs.parseZip(evt.target.result);\n    this.cb(this.fileDetails, geojson);\n  }\n\n  notRecognized() {\n    // eslint-disable-next-line no-console\n    console.log('sorry, i didnt recognize this format');\n    this.cb({\n      error: `File format ${this.fileExt} not recognized.`,\n      fileDetails: this.fileDetails\n    });\n  }\n}\n\nexport default Importer;\n","import React, { useContext, useState } from 'react';\nimport {\n  Button,\n  Flex,\n  Box,\n  // Link,\n  Text,\n  Input,\n  Checkbox,\n  Label\n} from 'theme-ui';\nimport bbox from '@turf/bbox';\nimport { MdLibraryAdd } from 'react-icons/md';\nimport List from '../_primitives/List';\nimport ListItem from '../_primitives/ListItem';\nimport BaseComponent from '../_common/BaseComponent';\nimport Context from '../../DefaultContext';\nimport mapExists from '../../util/mapExists';\nimport Importer from './importer/index';\n\nconst importer = new Importer();\n\nconst AddData = ({ baseType, buttonOptions, sx, ...rest }) => {\n  const config = useContext(Context);\n  const { map } = config;\n\n  // state\n  const [tab, setTab] = useState('file'); // file, url, layers\n  const [tmpLayers, setTmpLayers] = useState([]); // added layers\n  // const [file, setFile] = useState(null); // file to upload\n\n  const addLayer = (sourceId, geojson) => {\n    // add multiple layers based on source geometry\n    // Point, MultiPoint\n    // LineString, MultiLineString\n    // Polygon, MultiPolygon\n\n    function setType(geomType) {\n      let type;\n      switch (geomType) {\n        case 'Point':\n        case 'MultiPoint':\n          type = 'circle';\n          break;\n        case 'LineString':\n        case 'MultiLineString':\n          type = 'line';\n          break;\n        case 'Polygon':\n        case 'MultiPolygon':\n          type = 'fill';\n          break;\n        default:\n          return '';\n      }\n      return type;\n    }\n\n    function setPaint(geomType) {\n      let paint;\n      switch (geomType) {\n        case 'Point':\n        case 'MultiPoint':\n          paint = {\n            'circle-radius': 6,\n            'circle-color': '#B42222',\n            'circle-opacity': 0.6\n          };\n          break;\n\n        case 'LineString':\n        case 'MultiLineString':\n          paint = {\n            'line-color': '#888',\n            'line-width': 8\n          };\n          break;\n\n        case 'Polygon':\n        case 'MultiPolygon':\n          paint = {\n            'fill-color': '#088',\n            'fill-opacity': 0.8\n          };\n          break;\n        default:\n          return null;\n      }\n      return paint;\n    }\n\n    function setFilter(geomType) {\n      let filter;\n      switch (geomType) {\n        case 'Point':\n        case 'MultiPoint':\n          filter = ['==', '$type', 'Point'];\n          break;\n        case 'LineString':\n        case 'MultiLineString':\n          filter = ['==', '$type', 'LineString'];\n          break;\n        case 'Polygon':\n        case 'MultiPolygon':\n          filter = ['==', '$type', 'Polygon'];\n          break;\n        default:\n          return null;\n      }\n      return filter;\n    }\n    const geomTypes = [];\n    /* eslint-disable array-callback-return */\n    geojson.features.map((feature) => {\n      if (geomTypes.indexOf(feature.geometry.type) === -1)\n        geomTypes.push(feature.geometry.type);\n    });\n    /* eslint-enable array-callback-return */\n\n    geomTypes.forEach((type) => {\n      const layerId = `${sourceId}-${type}`;\n      map.addLayer({\n        id: layerId,\n        type: setType(type),\n        source: sourceId,\n        paint: setPaint(type),\n        filter: setFilter(type),\n        layout: {\n          visibility: 'visible'\n        }\n      });\n      setTmpLayers([...tmpLayers, layerId]);\n    });\n  };\n\n  const zoomToLayer = (geojson) => {\n    const bounds = bbox(geojson);\n    map.fitBounds(bounds);\n  };\n\n  const addMapSource = (fileDetails, geojson) => {\n    if (!geojson || !fileDetails) return;\n    const sourceId = fileDetails.fileName;\n    map.addSource(sourceId, {\n      type: 'geojson',\n      data: geojson\n    });\n    addLayer(sourceId, geojson);\n    zoomToLayer(geojson);\n  };\n\n  const loadFile = (e) => {\n    try {\n      importer.load(e.target.files[0], addMapSource);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.warn(err);\n    }\n  };\n\n  const Tabs = () => {\n    return (\n      <Flex\n        sx={{\n          justifyContent: 'center',\n          paddingBottom: '0.5rem'\n        }}\n      >\n        <Button\n          sx={{\n            width: '50%',\n            bg: 'transparent',\n            color: 'text',\n            borderStyle: 'solid',\n            borderRadius: 0,\n            borderTopWidth: 0,\n            borderLeftWidth: 0,\n            borderRightWidth: '.5px',\n            borderBottomWidth: '0.5px',\n            boxShadow: 'none',\n            ':hover': {\n              bg: 'primary',\n              color: 'background'\n            }\n          }}\n          onClick={() => {\n            setTab('file');\n          }}\n        >\n          File\n        </Button>\n\n        <Button\n          sx={{\n            width: '50%',\n            bg: 'transparent',\n            color: 'text',\n            borderStyle: 'solid',\n            borderRadius: 0,\n            borderTopWidth: 0,\n            borderRightWidth: 0,\n            borderBottomWidth: '0.5px',\n            boxShadow: 'none',\n            ':hover': {\n              bg: 'primary',\n              color: 'background'\n            }\n          }}\n          onClick={() => {\n            setTab('url');\n          }}\n        >\n          URL\n        </Button>\n      </Flex>\n    );\n  };\n\n  const ManageLayers = () => {\n    const content = () => {\n      return (\n        <Flex sx={{ justifyContent: 'flex-end' }}>\n          <Button\n            sx={{\n              fontSize: 0,\n              textDecoration: 'underline',\n              color: 'primary',\n              backgroundColor: 'background',\n              ':hover': {\n                backgroundColor: 'background'\n              }\n            }}\n            onClick={(e) => {\n              e.preventDefault();\n              setTab('layers');\n            }}\n          >\n            Manage Layers\n          </Button>\n        </Flex>\n      );\n    };\n    return (\n      <Box\n        sx={{\n          textAlign: 'center',\n          marginTop: '0.5rem'\n        }}\n      >\n        {content()}\n      </Box>\n    );\n  };\n\n  const FileBody = () => {\n    const supportedFileExt = ['.geojson', '.kml', '.gpx', '.csv', '.zip (shp)'];\n    const supported = () => {\n      const title = 'Supported File Extensions:';\n      const subtitle = supportedFileExt.join(', ');\n      return (\n        <Box>\n          <Text sx={{ fontSize: 0 }}>{title}</Text>\n          <Text sx={{ fontSize: 0 }}>{subtitle}</Text>\n          <Input\n            sx={{\n              textAlign: 'center',\n              paddingTop: 1,\n              marginTop: 2,\n              border: 'none',\n              '>button': {\n                boxShadow: 'none'\n              }\n            }}\n            type=\"file\"\n            className=\"file-upload\"\n            onChange={(e) => {\n              loadFile(e);\n            }}\n          />\n          {/* <Flex sx={{ justifyContent: 'flex-end' }}>\n            <Button\n              onClick={e => {\n                loadFile(file);\n              }}\n              variant=\"outline\"\n            >\n              Add Data\n            </Button>\n          </Flex> */}\n        </Box>\n      );\n    };\n    return (\n      <div>\n        <Box\n          sx={{\n            textAlign: 'center'\n          }}\n        >\n          {supported()}\n        </Box>\n        <ManageLayers />\n      </div>\n    );\n  };\n\n  const UrlBody = () => {\n    return (\n      <div>\n        <Input /* fluid */ placeholder=\"Paste URL Here\" />\n        <Button\n          // mt={1}\n          /* fluid */\n          css={{ marginTop: '0.5rem' }}\n          /*           icon=\"files-upload\" */\n        >\n          Add Layer\n        </Button>\n        <ManageLayers />\n      </div>\n    );\n  };\n\n  const TabBody = () => {\n    return (\n      <div styles={{ width: '100%' }}>\n        <Tabs />\n        {tab === 'file' ? <FileBody /> : <UrlBody />}\n      </div>\n    );\n  };\n\n  const LayerBody = () => {\n    const items = () => {\n      const isVisible = (layerId) => {\n        const layerVisibility = map.getLayoutProperty(layerId, 'visibility');\n        const checked = layerVisibility !== 'none';\n        return checked;\n      };\n\n      const handleChange = (layerId) => {\n        const checked = isVisible(layerId);\n        if (checked) {\n          map.setLayoutProperty(layerId, 'visibility', 'none');\n        } else {\n          map.setLayoutProperty(layerId, 'visibility', 'visible');\n        }\n      };\n      return tmpLayers.map((layerId, i) => {\n        return (\n          <ListItem\n            // eslint-disable-next-line react/no-array-index-key\n            key={`${layerId}-${i}`}\n          >\n            {' '}\n            <Label>\n              <Checkbox\n                onChange={() => {\n                  handleChange(layerId);\n                }}\n                defaultChecked={isVisible(layerId)}\n              />\n              <Text pt={1}>{layerId}</Text>\n            </Label>\n          </ListItem>\n        );\n      });\n    };\n\n    return (\n      <div style={{ width: '100%' }}>\n        <Button\n          sx={{\n            fontSize: 0,\n            textDecoration: 'underline',\n            color: 'primary',\n            backgroundColor: 'background',\n            ':hover': {\n              backgroundColor: 'background'\n            }\n          }}\n          onClick={(e) => {\n            e.preventDefault();\n            setTab('file');\n          }}\n        >\n          &lt;&lt; Back\n        </Button>\n        <Box sx={{ marginTop: '0.5rem' }} content={<List>{items()}</List>} />\n      </div>\n    );\n  };\n\n  const Body = () => {\n    return (\n      <div style={{ width: '100%' }}>\n        {tab === 'layers' ? <LayerBody /> : <TabBody />}\n      </div>\n    );\n  };\n\n  if (!mapExists(map)) return null;\n\n  return (\n    <BaseComponent\n      baseType={baseType}\n      buttonOptions={{\n        icon: <MdLibraryAdd />,\n        title: 'Add Data',\n        testId: 'add-data-btn',\n        ...buttonOptions\n      }}\n      sx={sx}\n      {...rest}\n    >\n      <Body />\n    </BaseComponent>\n  );\n};\n\nexport default AddData;\n","import React, { useState } from 'react';\n\nimport { Alert, Button, Flex } from 'theme-ui';\n\nconst AlertModal = ({ message }) => {\n  const [show, setShow] = useState(true);\n\n  if (!show) return null;\n  return (\n    <Alert variant=\"modal\">\n      <Flex sx={{ flexDirection: 'column' }}>\n        <Flex sx={{ width: '100%', position: 'relative' }}>\n          <p style={{ padding: 1 }}>{message}</p>\n        </Flex>\n        <Flex sx={{ justifyContent: 'flex-end' }}>\n          <Button\n            variant=\"secondary\"\n            onClick={() => {\n              setShow(false);\n            }}\n          >\n            OK\n          </Button>\n        </Flex>\n      </Flex>\n    </Alert>\n  );\n};\n\nexport default AlertModal;\n","import React, { useEffect, useContext } from 'react';\nimport { Box } from 'theme-ui';\nimport mapboxgl from 'mapbox-gl';\nimport DefaultContext from '../../DefaultContext';\nimport AlertModal from '../_common/AlertModal';\n\nconst Map = ({ mapOptions, mapLayers, supportMessage, sx, ...rest }) => {\n  let map;\n  const config = useContext(DefaultContext);\n  const { setMap } = config;\n\n  const addLayers = (layers) => {\n    if (!layers) return;\n    map.on('load', () => {\n      layers.forEach((l) => {\n        map.addLayer(l);\n      });\n    });\n  };\n\n  useEffect(() => {\n    // init the map\n    map = new mapboxgl.Map(mapOptions);\n    setMap(map);\n\n    addLayers(mapLayers);\n  }, []);\n\n  if (!mapboxgl.supported()) {\n    return (\n      <AlertModal\n        message={\n          supportMessage ||\n          `WARNING! Your browser does not currently support this application, which requires MapboxGL. \n    Please ensure you are using the latest version of Chrome, Firefox, or Edge.\n    Additionally, check https://get.webgl.org/ for compatibility with your system.`\n        }\n      />\n    );\n  }\n\n  return (\n    <Box\n      {...rest}\n      sx={{ width: '100vw', height: '100vh', ...sx }}\n      ref={(el) => {\n        // eslint-disable-next-line no-param-reassign\n        mapOptions.container = el;\n      }}\n      className=\"cl-map-container\"\n    />\n  );\n};\n\nexport default Map;\n","import React from 'react';\nimport { Label, Radio } from 'theme-ui';\n\nconst RadioGroupItem = (props) => {\n  const { name, item, defaultChecked, checkedChanged } = props;\n\n  return (\n    <Label\n      className=\"cl-radio-group-item\"\n      {...props}\n      sx={{\n        // color: 'text',\n        fontSize: '12px',\n        marginRight: '2px',\n        '>span': {\n          paddingTop: '3px'\n        }\n      }}\n    >\n      <Radio\n        color=\"primary\"\n        name={name}\n        id={item.name}\n        value={item.value}\n        defaultChecked={defaultChecked}\n        sx={{\n          'input:checked ~ &': {\n            color: 'primary'\n          },\n          'input:focus ~ &': {\n            bg: 'highlight'\n          }\n        }}\n        onChange={(e) => checkedChanged(e, item)}\n      />\n      <span>{item.label}</span>\n    </Label>\n  );\n};\n\nexport default RadioGroupItem;\n","import React from 'react';\nimport { Box } from 'theme-ui';\nimport RadioGroupItem from './RadioGroupItem';\nimport childrenExist from '../../util/childrenExist';\n\n/**\n * @class RadioGroup\n * @param {Array} items\n * @param {String} name\n * @param {String} checkedValue\n * @param {Func} checkedValueChange\n */\n\nconst RadioGroup = (props) => {\n  const {\n    children,\n    items,\n    name,\n    /* checkedValue, */ checkedValueChange\n  } = props;\n  const style = {\n    bg: 'transparent',\n    color: 'primary',\n    display: 'flex',\n    padding: 0\n  };\n\n  if (childrenExist(children)) {\n    return (\n      <Box {...props} className=\"cl-radio-group\" sx={style}>\n        {children}\n      </Box>\n    );\n  }\n\n  return (\n    <Box {...props} className=\"cl-radio-group\" sx={style}>\n      {items.map((item) => {\n        return (\n          <RadioGroupItem\n            key={item.value}\n            name={name}\n            item={item}\n            defaultChecked={item.checked}\n            checkedChanged={checkedValueChange}\n          />\n        );\n      })}\n    </Box>\n  );\n};\n\nexport default RadioGroup;\n","import React from 'react';\nimport { Flex } from 'theme-ui';\n\nconst ButtonGroup = ({ buttons, sx, children, ...rest }) => {\n  let content;\n  if (buttons) {\n    content = buttons;\n  } else {\n    content = children;\n  }\n  return (\n    <Flex\n      alignItems=\"center\"\n      {...rest}\n      className=\"cl-button-group\"\n      sx={{\n        ...sx,\n        '> button': {\n          height: '32px',\n          borderRadius: 0,\n          borderWidth: '0.25px',\n          borderColor: 'muted',\n          borderStyle: 'solid',\n          ':first-of-type': {\n            borderTopLeftRadius: 'default',\n            borderBottomLeftRadius: 'default',\n            borderWidth: '0.5px',\n            borderColor: 'muted',\n            borderStyle: 'solid'\n          },\n          ':last-child': {\n            borderTopRightRadius: 'default',\n            borderBottomRightRadius: 'default',\n            borderWidth: '0.5px',\n            borderColor: 'muted',\n            borderStyle: 'solid'\n          }\n        }\n      }}\n    >\n      {content}\n    </Flex>\n  );\n};\n\nexport default ButtonGroup;\n","// BasemapSwitcher  Component for changing basemaps\n\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport { Button } from 'theme-ui';\nimport { FaMap } from 'react-icons/fa';\nimport DefaultContext from '../../DefaultContext';\nimport mapExists from '../../util/mapExists';\nimport RadioGroup from '../_primitives/RadioGroup';\nimport ButtonGroup from '../_primitives/ButtonGroup';\nimport BaseComponent from '../_common/BaseComponent';\n/**\n * @class BasemapSwitcher\n */\n\nconst BasemapSwitcher = ({\n  switcherStyle,\n  basemaps,\n  preserveLayers, // array of objects, each with 'source' and 'layer' properties. see https://bl.ocks.org/ryanbaumann/7f9a353d0a1ae898ce4e30f336200483/96bea34be408290c161589dcebe26e8ccfa132d7\n  baseType,\n  buttonOptions,\n  sx,\n  ...rest\n}) => {\n  const [basemapValue, setBasemapValue] = useState(\n    basemaps ? basemaps[0].value : 'light-v10'\n  );\n  const config = useContext(DefaultContext);\n  const { map } = config;\n\n  const didMountRef = useRef(false);\n\n  const handleChange = (e, props) => {\n    setBasemapValue(props.value);\n  };\n\n  useEffect(() => {\n    if (didMountRef.current) {\n      map.setStyle(`mapbox://styles/mapbox/${basemapValue}`);\n    } else {\n      didMountRef.current = true;\n    }\n  }, [basemapValue]);\n\n  useEffect(() => {\n    if (mapExists(map)) {\n      map.on('load', () => {\n        map.setStyle(`mapbox://styles/mapbox/${basemapValue}`);\n\n        map.on('styledata', () => {\n          const waiting = () => {\n            if (!map.isStyleLoaded()) {\n              setTimeout(waiting, 200);\n            } else {\n              for (let i = 0; i < preserveLayers?.length; i += 1) {\n                const p = preserveLayers[i];\n                if (!map.getSource(p.layer.source)) {\n                  map.addSource(p.layer.source, p.source);\n                  map.addLayer(p.layer);\n                }\n              }\n            }\n          };\n          waiting();\n        });\n      });\n    }\n  }, [map]);\n\n  const basemapOptions = basemaps || [\n    {\n      name: 'Light',\n      key: 'Light',\n      label: 'Light',\n      value: 'light-v10',\n      checked: true\n    },\n    {\n      name: 'Dark',\n      key: 'Dark',\n      label: 'Dark',\n      value: 'dark-v10'\n    },\n    {\n      name: 'satellite',\n      key: 'satellite',\n      label: 'Satellite',\n      value: 'satellite-streets-v9',\n\n    }\n  ];\n\n  let switcher;\n\n  switch (switcherStyle) {\n    case 'radio':\n      switcher = (\n        <RadioGroup\n          items={basemapOptions}\n          name=\"basemaps\"\n          checkedValueChange={handleChange}\n        />\n      );\n      break;\n\n    case 'buttons':\n      // eslint-disable-next-line no-case-declarations\n      const buttons = basemapOptions.map((item) => {\n        return (\n          <Button key={item.label} onClick={(e) => handleChange(e, item)}>\n            {item.label}\n          </Button>\n        );\n      });\n\n      switcher = <ButtonGroup buttons={buttons} />;\n      break;\n    default:\n      switcher = (\n        <RadioGroup\n          items={basemapOptions}\n          name=\"basemaps\"\n          checkedValueChange={handleChange}\n        />\n      );\n      break;\n  }\n\n  return (\n    <BaseComponent\n      baseType={baseType}\n      buttonOptions={{\n        icon: <FaMap />,\n        title: 'Basemap Switcher',\n        testId: 'cl-basemap-btn',\n        ...buttonOptions\n      }}\n      {...rest}\n      // type={switcherStyle === 'buttons' ? 'none' : 'panel'}\n      sx={sx}\n      className=\"cl-basemap-switcher\"\n    >\n      {switcher}\n    </BaseComponent>\n  );\n};\n\nexport default BasemapSwitcher;\n","import config from '../config';\n\nconst mapOptions = {\n  container: 'map',\n  style: 'mapbox://styles/mapbox/light-v10',\n  center: [12, 50],\n  zoom: 3,\n  accessToken: config.mapboxToken\n};\n\nexport default mapOptions;\n","export default {\n  mapboxToken: 'pk.eyJ1IjoiZWxrYWxvbmFyaXMiLCJhIjoiY2twbXExOHcwMDg3ZzJvbnc0dXhyOWszOSJ9.AetSK7t4L_aaFVsCuNQmHg'\n};\n","import React, { useState } from 'react';\n// import { ThemeProvider as EmotionProvider } from 'emotion-theming';\nimport { ThemeProvider as ThemeUIProvider } from 'theme-ui';\nimport DefaultContext from '../../DefaultContext';\n\nconst ElementsProvider = ({\n  children,\n  context,\n  theme,\n  // themeUI,\n  mapOverride\n}) => {\n  const ctx = context || DefaultContext;\n  const ContextProvider = ctx.Provider || ctx;\n  const [map, setMap] = useState(null);\n\n  const value = {\n    map: mapOverride || map,\n    setMap\n  };\n\n  // let provider = (\n  //   <EmotionProvider theme={theme || {}}>{children}</EmotionProvider>\n  // );\n\n  // if (themeUI === true) {\n  //   provider = (\n  //     <ThemeUIProvider theme={theme || {}}>{children}</ThemeUIProvider>\n  //   );\n  // }\n\n  const provider = (\n    <ThemeUIProvider theme={theme || {}}>{children}</ThemeUIProvider>\n  );\n\n  return <ContextProvider value={value}>{provider}</ContextProvider>;\n};\n\nexport default ElementsProvider;\n","import { /* React, */ useContext, useState } from 'react';\nimport { ScaleControl } from 'mapbox-gl';\nimport Context from '../../DefaultContext';\nimport mapExists from '../../util/mapExists';\n\nconst ScaleBar = (props) => {\n  const { position, maxWidth, unit } = props;\n  const [scale /* setScale */] = useState(\n    new ScaleControl({\n      maxWidth: maxWidth || 100,\n      unit: unit || 'metric'\n    })\n  );\n  const config = useContext(Context);\n  const { map } = config;\n\n  if (!mapExists(map)) {\n    return null;\n  }\n\n  const ctrlPosition = position || 'bottom-left';\n\n  // if we don't limit the addition to the map load event, we can\n  // end up adding a lot of controls. For example, without this, the knobs\n  // in Storybook added multiple versions of the component. I've tinkered with\n  // trying to remove controls after comparing state, but so far no luck\n  map.on('load', () => {\n    map.addControl(scale, ctrlPosition);\n  });\n\n  return null; // no component returned for mapbox controls\n};\n\nexport default ScaleBar;\n","export default async function calculateMeasurements(feature, units) {\n  // lazy load these deps\n\n  const { default: area } = await import('@turf/area');\n  const { default: length } = await import('@turf/length');\n\n  const drawnLength = length(feature) * 1000; // meters\n  const drawnArea = area(feature); // square meters\n\n  let measurement;\n\n  if (drawnLength > drawnArea) {\n    switch (units) {\n      case 'm':\n        measurement = drawnLength;\n        break;\n      case 'ft':\n        measurement = drawnLength * 3.28084;\n        break;\n      case 'km':\n        measurement = drawnLength / 1000;\n        break;\n      case 'mi':\n        measurement = drawnLength * 0.000621371;\n        break;\n      default:\n        measurement = drawnLength;\n        break;\n    }\n  } else {\n    switch (units) {\n      case 'm':\n        measurement = drawnArea;\n        break;\n      case 'ft':\n        measurement = drawnArea * 10.7639;\n        break;\n      case 'km':\n        measurement = drawnArea / 1000000;\n        break;\n      case 'mi':\n        measurement = drawnArea / 2589988.1103;\n        break;\n      case 'ac':\n        measurement = drawnArea * 0.000247105;\n        break;\n      default:\n        measurement = drawnArea;\n        break;\n    }\n  }\n\n  return measurement;\n}\n","/** @jsxImportSource theme-ui */\nimport { /* React, */ useState, useEffect, useContext } from 'react';\nimport { Flex, Button, Box, Text, Select } from 'theme-ui';\nimport { MdTimeline as LineIcon } from 'react-icons/md';\nimport {\n  FaDrawPolygon as PolygonIcon,\n  FaRuler,\n  FaTrash as TrashIcon\n} from 'react-icons/fa';\nimport numeral from 'numeral';\n\nimport ButtonGroup from '../_primitives/ButtonGroup';\nimport Context from '../../DefaultContext';\nimport mapExists from '../../util/mapExists';\nimport calculateMeasurements from './calculateMeasurements';\nimport BaseComponent from '../_common/BaseComponent';\n\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\n\nconst Measure = ({ baseType, buttonOptions, sx, ...rest }) => {\n  const config = useContext(Context);\n  const { map } = config;\n  const [measureControl, setMeasureControl] = useState(null);\n  const [areaPopupOpen, setAreaPopupOpen] = useState(false);\n  const [linePopupOpen, setLinePopupOpen] = useState(false);\n  const [measurement, setMeasurement] = useState(0);\n  const [units, setUnits] = useState('m');\n  const [showDelete, setShowDelete] = useState(false);\n\n  const lengthOptions = ['m', 'ft', 'km', 'mi'];\n  const areaOptions = ['m', 'ft', 'km', 'mi', 'ac'];\n\n  async function handleMeasurement() {\n    if (measureControl) {\n      const { features } = measureControl.getAll();\n\n      if (features && features.length > 0) {\n        const feature = features[0];\n\n        const drawnMeasurements = await calculateMeasurements(feature, units); //eslint-disable-line\n\n        setMeasurement(drawnMeasurements);\n        // setLinePopupOpen(true);\n      }\n    }\n  }\n\n  useEffect(() => {\n    handleMeasurement();\n  }, [units]);\n\n  if (!mapExists(map)) {\n    return null;\n  }\n\n  const changeUnits = (e) => {\n    setUnits(e.currentTarget.value);\n  };\n\n  async function startDraw(type) {\n    // console.log(`start measure ${type}`);\n    if (!mapExists(map)) return;\n    let measure = measureControl || false;\n\n    if (!measureControl) {\n      measure = await import('@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw').then(\n        ({ default: MapboxDraw }) =>\n          new MapboxDraw({\n            displayControlsDefault: false\n            // modes: MapboxDraw.modes\n          })\n      );\n\n      setMeasureControl(measure);\n      map.addControl(measure);\n    }\n\n    measure.changeMode(type);\n\n    if (type === 'draw_line_string') {\n      setUnits('m');\n    } else if (type === 'draw_polygon') {\n      setUnits('m');\n    }\n    setShowDelete(true);\n  }\n\n  function reset() {\n    measureControl.deleteAll();\n    setMeasurement(0);\n    measureControl.changeMode('simple_select');\n    setShowDelete(false);\n    setAreaPopupOpen(false);\n    setLinePopupOpen(false);\n  }\n\n  // map.on('draw.create', (e) => {\n  //   // if (measureControl) {\n  //   //   setTimeout(function() {\n  //   //     measureControl.deleteAll();\n  //   //   }, 2000);\n  //   // }\n  // });\n\n  map.on('draw.render', (/* e */) => {\n    handleMeasurement();\n  });\n\n  let deleteButton;\n\n  if (showDelete) {\n    deleteButton = (\n      <Button\n        title=\"Delete Measurement\"\n        className=\"draw-tool draw-tool--delete\"\n        onClick={() => {\n          reset();\n        }}\n      >\n        <TrashIcon />\n      </Button>\n    );\n  }\n\n  const display = linePopupOpen || areaPopupOpen ? 'block' : 'none';\n  let displayContent;\n\n  if (linePopupOpen && !areaPopupOpen) {\n    displayContent = (\n      <Flex>\n        <Box>{`${numeral(measurement).format('0,0.00')}`}</Box>\n        <Select\n          name=\"measure-units\"\n          sx={{\n            position: 'relative',\n            width: 55,\n            border: 'none',\n            paddingTop: 0\n          }}\n          onChange={changeUnits}\n          defaultValue={lengthOptions[0]}\n        >\n          {lengthOptions.map((option) => (\n            <option key={option} sx={{ color: 'text' }}>\n              {option}\n            </option>\n          ))}\n        </Select>\n      </Flex>\n    );\n  } else if (!linePopupOpen && areaPopupOpen) {\n    displayContent = (\n      <Flex>\n        <Box sx={{ color: 'background' }}>{`${numeral(measurement).format(\n          '0,0.00'\n        )}`}</Box>\n        <Select\n          name=\"measure-units\"\n          sx={{\n            color: 'background',\n            position: 'relative',\n            width: 55,\n            border: 'none',\n            paddingTop: 0\n          }}\n          onChange={changeUnits}\n          defaultValue={areaOptions[0]}\n        >\n          {areaOptions.map((option) => (\n            <option key={option} sx={{ color: 'text' }}>\n              {option}\n            </option>\n          ))}\n        </Select>\n      </Flex>\n    );\n  }\n\n  return (\n    <BaseComponent\n      className=\"cl-measure-tools\"\n      baseType={baseType || 'none'}\n      sx={sx}\n      buttonOptions={{\n        icon: <FaRuler />,\n        title: 'Measure',\n        testId: 'cl-measure-btn',\n        ...buttonOptions\n      }}\n      {...rest}\n    >\n      <ButtonGroup>\n        <Button\n          height={33.5}\n          // sx={{ height: '33.5px' }}\n          className=\"draw-tool\"\n          onClick={() => {\n            measureControl.changeMode('simple_select');\n            setLinePopupOpen(false);\n            setAreaPopupOpen(false);\n          }}\n        >\n          <Text sx={{ fontSize: '12px' }}>Measure</Text>\n        </Button>\n        <Button\n          title=\"Measure Line\"\n          className=\"draw-tool draw-tool--line\"\n          onClick={() => {\n            startDraw('draw_line_string');\n            setLinePopupOpen(true);\n            setAreaPopupOpen(false);\n          }}\n        >\n          <LineIcon />\n        </Button>\n        <Button\n          title=\"Measure Area\"\n          className=\"draw-tool draw-tool--polygon\"\n          onClick={() => {\n            startDraw('draw_polygon');\n            setAreaPopupOpen(true);\n            setLinePopupOpen(false);\n          }}\n        >\n          <PolygonIcon />\n        </Button>\n        {deleteButton}\n      </ButtonGroup>\n      <Box\n        bg=\"primary\"\n        p={2}\n        color=\"background\"\n        height=\"32px\"\n        width={135}\n        sx={{\n          display,\n          borderColor: 'white',\n          borderWidth: 1,\n          borderStyle: 'solid'\n        }}\n      >\n        {displayContent}\n      </Box>\n    </BaseComponent>\n  );\n};\n\nexport default Measure;\n","/** @jsxImportSource theme-ui */\nimport {\n  Container,\n  Label,\n  Select,\n  Input,\n  Grid,\n  Box,\n  Text,\n  Close,\n  Link\n} from 'theme-ui';\nimport { useState } from 'react';\nimport Draggable from 'react-draggable';\nimport { CompactPicker } from 'react-color';\n\nconst LabelMaker = ({ x, y, target, theme }) => {\n  target.style.padding = '4px';\n  target.style.textShadow = 'none';\n\n  const [hidden, setHidden] = useState(false);\n\n  const [textColor, setTextColor] = useState(target.style.color || 'black');\n  const [backgroundColor, setBackgroundColor] = useState(\n    target.style.backgroundColor || 'white'\n  );\n\n  const [colorPickerActive, setColorPickerActive] = useState(false);\n  const [currentColorPicker, setCurrentColorPicker] = useState(false);\n\n  const updateText = (e) => {\n    target.innerHTML = e.target.value.toUpperCase();\n  };\n\n  const updateFontSize = (e) => {\n    target.style.fontSize = `${e.target.value}px`;\n  };\n\n  const updateFontFamily = (e) => {\n    target.style.fontFamily = e.target.value;\n  };\n\n  const updateFontWeight = (e) => {\n    target.style.fontWeight = e.target.value;\n  };\n\n  const updateColors = (color) => {\n    const { hex } = color;\n    if (currentColorPicker === 'fg') {\n      target.style.color = hex;\n      setTextColor(hex);\n    } else if (currentColorPicker === 'bg') {\n      target.style.backgroundColor = hex;\n      setBackgroundColor(hex);\n    }\n  };\n\n  return (\n    <Draggable handle=\".handle\">\n      <Box\n        sx={{\n          position: 'absolute',\n          top: `${y}px`,\n          left: `${x}px`,\n          zIndex: 99,\n          backgroundColor: 'white',\n          width: '280px',\n          borderRadius: '9px',\n          display: hidden ? 'none' : ''\n        }}\n      >\n        <Container\n          className=\"handle\"\n          sx={{\n            textAlign: 'center',\n            cursor: 'pointer',\n            backgroundColor: theme.colors.primary,\n            borderTopLeftRadius: '9px',\n            borderTopRightRadius: '9px',\n            padding: '5px'\n          }}\n        >\n          <Text sx={{ color: 'white', fontFamily: theme.fonts.body }}>\n            Label Editor\n          </Text>\n          <Close\n            sx={{\n              position: 'absolute',\n              top: 0,\n              right: 0,\n              color: 'white',\n              cursor: 'pointer'\n            }}\n            onClick={() => {\n              setHidden(true);\n            }}\n          />\n        </Container>\n\n        <Container>\n          <Box sx={{ margin: '2.5px' }}>\n            <Label sx={{ fontFamily: theme.fonts.body }} htmlFor=\"label-edit\">\n              Label\n            </Label>\n            <Input\n              placeholder={target.innerHTML}\n              name=\"label-edit\"\n              id=\"label-edit\"\n              onChange={updateText}\n              sx={{ padding: '2px' }}\n              mb={1}\n            />\n\n            <Label\n              sx={{ fontFamily: theme.fonts.body }}\n              htmlFor=\"font-size-edit\"\n            >\n              Font Size\n            </Label>\n            <Input\n              placeholder={target.style.fontSize.replace('px', '') || '12'}\n              name=\"font-size-edit\"\n              id=\"font-size-edit\"\n              onChange={updateFontSize}\n              sx={{ padding: '2px' }}\n              mb={1}\n            />\n\n            <Label\n              sx={{ fontFamily: theme.fonts.body }}\n              htmlFor=\"font-family-edit\"\n            >\n              Font Family\n            </Label>\n            <Select\n              name=\"font-family-edit\"\n              id=\"font-family-edit\"\n              mb={1}\n              onChange={updateFontFamily}\n              sx={{ padding: '2px' }}\n            >\n              <option value=\"serif\">Serif</option>\n              <option value=\"sans-serif\">Sans-Serif</option>\n              <option value=\"cursive\">Cursive</option>\n              <option value=\"monospace\">Monospace</option>\n              <option value=\"fantasy\">Fantasy</option>\n            </Select>\n\n            <Label\n              sx={{ fontFamily: theme.fonts.body }}\n              htmlFor=\"font-weight-edit\"\n            >\n              Font Weight\n            </Label>\n            <Input\n              placeholder={target.style.fontWeight || 200}\n              name=\"font-weight-edit\"\n              id=\"font-weight-edit\"\n              onChange={updateFontWeight}\n              sx={{ padding: '2px' }}\n              mb={1}\n            />\n\n            <Box\n              sx={{ textAlign: currentColorPicker === 'fg' ? 'left' : 'right' }}\n              mb={1}\n            >\n              {colorPickerActive ? (\n                <CompactPicker onChange={updateColors} />\n              ) : (\n                ''\n              )}\n            </Box>\n\n            <Grid gap={2} mb={1} columns={[2, '1fr 1fr']}>\n              <Box\n                bg={textColor}\n                onClick={() => {\n                  if (currentColorPicker === 'fg') {\n                    setColorPickerActive(false);\n                    setCurrentColorPicker(false);\n                  } else {\n                    setColorPickerActive(true);\n                    setCurrentColorPicker('fg');\n                  }\n                }}\n                sx={{\n                  color: 'white',\n                  cursor: 'pointer',\n                  border:\n                    currentColorPicker === 'fg' ? 'solid greenyellow 3px' : ''\n                }}\n              >\n                FG\n              </Box>\n              <Box\n                bg={backgroundColor}\n                onClick={() => {\n                  if (currentColorPicker === 'bg') {\n                    setColorPickerActive(false);\n                    setCurrentColorPicker(false);\n                  } else {\n                    setColorPickerActive(true);\n                    setCurrentColorPicker('bg');\n                  }\n                }}\n                sx={{\n                  cursor: 'pointer',\n                  border:\n                    currentColorPicker === 'bg' ? 'solid greenyellow 3px' : ''\n                }}\n              >\n                BG\n              </Box>\n            </Grid>\n\n            <Box p={2} sx={{ textAlign: 'center' }}>\n              <Link\n                sx={{ color: '#a70000', fontFamily: theme.fonts.body }}\n                href=\"#!\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  const choice = window.confirm('are you sure');\n                  if (choice) {\n                    target.parentNode.removeChild(target);\n                    setHidden(true);\n                  }\n                }}\n              >\n                Delete Label\n              </Link>\n            </Box>\n          </Box>\n        </Container>\n      </Box>\n    </Draggable>\n  );\n};\n\nexport default LabelMaker;\n","// custom text mode for mapbox draw\nimport mapboxgl from 'mapbox-gl';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport LabelMaker from './LabelMaker';\n\nconst GetTextMode = (theme) => {\n  const TextMode = {};\n\n  // /**\n  //  * @param {String} HTML representing a single element\n  //  * @return {Element}\n  //  */\n  function htmlToElement(html) {\n    const template = document.createElement('template');\n    template.innerHTML = html.trim(); // Never return a text node of whitespace as the result\n    return template.content.firstChild;\n  }\n\n  // When the mode starts this function will be called.\n  // The `opts` argument comes from `draw.changeMode('lotsofpoints', {count:7})`.\n  // The value returned should be an object and will be passed to all other lifecycle functions\n  TextMode.onSetup = function (/* opts */) {\n    const state = {};\n    // state.count = opts.count || 0;\n    return state;\n  };\n\n  // Whenever a user clicks on the map, Draw will call `onClick`\n  TextMode.onClick = function (state, e) {\n    // `this.newFeature` takes geojson and makes a DrawFeature\n    const point = this.newFeature({\n      type: 'Feature',\n      // properties: {\n      //   count: state.count\n      // },\n      geometry: {\n        type: 'Point',\n        coordinates: [e.lngLat.lng, e.lngLat.lat]\n      }\n    });\n    // this.addFeature(point); // puts the point on the map\n\n    const marker = new mapboxgl.Marker({\n      element: htmlToElement(\n        // `<input class='cc-draw-text' style='text-align: center;' onkeypress=\"this.style.width = ((this.value.length + 1) * 8) + 'px';\" />`\n        `<p class=\"cl-draw-text\" style=\"text-shadow:0 0 4px #FFFFFF;text-stroke: .1em #FFFFFF; webkit-text-stroke = .1em #FFFFFF; cursor: context-menu\" title=\"Right click to edit label style\">New Label</p>`\n      ),\n      // element: document.createElement('input'),\n      draggable: true\n    });\n\n    marker.getElement().addEventListener('contextmenu', (clickEvent) => {\n      const exists = document.getElementById('label-maker');\n      if (exists) {\n        exists.parentNode.removeChild(exists);\n      }\n      const container = document.createElement('div');\n      container.id = 'label-maker';\n      document.body.appendChild(container);\n      ReactDOM.render(\n        <LabelMaker\n          x={clickEvent.clientX + 50}\n          y={clickEvent.clientY + 25}\n          target={clickEvent.target}\n          theme={theme}\n        />,\n        container\n      );\n    });\n\n    marker.setLngLat(e.lngLat);\n    marker.addTo(this.map);\n\n    this.map.fire('draw.create', {\n      features: [point.toGeoJSON()]\n    });\n\n    this.changeMode('simple_select');\n  };\n\n  // Whenever a user clicks on a key while focused on the map, it will be sent here\n  TextMode.onKeyUp = function (state, e) {\n    if (e.keyCode === 27) return this.changeMode('simple_select');\n    return false;\n  };\n\n  // This is the only required function for a mode.\n  // It decides which features currently in Draw's data store will be rendered on the map.\n  // All features passed to `display` will be rendered, so you can pass multiple display features per internal feature.\n  // See `styling-draw` in `API.md` for advice on making display features\n  TextMode.toDisplayFeatures = function (state, geojson, display) {\n    display(geojson);\n  };\n\n  return TextMode;\n};\n\nexport default GetTextMode;\n","export default function allowMapInteractions(map, allow) {\n  // console.log(map, allow);\n  if (allow) {\n    map.boxZoom.enable();\n    map.scrollZoom.enable();\n    map.dragPan.enable();\n    map.dragRotate.enable();\n    map.keyboard.enable();\n    map.doubleClickZoom.enable();\n    map.touchZoomRotate.enable();\n  } else {\n    map.boxZoom.disable();\n    map.scrollZoom.disable();\n    map.dragPan.disable();\n    map.dragRotate.disable();\n    map.keyboard.disable();\n    map.doubleClickZoom.disable();\n    map.touchZoomRotate.disable();\n  }\n  // console.log(map.dragPan);\n}\n","import allowMapInteractions from './allowMapInteractions';\n\nconst StaticMode = {};\n\nStaticMode.onSetup = function() {\n  this.setActionableState(); // default actionable state is false for all actions\n  allowMapInteractions(this.map, false);\n  return {};\n};\n\nStaticMode.toDisplayFeatures = function(state, geojson, display) {\n  display(geojson);\n};\n\nexport default StaticMode;\n","/* eslint-disable no-param-reassign */\n\nimport React, { useState, useContext } from 'react';\nimport { Button, useThemeUI } from 'theme-ui';\nimport {\n  MdDelete as DeleteIcon,\n  MdPlace as PointIcon,\n  MdTimeline as LineIcon,\n  MdTextFormat as TextIcon\n} from 'react-icons/md';\nimport { FaDrawPolygon as PolygonIcon, FaPencilAlt } from 'react-icons/fa';\n\n// import { useTheme } from 'emotion-theming';\nimport ButtonGroup from '../_primitives/ButtonGroup';\nimport Context from '../../DefaultContext';\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\nimport mapExists from '../../util/mapExists';\n\nimport GetTextMode from './textDrawMode';\nimport StaticMode from './staticDrawMode';\nimport allowMapInteractions from './allowMapInteractions';\nimport BaseComponent from '../_common/BaseComponent';\n\nconst Draw = ({ baseType, buttonOptions, sx, ...rest }) => {\n  const {theme} = useThemeUI();\n\n  const config = useContext(Context);\n  const { map } = config;\n  const [drawControl, setDrawControl] = useState(null);\n  const [nextMode, setNextMode] = useState(null);\n\n  if (!mapExists(map)) {\n    return null;\n  }\n\n  async function startDraw(drawType) {\n    // console.log(`start drawing ${drawType}`);\n\n    const draw =\n      drawControl ||\n      (await import('@mapbox/mapbox-gl-draw').then(\n        ({ default: MapboxDraw }) =>\n          new MapboxDraw({\n            displayControlsDefault: false,\n            // eslint-disable-next-line prefer-object-spread\n            modes: Object.assign(\n              {\n                draw_text: GetTextMode(theme),\n                static: StaticMode\n              },\n              MapboxDraw.modes\n            )\n          })\n      ));\n\n    if (!drawControl) {\n      setDrawControl(draw);\n      map.addControl(draw);\n    }\n\n    const nm = drawType || 'simple_select';\n    setNextMode(nm);\n    draw.changeMode(nm);\n  }\n\n  function clearDrawings() {\n    if (drawControl) {\n      drawControl.deleteAll();\n      const el = document.getElementsByClassName('cl-draw-text');\n      while (el.length > 0) {\n        el[0].remove();\n      }\n    }\n  }\n\n  function hideTextArea(textEl) {\n    textEl.addEventListener('click', (/* e */) => {\n      allowMapInteractions(map, false);\n    });\n    textEl.style.backgroundColor = 'rgba(0, 0, 0, 0)';\n    textEl.style.borderStyle = 'none';\n    textEl.style.fontSize = '14px';\n    textEl.style.textShadow = '0 0 2px #FFFFFF';\n    textEl.style.textStroke = '.02em #FFFFFF';\n    textEl.style.webkitTextStroke = '.02em #FFFFFF';\n    textEl.style.resize = 'none';\n  }\n\n  function showTextArea(textEl) {\n    textEl.style.backgroundColor = '#FFFFFF';\n    textEl.style.borderStyle = 'inset';\n    // textEl.style.resize = 'both';\n    textEl.focus();\n  }\n\n  map.on('draw.create', (/* e */) => {\n    // console.log(nextMode);\n    if (nextMode === 'draw_text') {\n      // console.log('show text!');\n      const el = document.getElementsByClassName('cc-draw-text');\n      // console.log(el);\n\n      for (let i = 0; i < el.length; i += 1) {\n        el[i].focus();\n        el[i].addEventListener('click', () => {\n          // console.log('click');\n          drawControl.changeMode('static');\n          showTextArea(el[i]);\n        });\n      }\n\n      // eslint-disable-next-line no-restricted-globals\n      addEventListener('keyup', (e) => {\n        if (e.keyCode === 13) {\n          if (drawControl.getMode() === 'static') {\n            drawControl.changeMode('simple_select');\n            allowMapInteractions(map, true);\n          }\n          hideTextArea(el[el.length - 1]);\n        }\n      });\n      // eslint-disable-next-line no-restricted-globals\n      addEventListener('dblclick', () => {\n        if (drawControl.getMode() === 'static') {\n          drawControl.changeMode('simple_select');\n          allowMapInteractions(map, true);\n        }\n        hideTextArea(el[el.length - 1]);\n      });\n    }\n  });\n\n  return (\n    <BaseComponent\n      className=\"draw-tools\"\n      baseType={baseType || 'none'}\n      buttonOptions={{\n        icon: <FaPencilAlt />,\n        title: 'Draw',\n        testId: 'cl-draw-btn',\n        ...buttonOptions\n      }}\n      sx={sx}\n      {...rest}\n    >\n      <ButtonGroup>\n        <Button\n          title=\"Draw Point\"\n          className=\"draw-tool draw-tool--point\"\n          onClick={() => startDraw('draw_point')}\n        >\n          <PointIcon />\n        </Button>\n        <Button\n          title=\"Draw Line\"\n          className=\"draw-tool draw-tool--line\"\n          onClick={() => startDraw('draw_line_string')}\n        >\n          <LineIcon />\n        </Button>\n        <Button\n          title=\"Draw Polygon\"\n          className=\"draw-tool draw-tool--polygon\"\n          onClick={() => startDraw('draw_polygon')}\n        >\n          <PolygonIcon />\n        </Button>\n        <Button\n          title=\"Draw Text\"\n          className=\"draw-tool draw-tool--text\"\n          onClick={() => {\n            startDraw('draw_text');\n          }}\n        >\n          <TextIcon />\n        </Button>\n        <Button\n          title=\"Delete Drawing\"\n          className=\"draw-tool draw-tool--delete\"\n          onClick={() => {\n            clearDrawings();\n          }}\n        >\n          <DeleteIcon />\n        </Button>\n      </ButtonGroup>\n    </BaseComponent>\n  );\n};\n\nexport default Draw;\n","/** @jsxImportSource theme-ui */\n/*  eslint-disable no-underscore-dangle */\nimport { Box, Text } from 'theme-ui';\nimport List from '../_primitives/List';\nimport ListItem from '../_primitives/ListItem';\n\nconst buildStyle = (lyr) => {\n  const { type } = lyr;\n  \n  // fill-color, fill-opacity, fill-outline-color, fill-pattern\n  function fill(paint) {\n    let fc;\n    let foc;\n    const fcValue = paint.get('fill-color').value;\n    const focValue = paint.get('fill-outline-color').value;\n    const foValue = paint.get('fill-opacity').value?.value || 1;\n    // Is this a data driven paint style?\n    if (\n      fcValue._parameters &&\n      Object.prototype.hasOwnProperty.call(fcValue._parameters, 'stops')\n      // fcValue._parameters.hasOwnProperty('stops')\n    ) {\n      // fc = fcValue._parameters.stops.map((s) => {\n      //   return [s[0], s[1]];\n      // });\n      fc = fcValue._parameters.stops;\n      if (fcValue._parameters.default) {\n        fc = [...fc, ['', fcValue._parameters.default]];\n      }\n    } else if  (\n      fcValue._styleExpression\n    ) {\n      const flattened = [];\n      Object.keys(fcValue._styleExpression.expression.cases).forEach(k => {\n        const value = fcValue._styleExpression.expression\n          .outputs[+fcValue._styleExpression.expression.cases[k]].value.toString();\n        const item = [k, value];\n        flattened.push(item);\n      });\n      if(fcValue._styleExpression.expression.otherwise) {\n        flattened.push(['', fcValue._styleExpression.expression.otherwise.value.toString()]);\n      }\n      fc = flattened;\n    } else {\n      fc = [fcValue.value.toString()];\n    }\n\n    if (\n      focValue._parameters &&\n      Object.prototype.hasOwnProperty.call(focValue._parameters, 'stops')\n    ) {\n      // foc = focValue._parameters.stops.map((s) => {\n      //   return [s[0], s[1]];\n      // });\n      foc = focValue._parameters.stops;\n      if (focValue._parameters.default) {\n        foc = [...fc, ['', focValue._parameters.default]];\n      }\n    } else if  (\n      focValue._styleExpression\n    ) {\n      const flattened = [];\n      Object.keys(focValue._styleExpression.expression.cases).forEach(k => {\n        const value = focValue._styleExpression.expression\n          .outputs[+focValue._styleExpression.expression.cases[k]].value.toString();\n        const item = [k, value];\n        flattened.push(item);\n      });\n      if(focValue._styleExpression.expression.otherwise) {\n        flattened.push(['', focValue._styleExpression.expression.otherwise.value.toString()]);\n      }\n      foc = flattened;\n    } else {\n      foc = [focValue.value.toString()];\n    }\n\n    const Items = () => {\n      let styles = [];\n      if (fc.length > 1) {\n        styles = fc.map((l) => {\n          return [...l, foc[0]];\n        });\n      } else if (foc.length > 1) {\n        styles = foc.map((l) => {\n          l.splice(1,0,fc[0]);\n          return l;\n        });\n      } else {\n        styles = [[null, fc[0], foc[0]]];\n      }\n\n      const svgs = styles.map((s, i) => {\n        return (\n          <ListItem\n            // eslint-disable-next-line react/no-array-index-key\n            key={i}\n            sx={{\n              margin: 0,\n              marginLeft: 4,\n              padding: 0,\n              display: 'flex'\n            }}\n          >\n            <Box>\n              <svg width=\"25\" height=\"25\">\n                <rect\n                  x=\"0\"\n                  y=\"0\"\n                  rx=\"0\"\n                  ry=\"0\"\n                  width=\"25\"\n                  height=\"25\"\n                  sx={{\n                    fill: s[1],\n                    stroke: s[2],\n                    strokeWidth: 3,\n                    fillOpacity: foValue,\n                    strokeOpacity: foValue\n                  }}\n                />\n              </svg>\n            </Box>\n            <Box>\n              <Text sx={{ padding: '3px' }}>{s[0]}</Text>\n            </Box>\n          </ListItem>\n        );\n      });\n\n      return <Box>{svgs}</Box>;\n    };\n\n    return (\n      <List\n        sx={{\n          margin: 0,\n          padding: 0\n        }}\n      >\n        <Items />\n      </List>\n    );\n  }\n\n  // circle-color, circle-opacity, circle-stroke-color, circle-stroke-opacity, circle-radius\n  function circle(paint) {\n    // circle-color, circle-stroke-color, circle-radius\n    /* csc, */ let cr;\n    let flexGrow;\n    let textAlign;\n\n    // Is circle-color a data driven paint style?\n    const cc = paint.get('circle-color').value.value.toString();\n    // if(paint.get('circle-color').value._parameters && paint.get('circle-color').value._parameters.hasOwnProperty('stops')) {\n    //   cc = paint.get('circle-color').value._parameters.stops;\n    // } else {\n    //   cc = [paint.get('circle-color').value.value.toString()];\n    // }\n\n    // Is circle-stroke-color a data driven paint style?\n    // csc = paint.get('circle-stroke-color').value.value.toString()\n    // if(paint.get('circle-stroke-color').value._parameters && paint.get('circle-stroke-color').value._parameters.hasOwnProperty('stops')) {\n    //   csc = paint.get('circle-color').value._parameters.stops;\n    // } else {\n    //   csc = [paint.get('circle-stroke-color').value.value.toString()];\n    // }\n    const crValue = paint.get('circle-radius').value;\n    // Is circle-radius a data driven paint style?\n    if (\n      crValue._parameters &&\n      Object.prototype.hasOwnProperty.call(crValue._parameters, 'stops') &&\n      crValue.kind === 'source'\n    ) {\n      flexGrow = 6;\n      textAlign = 'center';\n      cr = crValue._parameters.stops;\n      if (crValue._parameters.default) {\n        cr = [...cr, ['', crValue._parameters.default]];\n      }\n    } else {\n      flexGrow = 1;\n      textAlign = 'left';\n      cr = [crValue.value.toString()];\n      if (+cr[0] < 8) {\n        cr = ['8'];\n      }\n    }\n\n    const Items = () => {\n      let styles = [];\n      if (cr.length > 1) {\n        styles = cr.map((l) => {\n          return [...l];\n        });\n      } else {\n        styles = [[null, cr[0]]];\n      }\n\n      const svgs = styles.map((s, i) => {\n        const cSize = +s[1] + +s[1] * 0.75;\n        return (\n          <ListItem\n            // eslint-disable-next-line react/no-array-index-key\n            key={i}\n            sx={{\n              margin: 0,\n              marginLeft: 4,\n              padding: 0,\n              display: 'flex'\n            }}\n          >\n            <Box sx={{ flexGrow, textAlign }}>\n              <svg width={cSize} height={cSize}>\n                <circle\n                  cx={cSize / 2.0}\n                  cy={cSize / 2.0}\n                  r={cSize / 2.0 - 0.5}\n                  sx={{\n                    fill: cc\n                  }}\n                />\n              </svg>\n            </Box>\n            <Box\n              sx={{\n                flexGrow: 1,\n                lineHeight: s[1] >= 10 ? `${+s[1] * 1.8388 - 7.5}px` : '15px'\n              }}\n            >\n              <Text sx={{ padding: '3px' }}>{s[0]}</Text>\n            </Box>\n          </ListItem>\n        );\n      });\n\n      return <Box>{svgs}</Box>;\n    };\n\n    return (\n      <List\n        sx={{\n          margin: 0,\n          padding: 0\n        }}\n      >\n        <Items />\n      </List>\n    );\n  }\n\n  // line-cap, line-join, line-opacity, line-color, line-width, line-dasharray, line-gradient\n  function line(paint) {\n    let lc;\n    const lcValue = paint.get('line-color').value;\n    const { kind } = lcValue;\n    if (kind === 'source' || kind === 'constant') {\n      // is it a data-driven style?\n      if (\n        lcValue._parameters &&\n        Object.prototype.hasOwnProperty.call(lcValue._parameters, 'stops')\n      ) {\n        lc = lcValue._parameters.stops;\n        if (lcValue._parameters.default) {\n          lc = [...lc, ['', lcValue._parameters.default]]\n        }\n      } else if  (\n        lcValue._styleExpression\n      ) {\n        const flattened = [];\n        Object.keys(lcValue._styleExpression.expression.cases).forEach(k => {\n          const value = lcValue._styleExpression.expression\n            .outputs[+lcValue._styleExpression.expression.cases[k]].value.toString();\n          const item = [k, value];\n          flattened.push(item);\n        });\n        if(lcValue._styleExpression.expression.otherwise) {\n          flattened.push(['', lcValue._styleExpression.expression.otherwise.value.toString()]);\n        }\n        lc = flattened;\n      } else {\n        lc = [lcValue.value.toString()];\n      }\n\n      const Items = () => {\n        let styles = [];\n        if (lc.length > 1) {\n          styles = lc.map((l) => {\n            return [...l];\n          });\n        } else {\n          styles = [[null, lc[0]]];\n        }\n\n        const svgs = styles.map((s, i) => {\n          return (\n            <ListItem\n              // eslint-disable-next-line react/no-array-index-key\n              key={i}\n              sx={{\n                margin: 0,\n                marginLeft: 4,\n                padding: 0,\n                display: 'flex',\n                alignItems: 'flex-start',\n                justifyContent: 'flex-start'\n              }}\n            >\n              <Box>\n                <svg width=\"25\" height=\"25\">\n                  <rect\n                    x=\"0\"\n                    y=\"3.75\"\n                    rx=\"0\"\n                    ry=\"0\"\n                    width=\"25\"\n                    height=\"7.5\"\n                    sx={{ fill: s, strokeWidth: 2 }}\n                  />\n                </svg>\n              </Box>\n              <Box px={1}>\n                <Text>{s[0]}</Text>\n              </Box>\n            </ListItem>\n          );\n        });\n\n        return <Box>{svgs}</Box>;\n      };\n\n      return (\n        <List\n          sx={{\n            margin: 0,\n            padding: 0\n          }}\n        >\n          <Items />\n        </List>\n      );\n    }\n    if (paint.get('line-color').value.kind === 'composite') {\n      try {\n        lc = paint\n          .get('line-color')\n          .value._styleExpression.expression.outputs[0].outputs[0].value.toString();\n        return (\n          <List\n            sx={{\n              margin: 0,\n              marginLeft: 4,\n              padding: 0\n            }}\n          >\n            <ListItem sx={{ margin: 0, marginLeft: 4, padding: 0 }}>\n              <svg width=\"25\" height=\"25\">\n                <rect\n                  x=\"0\"\n                  y=\"0\"\n                  rx=\"0\"\n                  ry=\"0\"\n                  width=\"25\"\n                  height=\"7.5\"\n                  sx={{ fill: lc, strokeWidth: 2 }}\n                />\n              </svg>\n            </ListItem>\n          </List>\n        );\n      } catch (err) {\n        console.error(err);\n        return false;\n      }\n    } else {\n      // todo: determine color from other line types\n      return false;\n    }\n  }\n\n  function symbol(/* val */) {\n    console.log('legend cannot render symbol yet');\n    return false;\n  }\n\n  function heatmap(/* val */) {\n    console.log('legend cannot render heatmap yet');\n    return false;\n  }\n\n  function fillExtrusion(/* val */) {\n    console.log('legend cannot render fill-extrusion yet');\n    return false;\n  }\n\n  function raster(/* val */) {\n    console.log('legend cannot render raster yet');\n    return false;\n  }\n\n  function hillshade(/* val */) {\n    console.log('legend cannot render hillshade yet');\n    return false;\n  }\n\n  function background(/* val */) {\n    console.log('legend cannot render background yet');\n    return false;\n  }\n\n  // https://docs.mapbox.com/mapbox-gl-js/style-spec/#layers\n  try {\n    switch (type) {\n      case 'fill':\n        return fill(lyr.paint);\n      case 'circle':\n        return circle(lyr.paint);\n      case 'line':\n        return line(lyr.paint);\n      case 'symbol':\n        return symbol(lyr.paint);\n      case 'heatmap':\n        return heatmap(lyr.paint);\n      case 'fill-extrusion':\n        return fillExtrusion(lyr.paint);\n      case 'raster':\n        return raster(lyr.paint);\n      case 'hillshade':\n        return hillshade(lyr.paint);\n      case 'background':\n        return background(lyr.paint);\n      default:\n        return false;\n    }\n  } catch (err) {\n    // top level error handling.... better just to render nothing\n    console.warn(err);\n    return false;\n  }\n};\n\n// eslint-disable-next-line import/prefer-default-export\nexport { buildStyle };\n/*  eslint-enable no-underscore-dangle */\n","// Copying this, until ThemeUI merges this PR https://github.com/system-ui/theme-ui/pull/1035\n\nimport React from 'react';\nimport { Box } from 'theme-ui';\n\nconst GUTTER = 2;\nconst SIZE = 18;\n\nconst Switch = React.forwardRef(\n  ({ className, sx, variant = 'switch', ...props }, ref) => {\n    return (\n      <Box>\n        <Box\n          ref={ref}\n          as=\"input\"\n          type=\"checkbox\"\n          __themeKey=\"forms\"\n          {...props}\n          sx={{\n            position: 'absolute',\n            opacity: 0,\n            zIndex: -1,\n            width: 1,\n            height: 1,\n            overflow: 'hidden'\n          }}\n        />\n        <Box\n          css={{\n            padding: GUTTER\n          }}\n          __themeKey=\"forms\"\n          variant={variant}\n          className={className}\n          sx={sx}\n          __css={{\n            position: 'relative',\n            bg: 'gray',\n            borderRadius: SIZE,\n            height: SIZE + GUTTER * 2,\n            width: SIZE * 2 + GUTTER * 2,\n            mr: 2,\n            cursor: 'pointer',\n\n            'input:disabled ~ &': {\n              opacity: 0.5,\n              cursor: 'not-allowed'\n            },\n\n            '& > div': {\n              display: 'flex',\n              alignItems: 'center',\n              borderRadius: '50%',\n              height: SIZE,\n              width: SIZE,\n              bg: 'white',\n              boxShadow: '0 1px 2px rgba(0, 0, 0, 0.1)',\n              position: 'relative',\n              transform: 'translateX(0%)',\n              transition: `transform 240ms cubic-bezier(0.165, 0.840, 0.440, 1.000)`\n            },\n\n            'input:checked ~ &': {\n              bg: 'primary',\n              '> div': {\n                transform: 'translateX(100%)'\n              }\n            }\n          }}\n          {...props}\n        >\n          <Box />\n        </Box>\n      </Box>\n    );\n  }\n);\n\nexport default Switch;\n","import mapExists from '../../../util/mapExists';\n\nexport default function toggleLayerVisibility(map, layerId, checked) {\n  if (!mapExists(map)) return false;\n  if (checked) {\n    map.setLayoutProperty(layerId, 'visibility', 'visible');\n  } else {\n    map.setLayoutProperty(layerId, 'visibility', 'none');\n  }\n  return true;\n}\n","/** @jsxImportSource theme-ui */\nimport {\n  Menu,\n  MenuButton,\n  MenuItem,\n  MenuPopover,\n  MenuItems\n} from '@reach/menu-button';\nimport '@reach/menu-button/styles.css';\n\nconst LayerActionsMenu = ({ layerActions }) => {\n  if (layerActions && layerActions.length > 0) {\n    return (\n      <Menu className=\"cl-layer-list-action-menu\">\n        <MenuButton\n          sx={{\n            color: 'text',\n            bg: 'background',\n            borderStyle: 'none',\n            fontSize: 1,\n            ':hover': {\n              cursor: 'pointer'\n            }\n          }}\n        >\n          ...\n        </MenuButton>\n        <MenuPopover sx={{ zIndex: 3, fontFamily: 'body' }}>\n          <MenuItems>\n            {layerActions.map((action) => {\n              return (\n                <MenuItem\n                  key={action.title}\n                  onSelect={() => {\n                    action.action();\n                  }}\n                >\n                  {action.title}\n                </MenuItem>\n              );\n            })}\n          </MenuItems>\n        </MenuPopover>\n      </Menu>\n    );\n  }\n  return null;\n};\n\nexport default LayerActionsMenu;\n","import React, { useState, useEffect } from 'react';\nimport { Flex, Box, Text, Label, Checkbox, IconButton } from 'theme-ui';\nimport { FaEye, FaEyeSlash } from 'react-icons/fa';\nimport Switch from '../_primitives/Switch';\nimport ListItem from '../_primitives/ListItem';\nimport mapExists from '../../util/mapExists';\nimport { buildStyle } from './Legend';\nimport toggleLayerVisibility from './util/toggleLayerVisibility';\nimport LayerActionsMenu from './LayerActionsMenu';\n\nconst LayerListItem = ({\n  layerInfo,\n  map,\n  legend,\n  showActions,\n  itemActions,\n  checkboxStyle,\n  baseType\n}) => {\n  const [isChecked, setIsChecked] = useState(false);\n  const [checkbox, setCheckbox] = useState(null);\n  const [style, setStyle] = useState();\n  const [legendVisibility, setLegendVisibility] = useState(!!legend);\n\n  const { layerIds } = layerInfo;\n\n  const handleChange = (e) => {\n    const { checked } = e.currentTarget;\n    layerIds.map((layerId) => {\n      if (checked || !isChecked) {\n        setIsChecked(true);\n        toggleLayerVisibility(map, layerId, true);\n      } else {\n        setIsChecked(false);\n        toggleLayerVisibility(map, layerId, false);\n      }\n      return true;\n    });\n  };\n\n  const showHideLegend = (e) => {\n    if (legend) {\n      e.preventDefault();\n    } else {\n      return;\n    }\n    setLegendVisibility(!legendVisibility);\n  };\n\n  useEffect(() => {\n    switch (checkboxStyle) {\n      case 'check':\n        setCheckbox(<Checkbox onChange={handleChange} checked={isChecked} />);\n        break;\n      case 'switch':\n        setCheckbox(<Switch checked={isChecked} onChange={handleChange} />);\n        break;\n      case 'eye':\n        if (isChecked) {\n          setCheckbox(\n            <IconButton\n              onClick={handleChange}\n              sx={{\n                alignItems: 'baseline'\n              }}\n            >\n              <FaEye />\n            </IconButton>\n          );\n        } else {\n          setCheckbox(\n            <IconButton\n              onClick={handleChange}\n              sx={{\n                alignItems: 'baseline'\n              }}\n            >\n              <FaEyeSlash />\n            </IconButton>\n          );\n        }\n\n        break;\n      default:\n        setCheckbox(<Checkbox checked={isChecked} onChange={handleChange} />);\n        break;\n    }\n  }, [checkboxStyle, isChecked]);\n\n  useEffect(() => {\n    let layerVisibility;\n    let checked;\n    if (mapExists(map)) {\n      const setCurrentState = () => {\n        layerVisibility = map.getLayoutProperty(layerIds[0], 'visibility');\n        checked = layerVisibility !== 'none';\n        setIsChecked(checked);\n        if (legend) {\n          setStyle(\n            layerInfo.legendStyle\n              ? layerInfo.legendStyle()\n              : buildStyle(map.getLayer(layerIds[0]))\n          );\n        }\n      };\n      if (Object.keys(map).length > 0) {\n        if (baseType && baseType === 'button') {\n          try {\n            setCurrentState();\n          } catch (e) {\n            if (e instanceof TypeError) {\n              map.once('idle', () => {\n                setCurrentState();\n              });\n            }\n          }\n        } else {\n          map.once('idle', () => {\n            setCurrentState();\n          });\n        }\n      }\n    }\n  }, [map, layerInfo]);\n\n  let actionMenuSlot;\n\n  if (showActions) {\n    actionMenuSlot = <LayerActionsMenu layerActions={itemActions} />;\n  } else {\n    actionMenuSlot = null;\n  }\n\n  const LegendListItem = () => {\n    return (\n      <Box sx={{ display: legendVisibility ? '' : 'none' }}>\n        <ListItem\n          css={{ display: legend && style ? '' : 'none' }}\n          key={`${layerInfo.layerName}-legend`}\n        >\n          {style}\n        </ListItem>\n      </Box>\n    );\n  };\n\n  return (\n    <Box className=\"listItem\">\n      <ListItem key={layerInfo.layerName}>\n        <Flex>\n          <Label>\n            {checkbox}\n            <Text\n              pt={1}\n              sx={{\n                fontWeight: 'bold',\n                cursor: 'pointer',\n                ':hover': { textDecoration: 'underline' }\n              }}\n              onClick={showHideLegend}\n            >\n              {layerInfo.layerName}\n            </Text>\n          </Label>\n          {actionMenuSlot}\n        </Flex>\n      </ListItem>\n      {legend ? <LegendListItem /> : null}\n    </Box>\n  );\n};\n\nexport default LayerListItem;\n","import React, { useState, useEffect } from 'react';\nimport { Flex, Box, Text, Label, Radio } from 'theme-ui';\nimport ListItem from '../_primitives/ListItem';\nimport mapExists from '../../util/mapExists';\nimport { buildStyle } from './Legend';\nimport LayerActionsMenu from './LayerActionsMenu';\n\nconst GroupLayerItem = ({\n  layerInfo,\n  map,\n  legend,\n  showActions,\n  itemActions,\n  group,\n  callback, // toggleGroupLayers,\n  activeOnLoad\n}) => {\n  const [style, setStyle] = useState();\n\n  const { layerIds } = layerInfo;\n\n  const handleRadioChange = (e) => {\n    const value = e.currentTarget.value.split(',');\n    callback(value);\n  };\n\n  useEffect(() => {\n    // let layerVisibility;\n    // let checked;\n    if (mapExists(map)) {\n      if (Object.keys(map).length > 0) {\n        map.once('idle', () => {\n          // const layerVisibility = map.getLayoutProperty(\n          //   layerIds[0],\n          //   'visibility'\n          // );\n          // checked = layerVisibility !== 'none';\n          if (legend) {\n            setStyle(\n              layerInfo.legendStyle\n                ? layerInfo.legendStyle()\n                : buildStyle(map.getLayer(layerIds[0]))\n            );\n          }\n        });\n      }\n    }\n  }, [map, layerInfo]);\n\n  let actionMenuSlot;\n\n  if (showActions) {\n    actionMenuSlot = <LayerActionsMenu layerActions={itemActions} />;\n  } else {\n    actionMenuSlot = null;\n  }\n\n  const LegendListItem = () => {\n    return (\n      <Box>\n        <ListItem\n          css={{ display: legend && style ? '' : 'none' }}\n          key={`${layerInfo.layerName}-legend`}\n        >\n          {style}\n        </ListItem>\n      </Box>\n    );\n  };\n\n  return (\n    <Box className=\"listItem\">\n      <ListItem key={layerInfo.layerName}>\n        <Flex>\n          <Label>\n            <Radio\n              name={group}\n              onChange={(e) => {\n                handleRadioChange(e);\n              }}\n              value={layerInfo.layerIds}\n              defaultChecked={activeOnLoad}\n            />\n            <Text pt={1}>{layerInfo.layerName}</Text>\n          </Label>\n          {actionMenuSlot}\n        </Flex>\n      </ListItem>\n      {legend ? <LegendListItem /> : null}\n    </Box>\n  );\n};\n\nexport default GroupLayerItem;\n","import React, { useState } from 'react';\nimport { Checkbox, Flex, Text, Label, Box } from 'theme-ui';\nimport ListItem from '../_primitives/ListItem';\nimport List from '../_primitives/List';\nimport toggleLayerVisibility from './util/toggleLayerVisibility';\nimport GroupLayerItem from './GroupLayerItem';\n// import mapExists from '../../util/mapExists';\n\nconst GroupLayer = ({ group, map, legend, showOnLoad = true }) => {\n  const [isChecked, setIsChecked] = useState(showOnLoad);\n\n  let layers = group.layers.map((layer) => {\n    const ids = layer.layerIds.map((id) => {\n      return id;\n    });\n    return ids;\n  });\n\n  layers = layers.flat();\n\n  /* TO DO: figure out how to configure whether the group is visible or not on load */\n  // useEffect(() => {\n  //   let layerVisibility, checked;\n  //   if (mapExists(map)) {\n  //     if (Object.keys(map).length > 0) {\n  //       map.once('idle', () => {\n\n  //         layerVisibility = map.getLayoutProperty(layerIds[0], 'visibility');\n  //         checked = layerVisibility === 'none' ? false : true;\n  //         setIsChecked(checked);\n  //         if (legend) {\n  //           setStyle(\n  //             layerInfo.legendStyle\n  //               ? layerInfo.legendStyle()\n  //               : buildStyle(map.getLayer(layerIds[0]))\n  //           );\n  //         }\n  //       });\n  //     }\n  //   }\n  // }, [map, layerInfo]);\n\n  const handleChange = (e) => {\n    const { checked } = e.currentTarget;\n    if (checked) {\n      setIsChecked(true);\n      layers.map((layerId) => {\n        toggleLayerVisibility(map, layerId, true);\n        return true;\n      });\n    } else {\n      setIsChecked(false);\n      layers.map((layerId) => {\n        toggleLayerVisibility(map, layerId, false);\n        return true;\n      });\n    }\n  };\n\n  const toggleGroupLayers = (layerArray) => {\n    // make sure layers sent in are in the group\n    const onLayers = layers.filter((layer) => {\n      return layerArray.includes(layer);\n    });\n\n    const offLayers = layers.filter((layer) => {\n      return !layerArray.includes(layer);\n    });\n\n    if (isChecked) {\n      onLayers.map((layerId) => {\n        toggleLayerVisibility(map, layerId, true);\n        return true;\n      });\n      offLayers.map((layerId) => {\n        toggleLayerVisibility(map, layerId, false);\n        return true;\n      });\n    } else {\n      layers.map((layerId) => {\n        toggleLayerVisibility(map, layerId, false);\n        return true;\n      });\n    }\n  };\n\n  const layerItems = group.layers.map((item, idx) => {\n    return (\n      <GroupLayerItem\n        key={item.layerName}\n        layerInfo={item}\n        map={map}\n        legend={legend}\n        itemActions={item.actions}\n        // showActions={item.showActions}\n        group={group.groupName}\n        callback={toggleGroupLayers}\n        activeOnLoad={idx === 0}\n      />\n    );\n  });\n\n  return (\n    <ListItem>\n      <Box>\n        <Flex sx={{ flexDirection: 'column' }}>\n          <Label>\n            <Checkbox checked={isChecked} onChange={handleChange} />\n            <Text pt={1} sx={{ fontWeight: 'bold' }}>\n              {group.groupName}\n            </Text>\n          </Label>\n          <List>{layerItems}</List>\n        </Flex>\n      </Box>\n    </ListItem>\n  );\n};\n\nexport default GroupLayer;\n","import React, { useContext } from 'react';\nimport { FaLayerGroup } from 'react-icons/fa';\nimport List from '../_primitives/List';\nimport BaseComponent from '../_common/BaseComponent';\nimport LayerListItem from './LayerListItem';\nimport Context from '../../DefaultContext';\nimport mapExists from '../../util/mapExists';\nimport GroupLayer from './GroupLayer';\n\nconst LayerList = ({\n  layers,\n  groupLayers,\n  legend = false,\n  showActions,\n  checkboxStyle,\n  baseType,\n  buttonOptions,\n  sx,\n  ...rest\n}) => {\n  const config = useContext(Context);\n  const { map } = config;\n\n  if (!mapExists(map)) return null;\n\n  const listItems = layers.map((item) => {\n    return (\n      <LayerListItem\n        key={item.layerName}\n        layerInfo={item}\n        map={map}\n        legend={legend}\n        itemActions={item.actions}\n        showActions={showActions}\n        checkboxStyle={checkboxStyle}\n        baseType={baseType}\n      />\n    );\n  });\n\n  let groupItems;\n  if (groupLayers && groupLayers.length > 0) {\n    groupItems = groupLayers.map((group) => {\n      return <GroupLayer group={group} map={map} legend={legend} />;\n    });\n  }\n\n  return (\n    <BaseComponent\n      baseType={baseType}\n      buttonOptions={{\n        icon: <FaLayerGroup />,\n        title: 'Layer List',\n        testId: 'cl-layerlist-btn',\n        ...buttonOptions\n      }}\n      sx={sx}\n      {...rest}\n    >\n      <List>{listItems}</List>\n      <List> {groupItems}</List>\n    </BaseComponent>\n  );\n};\n\nexport default LayerList;\n","import React, { Component } from 'react';\nimport AddData from './components/AddData/AddData';\nimport Map from './components/Map/Map';\nimport BasemapSwitcher from './components/BasemapSwitcher/BasemapSwitcher';\nimport mapOptions from './util/mockMapOptions';\nimport ElementsProvider from './components/_common/ElementsProvider';\nimport ScaleBar from './components/ScaleBar/ScaleBar'\nimport Measure from './components/Measure/Measure'\nimport Draw from './components/Draw/Draw'\nimport Legend from './components/LayerList/Legend'\nimport LayerList from './components/LayerList/LayerList'\n\nconst layers = [\n  {\n    layerIds: ['national-park'], //fill\n    layerName: 'National Parks',\n    actions: [\n      {\n        title: 'Custom Action',\n        action: () => {\n          alert('insert custom functions here');\n        }\n      }\n    ]\n  },\n  {\n    layerIds: ['water', 'water-shadow'], //fill\n    layerName: 'Water',\n    actions: [\n      {\n        title: 'Custom Action',\n        action: () => {\n          alert('insert custom functions here');\n        }\n      }\n    ]\n  },\n  {\n    layerIds: ['road-motorway-trunk'], //line\n    layerName: 'Motorway',\n    actions: [\n      {\n        title: 'Custom Action',\n        action: () => {\n          alert('insert custom functions here');\n        }\n      }\n    ]\n  },\n  {\n    layerIds: ['road-number-shield'], //symbol\n    layerName: 'Road Shield',\n    actions: [\n      {\n        title: 'Custom Action',\n        action: () => {\n          alert('insert custom functions here');\n        }\n      }\n    ],\n    legendStyle: () => {\n      return (\n        <svg width=\"25\" height=\"25\">\n          <rect\n            x=\"0\"\n            y=\"0\"\n            rx=\"0\"\n            ry=\"0\"\n            width=\"25\"\n            height=\"7.5\"\n            style={{ fill: 'red', borderWidth: 3 }}\n          />\n        </svg>\n      );\n    }\n  }\n];\n\nclass App extends Component {\n  render(){\n    return (\n      <ElementsProvider>\n      <Map mapOptions={mapOptions}>\n      <LayerList\n          layers={layers}\n          legend\n        />\n        <BasemapSwitcher/>\n        <ScaleBar/>\n        <Measure />\n        {/* <AddData/> */}\n        <Draw />\n      </Map>\n      </ElementsProvider>\n    );\n  }\n}\nexport default App;\n\n// export default function App() {\n// const mapContainer = useRef(null);\n// const map = useRef(null);\n// const [lng, setLng] = useState(-70.9);\n// const [lat, setLat] = useState(42.35);\n// const [zoom, setZoom] = useState(9);\n \n// useEffect(() => {\n// if (map.current) return; // initialize map only once\n// map.current = new mapboxgl.Map({\n// container: mapContainer.current,\n// style: 'mapbox://styles/mapbox/streets-v11',\n// center: [lng, lat],\n// zoom: zoom\n// });\n// });\n \n// useEffect(() => {\n// if (!map.current) return; // wait for map to initialize\n// map.current.on('move', () => {\n// setLng(map.current.getCenter().lng.toFixed(4));\n// setLat(map.current.getCenter().lat.toFixed(4));\n// setZoom(map.current.getZoom().toFixed(2));\n// });\n// });\n\n\n// return (\n// <div>\n// <div className=\"sidebar\">\n// Longitude: {lng} | Latitude: {lat} | Zoom: {zoom}\n// </div>\n// <div ref={mapContainer} className=\"map-container\" />\n// </div>\n// );\n// }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport './index.css';\nimport App from './App';\n \nReactDOM.render(\n\n<App />,\ndocument.getElementById('root')\n);"],"sourceRoot":""}