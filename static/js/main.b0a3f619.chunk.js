(this["webpackJsonpespon-playground"]=this["webpackJsonpespon-playground"]||[]).push([[0],{113:function(e,t){},148:function(e,t){},153:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n(33),r=n.n(o),a=(n(86),n(87),n(34)),c=n(35),l=n(81),s=n(78),d=n(20),u=n.n(d),b=n(3),h=n(21),j=n(7),p=n(4),x=n(156),f=n(80),O=n(76),g=n(2),v=function(e){var t=e.children,n=e.selectable,i=e.sx,o=n?Object(b.a)({padding:2,":hover":{cursor:"pointer",bg:"primary",color:"background"}},i):Object(b.a)({padding:2},i);return Object(g.jsx)(x.b,Object(b.a)(Object(b.a)({},e),{},{as:"li",sx:o,children:t}))},m=function(e){return null!==e&&void 0!==e&&("number"===typeof e?!isNaN(e):Array.isArray(e)?e.length>0:!!e)},y=["items","children","sx"],k=function(e){var t=e.items,n=e.children,i=e.sx,o=Object(p.a)(e,y),r=Object(b.a)({listStyleType:"none",padding:1},i);return m(n)?Object(g.jsx)(x.b,Object(b.a)(Object(b.a)({},o),{},{as:"ul",className:"cl-list",sx:r,children:n})):!!(t&&t.length>0)&&Object(g.jsx)(x.b,Object(b.a)(Object(b.a)({},o),{},{as:"ul",className:"cl-list",sx:r,children:t.map((function(e){return Object(g.jsx)(v,{children:e})}))}))},w=n(79),S=n(29),C=n(5),L=["closable","onClose","sx","children"],z=function(e){var t=e.closable,n=e.onClose,i=e.sx,o=e.children,r=Object(p.a)(e,L),a=Object(C.d)().theme;return Object(g.jsxs)(x.d,Object(b.a)(Object(b.a)({className:"cl-panel-component",color:"text",sx:Object(b.a)(Object(b.a)({padding:3,width:"300px",borderRadius:"4px",boxShadow:"0 0 4px rgba(0, 0, 0, .6)",bg:"background"},i),{},{paddingTop:t?0:3})},r),{},{children:[t&&Object(g.jsx)(x.g,{sx:{justifyContent:"flex-end",marginRight:"-".concat(a.space?a.space[3]:16,"px")},children:Object(g.jsx)(x.f,{sx:{color:"text",height:"24px",width:"24px",":hover":{cursor:"pointer"}},onClick:n})}),o]}))},P=["children","buttonOptions","sx"],N=function(e){var t,n,o,r=e.children,a=e.buttonOptions,c=e.sx,l=Object(p.a)(e,P),s=Object(i.useRef)(null),d=Object(S.a)(s),u=Object(i.useState)(!1),h=Object(j.a)(u,2),f=h[0],O=h[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.c,{ref:s,title:null===a||void 0===a?void 0:a.title,className:null!==(t=null===l||void 0===l?void 0:l.className)&&void 0!==t?t:"cl-btn","data-testid":null!==(n=null===a||void 0===a?void 0:a.testId)&&void 0!==n?n:"cl-btn",variant:null!==(o=null===a||void 0===a?void 0:a.variant)&&void 0!==o?o:"primary",onClick:function(){if(null===a||void 0===a?void 0:a.intercept)try{a.intercept()}catch(e){console.error(e)}else O(!f)},sx:Object(b.a)({},c),children:null===a||void 0===a?void 0:a.icon}),f&&Object(g.jsx)(w.a,{style:{zIndex:c.zIndex||2},targetRef:s,position:function(){return{left:(null===d||void 0===d?void 0:d.right)+10,top:(null===d||void 0===d?void 0:d.top)+window.scrollY}},children:Object(g.jsx)(z,{closable:!0,onClose:function(){return O(!1)},sx:{fontFamily:"body"},children:r})})]})},D=["baseType","buttonOptions","children","open","sx"],R=function(e){var t,n,i,o,r,a=e.baseType,c=e.buttonOptions,l=e.children,s=(e.open,e.sx),d=Object(p.a)(e,D),u=null!==(t=null===s||void 0===s?void 0:s.top)&&void 0!==t?t:"1rem",h=null!==(n=null===s||void 0===s?void 0:s.left)&&void 0!==n?n:"1rem";(null===s||void 0===s?void 0:s.bottom)&&(u=null),(null===s||void 0===s?void 0:s.right)&&(h=null);var j=Object(b.a)({fontFamily:"body",bg:"transparent",position:(null===s||void 0===s?void 0:s.position)||"absolute",top:u,left:h,bottom:null===s||void 0===s?void 0:s.bottom,right:null===s||void 0===s?void 0:s.right,zIndex:null!==(i=null===s||void 0===s?void 0:s.zIndex)&&void 0!==i?i:2},s),f=Object(b.a)({fontFamily:"body",bg:"background",position:(null===s||void 0===s?void 0:s.position)||"absolute",top:u,left:h,bottom:null===s||void 0===s?void 0:s.bottom,right:null===s||void 0===s?void 0:s.right,zIndex:null!==(o=null===s||void 0===s?void 0:s.zIndex)&&void 0!==o?o:2},s),O=Object(b.a)({fontFamily:"body",bg:(null===s||void 0===s?void 0:s.bg)||"primary",position:(null===s||void 0===s?void 0:s.position)||"absolute",top:u,left:h,bottom:null===s||void 0===s?void 0:s.bottom,right:null===s||void 0===s?void 0:s.right,zIndex:null!==(r=null===s||void 0===s?void 0:s.zIndex)&&void 0!==r?r:2,width:"32px",height:"32px",minWidth:"25px",minHeight:"25px",p:0,m:1,boxShadow:"0 0 4px rgba(0, 0, 0, .6)"},s),v=Object(g.jsx)(x.b,Object(b.a)(Object(b.a)({},d),{},{sx:j,children:l}));switch(a){case"none":return v;case"panel":return Object(g.jsx)(z,Object(b.a)(Object(b.a)({},d),{},{sx:f,children:l}));case"button":return Object(g.jsx)(N,Object(b.a)({children:l,buttonOptions:c,sx:O},d));default:return v}},T=Object(i.createContext)({});var M=function(e){return!!(e&&Object.keys(e).length>0)&&!!(e.style&&Object.keys(e.style).length>0)},E=n(74),F=n.n(E),W=n(49),I=n.n(W),J=n(75),A=n.n(J),B=1e8,H=["baseType","buttonOptions","sx"],X=new(function(){function e(){Object(a.a)(this,e),this.reader=new FileReader,this.reader.onload=this.handleFile.bind(this)}return Object(c.a)(e,[{key:"load",value:function(e,t){if(!e)throw new Error("File Required");if(!t)throw new Error("Callback Required");this.cb=t,this.file=e,this.fileExt=this.getExtension(),this.fileDetails={fileSize:this.file.size,fileName:this.file.name,fileExt:this.fileExt},this.file.size>=B?t({error:"File must be less than 20mb",fileDetails:this.fileDetails}):"zip"===this.fileExt.toLowerCase()?this.reader.readAsArrayBuffer(this.file):this.reader.readAsText(this.file,"UTF-8")}},{key:"getExtension",value:function(){var e=this.file.name.split(".");return e[e.length-1]}},{key:"handleFile",value:function(e){switch(this.fileExt.toLowerCase()){case"csv":this.handleCSV(e);break;case"kml":this.handleKML(e);break;case"geojson":case"json":this.handleJSON(e);break;case"gpx":this.handleGPX(e);break;case"zip":this.handleSHP(e);break;default:this.notRecognized()}}},{key:"handleJSON",value:function(e){try{this.handleGeoJSON(e)}catch(t){this.cb({error:"Problem parsing JSON (".concat(t.toString(),")"),fileDetails:this.fileDetails})}}},{key:"handleCSV",value:function(e){var t,n,i=this,o=["y","lat","latitude"],r=["x","lng","lon","long","longitude"],a=e.target.result;if(a.split("\n")[0].split(",").forEach((function(e){-1!==o.indexOf(e.toLowerCase().trim())&&(t=e.trim()),-1!==r.indexOf(e.toLowerCase().trim())&&(n=e.trim())})),!n||!t)throw new Error("no latitude (y, lat, latitude) or longitude (x, lng, long, longitude) field found");F.a.csv2geojson(a,{latfield:t,lonfield:n},(function(e,t){if(e)throw e;i.cb(i.fileDetails,t)}))}},{key:"handleKML",value:function(e){var t=(new window.DOMParser).parseFromString(e.target.result,"application/xml"),n=I.a.kml(t,{style:!0});this.cb(this.fileDetails,n)}},{key:"handleGeoJSON",value:function(e){this.cb(this.fileDetails,JSON.parse(e.target.result))}},{key:"handleGPX",value:function(e){var t=(new window.DOMParser).parseFromString(e.target.result,"application/xml"),n=I.a.gpx(t);this.cb(this.fileDetails,n)}},{key:"handleSHP",value:function(e){var t=A.a.parseZip(e.target.result);this.cb(this.fileDetails,t)}},{key:"notRecognized",value:function(){console.log("sorry, i didnt recognize this format"),this.cb({error:"File format ".concat(this.fileExt," not recognized."),fileDetails:this.fileDetails})}}]),e}()),V=function(e){var t=e.baseType,n=e.buttonOptions,o=e.sx,r=Object(p.a)(e,H),a=Object(i.useContext)(T).map,c=Object(i.useState)("file"),l=Object(j.a)(c,2),s=l[0],d=l[1],u=Object(i.useState)([]),m=Object(j.a)(u,2),y=m[0],w=m[1],S=function(e,t){if(t&&e){var n=e.fileName;a.addSource(n,{type:"geojson",data:t}),function(e,t){function n(e){var t;switch(e){case"Point":case"MultiPoint":t="circle";break;case"LineString":case"MultiLineString":t="line";break;case"Polygon":case"MultiPolygon":t="fill";break;default:return""}return t}function i(e){var t;switch(e){case"Point":case"MultiPoint":t={"circle-radius":6,"circle-color":"#B42222","circle-opacity":.6};break;case"LineString":case"MultiLineString":t={"line-color":"#888","line-width":8};break;case"Polygon":case"MultiPolygon":t={"fill-color":"#088","fill-opacity":.8};break;default:return null}return t}function o(e){var t;switch(e){case"Point":case"MultiPoint":t=["==","$type","Point"];break;case"LineString":case"MultiLineString":t=["==","$type","LineString"];break;case"Polygon":case"MultiPolygon":t=["==","$type","Polygon"];break;default:return null}return t}var r=[];t.features.map((function(e){-1===r.indexOf(e.geometry.type)&&r.push(e.geometry.type)})),r.forEach((function(t){var r="".concat(e,"-").concat(t);a.addLayer({id:r,type:n(t),source:e,paint:i(t),filter:o(t),layout:{visibility:"visible"}}),w([].concat(Object(h.a)(y),[r]))}))}(n,t),function(e){var t=Object(f.a)(e);a.fitBounds(t)}(t)}},C=function(){return Object(g.jsxs)(x.g,{sx:{justifyContent:"center",paddingBottom:"0.5rem"},children:[Object(g.jsx)(x.c,{sx:{width:"50%",bg:"transparent",color:"text",borderStyle:"solid",borderRadius:0,borderTopWidth:0,borderLeftWidth:0,borderRightWidth:".5px",borderBottomWidth:"0.5px",boxShadow:"none",":hover":{bg:"primary",color:"background"}},onClick:function(){d("file")},children:"File"}),Object(g.jsx)(x.c,{sx:{width:"50%",bg:"transparent",color:"text",borderStyle:"solid",borderRadius:0,borderTopWidth:0,borderRightWidth:0,borderBottomWidth:"0.5px",boxShadow:"none",":hover":{bg:"primary",color:"background"}},onClick:function(){d("url")},children:"URL"})]})},L=function(){return Object(g.jsx)(x.b,{sx:{textAlign:"center",marginTop:"0.5rem"},children:Object(g.jsx)(x.g,{sx:{justifyContent:"flex-end"},children:Object(g.jsx)(x.c,{sx:{fontSize:0,textDecoration:"underline",color:"primary",backgroundColor:"background",":hover":{backgroundColor:"background"}},onClick:function(e){e.preventDefault(),d("layers")},children:"Manage Layers"})})})},z=function(){var e=[".geojson",".kml",".gpx",".csv",".zip (shp)"];return Object(g.jsxs)("div",{children:[Object(g.jsx)(x.b,{sx:{textAlign:"center"},children:function(){var t=e.join(", ");return Object(g.jsxs)(x.b,{children:[Object(g.jsx)(x.k,{sx:{fontSize:0},children:"Supported File Extensions:"}),Object(g.jsx)(x.k,{sx:{fontSize:0},children:t}),Object(g.jsx)(x.h,{sx:{textAlign:"center",paddingTop:1,marginTop:2,border:"none",">button":{boxShadow:"none"}},type:"file",className:"file-upload",onChange:function(e){!function(e){try{X.load(e.target.files[0],S)}catch(t){console.warn(t)}}(e)}})]})}()}),Object(g.jsx)(L,{})]})},P=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(x.h,{placeholder:"Paste URL Here"}),Object(g.jsx)(x.c,{css:{marginTop:"0.5rem"},children:"Add Layer"}),Object(g.jsx)(L,{})]})},N=function(){return Object(g.jsxs)("div",{styles:{width:"100%"},children:[Object(g.jsx)(C,{}),"file"===s?Object(g.jsx)(z,{}):Object(g.jsx)(P,{})]})},D=function(){return Object(g.jsxs)("div",{style:{width:"100%"},children:[Object(g.jsx)(x.c,{sx:{fontSize:0,textDecoration:"underline",color:"primary",backgroundColor:"background",":hover":{backgroundColor:"background"}},onClick:function(e){e.preventDefault(),d("file")},children:"<< Back"}),Object(g.jsx)(x.b,{sx:{marginTop:"0.5rem"},content:Object(g.jsx)(k,{children:function(){var e=function(e){return"none"!==a.getLayoutProperty(e,"visibility")};return y.map((function(t,n){return Object(g.jsxs)(v,{children:[" ",Object(g.jsxs)(x.i,{children:[Object(g.jsx)(x.e,{onChange:function(){!function(t){e(t)?a.setLayoutProperty(t,"visibility","none"):a.setLayoutProperty(t,"visibility","visible")}(t)},defaultChecked:e(t)}),Object(g.jsx)(x.k,{pt:1,children:t})]})]},"".concat(t,"-").concat(n))}))}()})})]})},E=function(){return Object(g.jsx)("div",{style:{width:"100%"},children:"layers"===s?Object(g.jsx)(D,{}):Object(g.jsx)(N,{})})};return M(a)?Object(g.jsx)(R,Object(b.a)(Object(b.a)({baseType:t,buttonOptions:Object(b.a)({icon:Object(g.jsx)(O.a,{}),title:"Add Data",testId:"add-data-btn"},n),sx:o},r),{},{children:Object(g.jsx)(E,{})})):null},G=function(e){var t=e.message,n=Object(i.useState)(!0),o=Object(j.a)(n,2),r=o[0],a=o[1];return r?Object(g.jsx)(x.a,{variant:"modal",children:Object(g.jsxs)(x.g,{sx:{flexDirection:"column"},children:[Object(g.jsx)(x.g,{sx:{width:"100%",position:"relative"},children:Object(g.jsx)("p",{style:{padding:1},children:t})}),Object(g.jsx)(x.g,{sx:{justifyContent:"flex-end"},children:Object(g.jsx)(x.c,{variant:"secondary",onClick:function(){a(!1)},children:"OK"})})]})}):null},Y=["mapOptions","mapLayers","supportMessage","sx"],K=function(e){var t,n=e.mapOptions,o=e.mapLayers,r=e.supportMessage,a=e.sx,c=Object(p.a)(e,Y),l=Object(i.useContext)(T).setMap;return Object(i.useEffect)((function(){var e;t=new u.a.Map(n),l(t),(e=o)&&t.on("load",(function(){e.forEach((function(e){t.addLayer(e)}))}))}),[]),u.a.supported()?Object(g.jsx)(x.b,Object(b.a)(Object(b.a)({},c),{},{sx:Object(b.a)({width:"100vw",height:"100vh"},a),ref:function(e){n.container=e},className:"cl-map-container"})):Object(g.jsx)(G,{message:r||"WARNING! Your browser does not currently support this application, which requires MapboxGL. \n    Please ensure you are using the latest version of Chrome, Firefox, or Edge.\n    Additionally, check https://get.webgl.org/ for compatibility with your system."})},Z=n(77),q=function(e){var t=e.name,n=e.item,i=e.defaultChecked,o=e.checkedChanged;return Object(g.jsxs)(x.i,Object(b.a)(Object(b.a)({className:"cl-radio-group-item"},e),{},{sx:{fontSize:"12px",marginRight:"2px",">span":{paddingTop:"3px"}},children:[Object(g.jsx)(x.j,{color:"primary",name:t,id:n.name,value:n.value,defaultChecked:i,sx:{"input:checked ~ &":{color:"primary"},"input:focus ~ &":{bg:"highlight"}},onChange:function(e){return o(e,n)}}),Object(g.jsx)("span",{children:n.label})]}))},U=function(e){var t=e.children,n=e.items,i=e.name,o=e.checkedValueChange,r={bg:"transparent",color:"primary",display:"flex",padding:0};return m(t)?Object(g.jsx)(x.b,Object(b.a)(Object(b.a)({},e),{},{className:"cl-radio-group",sx:r,children:t})):Object(g.jsx)(x.b,Object(b.a)(Object(b.a)({},e),{},{className:"cl-radio-group",sx:r,children:n.map((function(e){return Object(g.jsx)(q,{name:i,item:e,defaultChecked:e.checked,checkedChanged:o},e.value)}))}))},$=["buttons","sx","children"],Q=function(e){var t,n=e.buttons,i=e.sx,o=e.children,r=Object(p.a)(e,$);return t=n||o,Object(g.jsx)(x.g,Object(b.a)(Object(b.a)({alignItems:"center"},r),{},{className:"cl-button-group",sx:Object(b.a)(Object(b.a)({},i),{},{"> button":{height:"32px",borderRadius:0,borderWidth:"0.25px",borderColor:"muted",borderStyle:"solid",":first-of-type":{borderTopLeftRadius:"default",borderBottomLeftRadius:"default",borderWidth:"0.5px",borderColor:"muted",borderStyle:"solid"},":last-child":{borderTopRightRadius:"default",borderBottomRightRadius:"default",borderWidth:"0.5px",borderColor:"muted",borderStyle:"solid"}}}),children:t}))},_=["switcherStyle","basemaps","preserveLayers","baseType","buttonOptions","sx"],ee=function(e){var t=e.switcherStyle,n=e.basemaps,o=e.preserveLayers,r=e.baseType,a=e.buttonOptions,c=e.sx,l=Object(p.a)(e,_),s=Object(i.useState)(n?n[0].value:"light-v10"),d=Object(j.a)(s,2),u=d[0],h=d[1],f=Object(i.useContext)(T).map,O=Object(i.useRef)(!1),v=function(e,t){h(t.value)};Object(i.useEffect)((function(){O.current?f.setStyle("mapbox://styles/mapbox/".concat(u)):O.current=!0}),[u]),Object(i.useEffect)((function(){M(f)&&f.on("load",(function(){f.setStyle("mapbox://styles/mapbox/".concat(u)),f.on("styledata",(function(){!function e(){if(f.isStyleLoaded())for(var t=0;t<(null===o||void 0===o?void 0:o.length);t+=1){var n=o[t];f.getSource(n.layer.source)||(f.addSource(n.layer.source,n.source),f.addLayer(n.layer))}else setTimeout(e,200)}()}))}))}),[f]);var m,y=n||[{name:"Light",key:"Light",label:"Light",value:"light-v10",checked:!0},{name:"Dark",key:"Dark",label:"Dark",value:"dark-v10"},{name:"satellite",key:"satellite",label:"Satellite",value:"satellite-streets-v9"}];switch(t){case"radio":m=Object(g.jsx)(U,{items:y,name:"basemaps",checkedValueChange:v});break;case"buttons":var k=y.map((function(e){return Object(g.jsx)(x.c,{onClick:function(t){return v(0,e)},children:e.label},e.label)}));m=Object(g.jsx)(Q,{buttons:k});break;default:m=Object(g.jsx)(U,{items:y,name:"basemaps",checkedValueChange:v})}return Object(g.jsx)(R,Object(b.a)(Object(b.a)({baseType:r,buttonOptions:Object(b.a)({icon:Object(g.jsx)(Z.a,{}),title:"Basemap Switcher",testId:"cl-basemap-btn"},a)},l),{},{sx:c,className:"cl-basemap-switcher",children:m}))},te={container:"map",style:"mapbox://styles/mapbox/light-v10",center:[12,50],zoom:3,accessToken:"pk.eyJ1IjoiZWxrYWxvbmFyaXMiLCJhIjoiY2twbXExOHcwMDg3ZzJvbnc0dXhyOWszOSJ9.AetSK7t4L_aaFVsCuNQmHg"},ne=n(157),ie=function(e){var t=e.children,n=e.context,o=e.theme,r=e.mapOverride,a=n||T,c=a.Provider||a,l=Object(i.useState)(null),s=Object(j.a)(l,2),d=s[0],u={map:r||d,setMap:s[1]},b=Object(g.jsx)(ne.a,{theme:o||{},children:t});return Object(g.jsx)(c,{value:u,children:b})},oe=function(e){var t=e.position,n=e.maxWidth,o=e.unit,r=Object(i.useState)(new d.ScaleControl({maxWidth:n||100,unit:o||"imperial"})),a=Object(j.a)(r,1)[0],c=Object(i.useContext)(T).map;if(!M(c))return null;var l=t||"bottom-left";return c.on("load",(function(){c.addControl(a,l)})),null};u.a.accessToken="pk.eyJ1IjoiZWxrYWxvbmFyaXMiLCJhIjoiY2twbXExOHcwMDg3ZzJvbnc0dXhyOWszOSJ9.AetSK7t4L_aaFVsCuNQmHg";var re=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(g.jsx)(ie,{children:Object(g.jsxs)(K,{mapOptions:te,children:[Object(g.jsx)(ee,{}),Object(g.jsx)(oe,{}),Object(g.jsx)(V,{})]})})}}]),n}(i.Component);r.a.render(Object(g.jsx)(re,{}),document.getElementById("root"))},87:function(e,t,n){}},[[153,1,2]]]);
//# sourceMappingURL=main.b0a3f619.chunk.js.map