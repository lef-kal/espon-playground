(this["webpackJsonpespon-playground"]=this["webpackJsonpespon-playground"]||[]).push([[0],{174:function(e,t,n){},182:function(e,t){},216:function(e,t){},350:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(29),i=n.n(o),c=(n(173),n(174),n(66)),s=n(67),l=n(167),d=n(165),b=n(3),u=n(14),j=n(8),h=n(7),p=n(42),x=n(166),f=n(36),O=n(2),m=function(e){var t=e.children,n=e.selectable,r=e.sx,a=n?Object(b.a)({padding:2,":hover":{cursor:"pointer",bg:"primary",color:"background"}},r):Object(b.a)({padding:2},r);return Object(O.jsx)(p.b,Object(b.a)(Object(b.a)({},e),{},{as:"li",sx:a,children:t}))},g=function(e){return null!==e&&void 0!==e&&("number"===typeof e?!isNaN(e):Array.isArray(e)?e.length>0:!!e)},y=["items","children","sx"],v=function(e){var t=e.items,n=e.children,r=e.sx,a=Object(h.a)(e,y),o=Object(b.a)({listStyleType:"none",padding:1},r);return g(n)?Object(O.jsx)(p.b,Object(b.a)(Object(b.a)({},a),{},{as:"ul",className:"cl-list",sx:o,children:n})):!!(t&&t.length>0)&&Object(O.jsx)(p.b,Object(b.a)(Object(b.a)({},a),{},{as:"ul",className:"cl-list",sx:o,children:t.map((function(e){return Object(O.jsx)(m,{children:e})}))}))},k=n(75),w=n(50),S=n(11),C=["closable","onClose","sx","children"],F=function(e){var t=e.closable,n=e.onClose,r=e.sx,a=e.children,o=Object(h.a)(e,C),i=Object(S.d)().theme;return Object(O.jsxs)(p.d,Object(b.a)(Object(b.a)({className:"cl-panel-component",color:"text",sx:Object(b.a)(Object(b.a)({padding:3,width:"300px",borderRadius:"4px",boxShadow:"0 0 4px rgba(0, 0, 0, .6)",bg:"background"},r),{},{paddingTop:t?0:3})},o),{},{children:[t&&Object(O.jsx)(p.h,{sx:{justifyContent:"flex-end",marginRight:"-".concat(i.space?i.space[3]:16,"px")},children:Object(O.jsx)(p.f,{sx:{color:"text",height:"24px",width:"24px",":hover":{cursor:"pointer"}},onClick:n})}),a]}))},L=["children","buttonOptions","sx"],N=function(e){var t,n,a,o=e.children,i=e.buttonOptions,c=e.sx,s=Object(h.a)(e,L),l=Object(r.useRef)(null),d=Object(w.a)(l),u=Object(r.useState)(!1),x=Object(j.a)(u,2),f=x[0],m=x[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p.c,{ref:l,title:null===i||void 0===i?void 0:i.title,className:null!==(t=null===s||void 0===s?void 0:s.className)&&void 0!==t?t:"cl-btn","data-testid":null!==(n=null===i||void 0===i?void 0:i.testId)&&void 0!==n?n:"cl-btn",variant:null!==(a=null===i||void 0===i?void 0:i.variant)&&void 0!==a?a:"primary",onClick:function(){if(null===i||void 0===i?void 0:i.intercept)try{i.intercept()}catch(e){console.error(e)}else m(!f)},sx:Object(b.a)({},c),children:null===i||void 0===i?void 0:i.icon}),f&&Object(O.jsx)(k.b,{style:{zIndex:c.zIndex||2},targetRef:l,position:function(){return{left:(null===d||void 0===d?void 0:d.right)+10,top:(null===d||void 0===d?void 0:d.top)+window.scrollY}},children:Object(O.jsx)(F,{closable:!0,onClose:function(){return m(!1)},sx:{fontFamily:"body"},children:o})})]})},_=["baseType","buttonOptions","children","open","sx"],E=function(e){var t,n,r,a,o,i=e.baseType,c=e.buttonOptions,s=e.children,l=(e.open,e.sx),d=Object(h.a)(e,_),u=null!==(t=null===l||void 0===l?void 0:l.top)&&void 0!==t?t:"1rem",j=null!==(n=null===l||void 0===l?void 0:l.left)&&void 0!==n?n:"1rem";(null===l||void 0===l?void 0:l.bottom)&&(u=null),(null===l||void 0===l?void 0:l.right)&&(j=null);var x=Object(b.a)({fontFamily:"body",bg:"transparent",position:(null===l||void 0===l?void 0:l.position)||"absolute",top:u,left:j,bottom:null===l||void 0===l?void 0:l.bottom,right:null===l||void 0===l?void 0:l.right,zIndex:null!==(r=null===l||void 0===l?void 0:l.zIndex)&&void 0!==r?r:2},l),f=Object(b.a)({fontFamily:"body",bg:"background",position:(null===l||void 0===l?void 0:l.position)||"absolute",top:u,left:j,bottom:null===l||void 0===l?void 0:l.bottom,right:null===l||void 0===l?void 0:l.right,zIndex:null!==(a=null===l||void 0===l?void 0:l.zIndex)&&void 0!==a?a:2},l),m=Object(b.a)({fontFamily:"body",bg:(null===l||void 0===l?void 0:l.bg)||"primary",position:(null===l||void 0===l?void 0:l.position)||"absolute",top:u,left:j,bottom:null===l||void 0===l?void 0:l.bottom,right:null===l||void 0===l?void 0:l.right,zIndex:null!==(o=null===l||void 0===l?void 0:l.zIndex)&&void 0!==o?o:2,width:"32px",height:"32px",minWidth:"25px",minHeight:"25px",p:0,m:1,boxShadow:"1 1 4px rgba(0, 0, 0, 1)"},l),g=Object(O.jsx)(p.b,Object(b.a)(Object(b.a)({},d),{},{sx:x,children:s}));switch(i){case"none":return g;case"panel":return Object(O.jsx)(F,Object(b.a)(Object(b.a)({},d),{},{sx:f,children:s}));case"button":return Object(O.jsx)(N,Object(b.a)({children:s,buttonOptions:c,sx:m},d));default:return g}},T=Object(r.createContext)({});var P=function(e){return!!(e&&Object.keys(e).length>0)&&!!(e.style&&Object.keys(e.style).length>0)},I=n(156),z=n.n(I),B=n(103),D=n.n(B),R=n(157),M=n.n(R),A=1e8,W=["baseType","buttonOptions","sx"],J=new(function(){function e(){Object(c.a)(this,e),this.reader=new FileReader,this.reader.onload=this.handleFile.bind(this)}return Object(s.a)(e,[{key:"load",value:function(e,t){if(!e)throw new Error("File Required");if(!t)throw new Error("Callback Required");this.cb=t,this.file=e,this.fileExt=this.getExtension(),this.fileDetails={fileSize:this.file.size,fileName:this.file.name,fileExt:this.fileExt},this.file.size>=A?t({error:"File must be less than 20mb",fileDetails:this.fileDetails}):"zip"===this.fileExt.toLowerCase()?this.reader.readAsArrayBuffer(this.file):this.reader.readAsText(this.file,"UTF-8")}},{key:"getExtension",value:function(){var e=this.file.name.split(".");return e[e.length-1]}},{key:"handleFile",value:function(e){switch(this.fileExt.toLowerCase()){case"csv":this.handleCSV(e);break;case"kml":this.handleKML(e);break;case"geojson":case"json":this.handleJSON(e);break;case"gpx":this.handleGPX(e);break;case"zip":this.handleSHP(e);break;default:this.notRecognized()}}},{key:"handleJSON",value:function(e){try{this.handleGeoJSON(e)}catch(t){this.cb({error:"Problem parsing JSON (".concat(t.toString(),")"),fileDetails:this.fileDetails})}}},{key:"handleCSV",value:function(e){var t,n,r=this,a=["y","lat","latitude"],o=["x","lng","lon","long","longitude"],i=e.target.result;if(i.split("\n")[0].split(",").forEach((function(e){-1!==a.indexOf(e.toLowerCase().trim())&&(t=e.trim()),-1!==o.indexOf(e.toLowerCase().trim())&&(n=e.trim())})),!n||!t)throw new Error("no latitude (y, lat, latitude) or longitude (x, lng, long, longitude) field found");z.a.csv2geojson(i,{latfield:t,lonfield:n},(function(e,t){if(e)throw e;r.cb(r.fileDetails,t)}))}},{key:"handleKML",value:function(e){var t=(new window.DOMParser).parseFromString(e.target.result,"application/xml"),n=D.a.kml(t,{style:!0});this.cb(this.fileDetails,n)}},{key:"handleGeoJSON",value:function(e){this.cb(this.fileDetails,JSON.parse(e.target.result))}},{key:"handleGPX",value:function(e){var t=(new window.DOMParser).parseFromString(e.target.result,"application/xml"),n=D.a.gpx(t);this.cb(this.fileDetails,n)}},{key:"handleSHP",value:function(e){var t=M.a.parseZip(e.target.result);this.cb(this.fileDetails,t)}},{key:"notRecognized",value:function(){console.log("sorry, i didnt recognize this format"),this.cb({error:"File format ".concat(this.fileExt," not recognized."),fileDetails:this.fileDetails})}}]),e}()),Z=function(e){var t=e.baseType,n=e.buttonOptions,a=(e.sx,Object(h.a)(e,W)),o=Object(r.useContext)(T).map,i=Object(r.useState)("file"),c=Object(j.a)(i,2),s=c[0],l=c[1],d=Object(r.useState)([]),g=Object(j.a)(d,2),y=g[0],k=g[1],w=function(e,t){if(t&&e){var n=e.fileName;o.addSource(n,{type:"geojson",data:t}),function(e,t){function n(e){var t;switch(e){case"Point":case"MultiPoint":t="circle";break;case"LineString":case"MultiLineString":t="line";break;case"Polygon":case"MultiPolygon":t="fill";break;default:return""}return t}function r(e){var t;switch(e){case"Point":case"MultiPoint":t={"circle-radius":6,"circle-color":"#B42222","circle-opacity":.6};break;case"LineString":case"MultiLineString":t={"line-color":"#888","line-width":8};break;case"Polygon":case"MultiPolygon":t={"fill-color":"#088","fill-opacity":.8};break;default:return null}return t}function a(e){var t;switch(e){case"Point":case"MultiPoint":t=["==","$type","Point"];break;case"LineString":case"MultiLineString":t=["==","$type","LineString"];break;case"Polygon":case"MultiPolygon":t=["==","$type","Polygon"];break;default:return null}return t}var i=[];t.features.map((function(e){-1===i.indexOf(e.geometry.type)&&i.push(e.geometry.type)})),i.forEach((function(t){var i="".concat(e,"-").concat(t);o.addLayer({id:i,type:n(t),source:e,paint:r(t),filter:a(t),layout:{visibility:"visible"}}),k([].concat(Object(u.a)(y),[i]))}))}(n,t),function(e){var t=Object(x.a)(e);o.fitBounds(t)}(t)}},S=function(){return Object(O.jsx)(p.r,{children:"Upload your dataset"})},C=function(){return Object(O.jsxs)(p.h,{sx:{justifyContent:"center",paddingBottom:"0.5rem"},children:[Object(O.jsx)(p.c,{sx:{width:"50%",bg:"transparent",color:"blue",cursor:"pointer",borderStyle:"solid",borderRadius:0,borderWidth:1,boxShadow:"none",":hover":{bg:"primary",color:"background"}},onClick:function(){l("file")},children:"File"}),Object(O.jsx)(p.c,{sx:{width:"50%",bg:"transparent",cursor:"pointer",color:"blue",borderStyle:"solid",borderRadius:0,borderWidth:1,boxShadow:"none",":hover":{bg:"primary",color:"background"}},onClick:function(){l("url")},children:"URL"})]})},F=function(){return Object(O.jsx)(p.b,{sx:{textAlign:"center"},children:Object(O.jsx)(p.h,{sx:{justifyContent:"flex-end"}})})},L=function(){var e=[".geojson",".kml",".gpx",".csv",".zip (shp)"];return Object(O.jsxs)("div",{children:[Object(O.jsx)(p.b,{sx:{textAlign:"left"},children:function(){var t=e.join(", ");return Object(O.jsxs)(p.b,{children:[Object(O.jsx)(p.r,{sx:{fontSize:0},children:"Supported File Extensions:"}),Object(O.jsx)(p.r,{sx:{fontSize:0},children:t}),Object(O.jsx)(p.m,{sx:{textAlign:"center",paddingTop:1,border:"none",">button":{boxShadow:"none"}},type:"file",className:"file-upload",onChange:function(e){!function(e){try{J.load(e.target.files[0],w)}catch(t){console.warn(t)}}(e)}})]})}()}),Object(O.jsx)(F,{})]})},N=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(p.m,{placeholder:"Paste URL Here"}),Object(O.jsx)(F,{})]})},_=function(){return Object(O.jsxs)("div",{styles:{width:"100%"},children:[Object(O.jsx)(C,{}),"file"===s?Object(O.jsx)(L,{}):Object(O.jsx)(N,{})]})},I=function(){return Object(O.jsxs)("div",{style:{width:"100%"},children:[Object(O.jsx)(p.c,{sx:{fontSize:0,textDecoration:"underline",color:"primary",cursor:"pointer",backgroundColor:"blue",":hover":{backgroundColor:"blue"}},onClick:function(e){e.preventDefault(),l("file")},children:"<< Back"}),Object(O.jsx)(p.b,{sx:{marginTop:""},content:Object(O.jsx)(v,{children:function(){var e=function(e){return"none"!==o.getLayoutProperty(e,"visibility")};return y.map((function(t,n){return Object(O.jsxs)(m,{children:[" ",Object(O.jsxs)(p.n,{children:[Object(O.jsx)(p.e,{onChange:function(){!function(t){e(t)?o.setLayoutProperty(t,"visibility","none"):o.setLayoutProperty(t,"visibility","visible")}(t)},defaultChecked:e(t)}),Object(O.jsx)(p.r,{pt:1,children:t})]})]},"".concat(t,"-").concat(n))}))}()})})]})},z=function(){return Object(O.jsx)("div",{style:{width:"100%"},children:"layers"===s?Object(O.jsx)(I,{}):Object(O.jsx)(_,{})})};return P(o)?Object(O.jsxs)(E,Object(b.a)(Object(b.a)({className:"add-tools",baseType:t,buttonOptions:Object(b.a)({icon:Object(O.jsx)(f.b,{}),title:"Add Data",testId:"add-data-btn"},n),sx:{minWidth:"400px",paddingTop:"10px",borderRadius:"5px",marginTop:"18vh",backgroundColor:"white"}},a),{},{children:[Object(O.jsx)(S,{}),Object(O.jsx)(z,{})]})):null},G=n(104),H=n.n(G),X=function(e){var t=e.message,n=Object(r.useState)(!0),a=Object(j.a)(n,2),o=a[0],i=a[1];return o?Object(O.jsx)(p.a,{variant:"modal",children:Object(O.jsxs)(p.h,{sx:{flexDirection:"column"},children:[Object(O.jsx)(p.h,{sx:{width:"100%",position:"relative"},children:Object(O.jsx)("p",{style:{padding:1},children:t})}),Object(O.jsx)(p.h,{sx:{justifyContent:"flex-end"},children:Object(O.jsx)(p.c,{variant:"secondary",onClick:function(){i(!1)},children:"OK"})})]})}):null},K=["mapOptions","mapLayers","supportMessage","sx"],U=function(e){var t,n=e.mapOptions,a=e.mapLayers,o=e.supportMessage,i=e.sx,c=Object(h.a)(e,K),s=Object(r.useContext)(T).setMap;return Object(r.useEffect)((function(){var e;t=new H.a.Map(n),s(t),(e=a)&&t.on("load",(function(){e.forEach((function(e){t.addLayer(e)}))}))}),[]),H.a.supported()?Object(O.jsx)(p.b,Object(b.a)(Object(b.a)({},c),{},{sx:Object(b.a)({width:"100vw",height:"100vh"},i),ref:function(e){n.container=e},className:"cl-map-container"})):Object(O.jsx)(X,{message:o||"WARNING! Your browser does not currently support this application, which requires MapboxGL. \n    Please ensure you are using the latest version of Chrome, Firefox, or Edge.\n    Additionally, check https://get.webgl.org/ for compatibility with your system."})},V=n(16),Y=function(e){var t=e.name,n=e.item,r=e.defaultChecked,a=e.checkedChanged;return Object(O.jsxs)(p.n,Object(b.a)(Object(b.a)({className:"cl-radio-group-item"},e),{},{sx:{fontSize:"12px",marginRight:"2px",">span":{paddingTop:"3px"}},children:[Object(O.jsx)(p.p,{color:"primary",name:t,id:n.name,value:n.value,defaultChecked:r,sx:{"input:checked ~ &":{color:"primary"},"input:focus ~ &":{bg:"highlight"}},onChange:function(e){return a(e,n)}}),Object(O.jsx)("span",{children:n.label})]}))},q=function(e){var t=e.children,n=e.items,r=e.name,a=e.checkedValueChange,o={bg:"transparent",color:"primary",display:"flex",padding:0};return g(t)?Object(O.jsx)(p.b,Object(b.a)(Object(b.a)({},e),{},{className:"cl-radio-group",sx:o,children:t})):Object(O.jsx)(p.b,Object(b.a)(Object(b.a)({},e),{},{className:"cl-radio-group",sx:o,children:n.map((function(e){return Object(O.jsx)(Y,{name:r,item:e,defaultChecked:e.checked,checkedChanged:a,sx:{cursor:"pointer"}},e.value)}))}))},$=["buttons","sx","children"],Q=function(e){var t,n=e.buttons,r=e.sx,a=e.children,o=Object(h.a)(e,$);return t=n||a,Object(O.jsx)(p.h,Object(b.a)(Object(b.a)({alignItems:"center"},o),{},{className:"cl-button-group",sx:Object(b.a)(Object(b.a)({},r),{},{"> button":{height:"32px",minWidth:"80px",cursor:"pointer",backgroundColor:"blue",color:"white",borderWidth:"0.25px",borderColor:"muted",borderStyle:"solid",":first-of-type":{borderTopLeftRadius:"default",borderBottomLeftRadius:"default",borderWidth:"0.5px",borderColor:"muted",borderStyle:"solid"},":last-child":{borderTopRightRadius:"default",borderBottomRightRadius:"default",borderWidth:"0.5px",borderColor:"muted",borderStyle:"solid"}}}),children:t}))},ee=["switcherStyle","basemaps","preserveLayers","baseType","buttonOptions","sx"],te=function(e){var t=e.switcherStyle,n=e.basemaps,a=e.preserveLayers,o=e.baseType,i=e.buttonOptions,c=(e.sx,Object(h.a)(e,ee)),s=Object(r.useState)(n?n[0].value:"light-v10"),l=Object(j.a)(s,2),d=l[0],u=l[1],x=Object(r.useContext)(T).map,f=Object(r.useRef)(!1),m=function(e,t){u(t.value)};Object(r.useEffect)((function(){f.current?x.setStyle("mapbox://styles/mapbox/".concat(d)):f.current=!0}),[d]),Object(r.useEffect)((function(){P(x)&&x.on("load",(function(){x.setStyle("mapbox://styles/mapbox/".concat(d)),x.on("styledata",(function(){!function e(){if(x.isStyleLoaded())for(var t=0;t<(null===a||void 0===a?void 0:a.length);t+=1){var n=a[t];x.getSource(n.layer.source)||(x.addSource(n.layer.source,n.source),x.addLayer(n.layer))}else setTimeout(e,200)}()}))}))}),[x]);var g,y=n||[{name:"Light",key:"Light",label:"Light",value:"light-v10",checked:!0},{name:"Dark",key:"Dark",label:"Dark",value:"dark-v10"},{name:"satellite",key:"satellite",label:"Satellite",value:"satellite-streets-v9"}];switch(t){case"radio":g=Object(O.jsx)(q,{items:y,name:"basemaps",checkedValueChange:m});break;case"buttons":var v=y.map((function(e){return Object(O.jsx)(p.c,{onClick:function(t){return m(0,e)},children:e.label},e.label)}));g=Object(O.jsx)(Q,{buttons:v});break;default:g=Object(O.jsx)(q,{items:y,name:"basemaps",checkedValueChange:m})}return Object(O.jsxs)(E,Object(b.a)(Object(b.a)({sx:{marginTop:"50vh"},baseType:o,buttonOptions:Object(b.a)({icon:Object(O.jsx)(V.f,{}),title:"Basemap Switcher",testId:"cl-basemap-btn"},i)},c),{},{className:"cl-basemap-switcher",children:[Object(O.jsx)(p.r,{children:"Choose basemap layer:"}),g]}))},ne={container:"map",style:"mapbox://styles/mapbox/light-v10",center:[12,50],zoom:3,accessToken:"pk.eyJ1IjoiZWxrYWxvbmFyaXMiLCJhIjoiY2twbXExOHcwMDg3ZzJvbnc0dXhyOWszOSJ9.AetSK7t4L_aaFVsCuNQmHg"},re=n(353),ae=function(e){var t=e.children,n=e.context,a=e.theme,o=e.mapOverride,i=n||T,c=i.Provider||i,s=Object(r.useState)(null),l=Object(j.a)(s,2),d=l[0],b={map:o||d,setMap:l[1]},u=Object(O.jsx)(re.a,{theme:a||{},children:t});return Object(O.jsx)(c,{value:b,children:u})},oe=n(73),ie=n.n(oe),ce=function(e){var t=e.position,n=e.maxWidth,a=e.unit,o=Object(r.useState)(new oe.ScaleControl({maxWidth:n||100,unit:a||"metric"})),i=Object(j.a)(o,1)[0],c=Object(r.useContext)(T).map;if(!P(c))return null;var s=t||"bottom-left";return c.on("load",(function(){c.addControl(i,s)})),null},se=n(72),le=n.n(se),de=n(158),be=(n(237),n(159)),ue=n.n(be),je=n(164),he=n(6),pe=function(e){var t=e.x,n=e.y,a=e.target,o=e.theme;a.style.padding="4px",a.style.textShadow="none";var i=Object(r.useState)(!1),c=Object(j.a)(i,2),s=c[0],l=c[1],d=Object(r.useState)(a.style.color||"black"),b=Object(j.a)(d,2),u=b[0],h=b[1],x=Object(r.useState)(a.style.backgroundColor||"white"),f=Object(j.a)(x,2),O=f[0],m=f[1],g=Object(r.useState)(!1),y=Object(j.a)(g,2),v=y[0],k=y[1],w=Object(r.useState)(!1),S=Object(j.a)(w,2),C=S[0],F=S[1];return Object(he.a)(ue.a,{handle:".handle",children:Object(he.b)(p.b,{sx:{position:"absolute",top:"".concat(n,"px"),left:"".concat(t,"px"),zIndex:99,backgroundColor:"white",width:"280px",borderRadius:"9px",display:s?"none":""},children:[Object(he.b)(p.g,{className:"handle",sx:{textAlign:"center",cursor:"pointer",backgroundColor:o.colors.primary,borderTopLeftRadius:"9px",borderTopRightRadius:"9px",padding:"5px"},children:[Object(he.a)(p.r,{sx:{color:"white",fontFamily:o.fonts.body},children:"Label Editor"}),Object(he.a)(p.f,{sx:{position:"absolute",top:0,right:0,color:"white",cursor:"pointer"},onClick:function(){l(!0)}})]}),Object(he.a)(p.g,{children:Object(he.b)(p.b,{sx:{margin:"2.5px"},children:[Object(he.a)(p.n,{sx:{fontFamily:o.fonts.body},htmlFor:"label-edit",children:"Label"}),Object(he.a)(p.m,{placeholder:a.innerHTML,name:"label-edit",id:"label-edit",onChange:function(e){a.innerHTML=e.target.value.toUpperCase()},sx:{padding:"2px"},mb:1}),Object(he.a)(p.n,{sx:{fontFamily:o.fonts.body},htmlFor:"font-size-edit",children:"Font Size"}),Object(he.a)(p.m,{placeholder:a.style.fontSize.replace("px","")||"12",name:"font-size-edit",id:"font-size-edit",onChange:function(e){a.style.fontSize="".concat(e.target.value,"px")},sx:{padding:"2px"},mb:1}),Object(he.a)(p.n,{sx:{fontFamily:o.fonts.body},htmlFor:"font-family-edit",children:"Font Family"}),Object(he.b)(p.q,{name:"font-family-edit",id:"font-family-edit",mb:1,onChange:function(e){a.style.fontFamily=e.target.value},sx:{padding:"2px"},children:[Object(he.a)("option",{value:"serif",children:"Serif"}),Object(he.a)("option",{value:"sans-serif",children:"Sans-Serif"}),Object(he.a)("option",{value:"cursive",children:"Cursive"}),Object(he.a)("option",{value:"monospace",children:"Monospace"}),Object(he.a)("option",{value:"fantasy",children:"Fantasy"})]}),Object(he.a)(p.n,{sx:{fontFamily:o.fonts.body},htmlFor:"font-weight-edit",children:"Font Weight"}),Object(he.a)(p.m,{placeholder:a.style.fontWeight||200,name:"font-weight-edit",id:"font-weight-edit",onChange:function(e){a.style.fontWeight=e.target.value},sx:{padding:"2px"},mb:1}),Object(he.a)(p.b,{sx:{textAlign:"fg"===C?"left":"right"},mb:1,children:v?Object(he.a)(je.a,{onChange:function(e){var t=e.hex;"fg"===C?(a.style.color=t,h(t)):"bg"===C&&(a.style.backgroundColor=t,m(t))}}):""}),Object(he.b)(p.i,{gap:2,mb:1,columns:[2,"1fr 1fr"],children:[Object(he.a)(p.b,{bg:u,onClick:function(){"fg"===C?(k(!1),F(!1)):(k(!0),F("fg"))},sx:{color:"white",cursor:"pointer",border:"fg"===C?"solid greenyellow 3px":""},children:"FG"}),Object(he.a)(p.b,{bg:O,onClick:function(){"bg"===C?(k(!1),F(!1)):(k(!0),F("bg"))},sx:{cursor:"pointer",border:"bg"===C?"solid greenyellow 3px":""},children:"BG"})]}),Object(he.a)(p.b,{p:2,sx:{textAlign:"center"},children:Object(he.a)(p.o,{sx:{color:"#a70000",fontFamily:o.fonts.body},href:"#!",onClick:function(e){e.preventDefault(),window.confirm("are you sure")&&(a.parentNode.removeChild(a),l(!0))},children:"Delete Label"})})]})})]})})},xe=function(e){var t={};function n(e){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return t.onSetup=function(){return{}},t.onClick=function(t,r){var a=this.newFeature({type:"Feature",geometry:{type:"Point",coordinates:[r.lngLat.lng,r.lngLat.lat]}}),o=new ie.a.Marker({element:n('<p class="cl-draw-text" style="text-shadow:0 0 4px #FFFFFF;text-stroke: .1em #FFFFFF; webkit-text-stroke = .1em #FFFFFF; cursor: context-menu" title="Right click to edit label style">New Label</p>'),draggable:!0});o.getElement().addEventListener("contextmenu",(function(t){var n=document.getElementById("label-maker");n&&n.parentNode.removeChild(n);var r=document.createElement("div");r.id="label-maker",document.body.appendChild(r),i.a.render(Object(O.jsx)(pe,{x:t.clientX+50,y:t.clientY+25,target:t.target,theme:e}),r)})),o.setLngLat(r.lngLat),o.addTo(this.map),this.map.fire("draw.create",{features:[a.toGeoJSON()]}),this.changeMode("simple_select")},t.onKeyUp=function(e,t){return 27===t.keyCode&&this.changeMode("simple_select")},t.toDisplayFeatures=function(e,t,n){n(t)},t};function fe(e,t){t?(e.boxZoom.enable(),e.scrollZoom.enable(),e.dragPan.enable(),e.dragRotate.enable(),e.keyboard.enable(),e.doubleClickZoom.enable(),e.touchZoomRotate.enable()):(e.boxZoom.disable(),e.scrollZoom.disable(),e.dragPan.disable(),e.dragRotate.disable(),e.keyboard.disable(),e.doubleClickZoom.disable(),e.touchZoomRotate.disable())}var Oe={onSetup:function(){return this.setActionableState(),fe(this.map,!1),{}},toDisplayFeatures:function(e,t,n){n(t)}},me=Oe,ge=["baseType","buttonOptions","sx"],ye=function(e){var t=e.baseType,a=e.buttonOptions,o=(e.sx,Object(h.a)(e,ge)),i=Object(S.d)().theme,c=Object(r.useContext)(T).map,s=Object(r.useState)(null),l=Object(j.a)(s,2),d=l[0],u=l[1],x=Object(r.useState)(null),m=Object(j.a)(x,2),g=m[0],y=m[1];if(!P(c))return null;function v(e){return k.apply(this,arguments)}function k(){return(k=Object(de.a)(le.a.mark((function e(t){var r,a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=d,e.t0){e.next=5;break}return e.next=4,n.e(3).then(n.t.bind(null,354,7)).then((function(e){var t=e.default;return new t({displayControlsDefault:!1,modes:Object.assign({draw_text:xe(i),static:me},t.modes)})}));case 4:e.t0=e.sent;case 5:r=e.t0,d||(u(r),c.addControl(r)),y(a=t||"simple_select"),r.changeMode(a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){e.addEventListener("click",(function(){fe(c,!1)})),e.style.backgroundColor="rgba(0, 0, 0, 0)",e.style.borderStyle="none",e.style.fontSize="14px",e.style.textShadow="0 0 2px #FFFFFF",e.style.textStroke=".02em #FFFFFF",e.style.webkitTextStroke=".02em #FFFFFF",e.style.resize="none"}return c.on("draw.create",(function(){"draw_text"===g&&function(){for(var e=document.getElementsByClassName("cc-draw-text"),t=function(t){e[t].focus(),e[t].addEventListener("click",(function(){var n;d.changeMode("static"),(n=e[t]).style.backgroundColor="#FFFFFF",n.style.borderStyle="inset",n.focus()}))},n=0;n<e.length;n+=1)t(n);addEventListener("keyup",(function(t){13===t.keyCode&&("static"===d.getMode()&&(d.changeMode("simple_select"),fe(c,!0)),w(e[e.length-1]))})),addEventListener("dblclick",(function(){"static"===d.getMode()&&(d.changeMode("simple_select"),fe(c,!0)),w(e[e.length-1])}))}()})),Object(O.jsxs)(E,Object(b.a)(Object(b.a)({style:{zIndex:"9999999"},className:"draw-tools",baseType:t||"none",buttonOptions:Object(b.a)({icon:Object(O.jsx)(V.g,{}),title:"Draw",testId:"cl-draw-btn"},a),sx:{marginTop:"38vh",minWidth:"400px"}},o),{},{children:[Object(O.jsx)(p.r,{children:"Add markers, polygons and label positions on the map."}),Object(O.jsxs)(Q,{children:[Object(O.jsx)(p.c,{title:"Draw Point",className:"draw-tool draw-tool--point",onClick:function(){return v("draw_point")},children:Object(O.jsx)(f.c,{})}),Object(O.jsx)(p.c,{title:"Draw Line",className:"draw-tool draw-tool--line",onClick:function(){return v("draw_line_string")},children:Object(O.jsx)(f.e,{})}),Object(O.jsx)(p.c,{title:"Draw Polygon",className:"draw-tool draw-tool--polygon",onClick:function(){return v("draw_polygon")},children:Object(O.jsx)(V.b,{})}),Object(O.jsx)(p.c,{title:"Draw Text",className:"draw-tool draw-tool--text",onClick:function(){v("draw_text")},children:Object(O.jsx)(f.d,{})}),Object(O.jsx)(p.c,{title:"Delete Drawing",className:"draw-tool draw-tool--delete",onClick:function(){!function(){if(d){d.deleteAll();for(var e=document.getElementsByClassName("cl-draw-text");e.length>0;)e[0].remove()}}()},children:Object(O.jsx)(f.a,{})})]})]}))};function ve(){return window.localStorage.getItem("ccBookmarks")}function ke(e,t){return!!P(e)&&(e.easeTo({center:t.center,zoom:t.zoom}),!0)}function we(e,t,n){var r=ve();if(P(e)&&t)if(r){var a={name:t,zoom:e.getZoom(),center:e.getCenter()},o=JSON.parse(r),i=[].concat(Object(u.a)(o),[a]);window.localStorage.setItem("ccBookmarks",JSON.stringify(i)),n(i)}else{var c=[{name:t,zoom:e.getZoom(),center:e.getCenter()}];window.localStorage.setItem("ccBookmarks",JSON.stringify(c)),n(c)}}function Se(e,t){var n=JSON.parse(ve()).filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)}));window.localStorage.setItem("ccBookmarks",JSON.stringify(n)),t(n)}var Ce=["baseType","buttonOptions","sx"],Fe=function(e){var t=e.baseType,n=e.buttonOptions,a=(e.sx,Object(h.a)(e,Ce)),o={_goToBookmark:Object.hasOwnProperty.call(a,"goToBookmark")?a.goToBookmark:ke,_loadBookmarks:Object.hasOwnProperty.call(a,"loadBookmarks")?a.loadBookmarks:ve,_deleteBookmark:Object.hasOwnProperty.call(a,"deleteBookmark")?a.deleteBookmark:Se,_saveBookmark:Object.hasOwnProperty.call(a,"saveBookmark")?a.saveBookmark:we},i=o._goToBookmark,c=o._loadBookmarks,s=o._deleteBookmark,l=o._saveBookmark,d=Object(r.useContext)(T).map,u=JSON.parse(c())||[],x=Object(r.useState)(""),f=Object(j.a)(x,2),g=f[0],y=f[1],k=Object(r.useState)(u),w=Object(j.a)(k,2),S=w[0],C=w[1],F=Object(r.useState)([]),L=Object(j.a)(F,2),N=L[0],_=L[1];Object(r.useEffect)((function(){var e=S.map((function(e){return Object(O.jsx)(m,{selectable:!0,children:Object(O.jsxs)(p.h,{children:[Object(O.jsxs)(p.b,{onClick:function(){i(d,e)},sx:{flex:"1 1 auto"},children:[Object(O.jsx)(V.a,{}),e.name]}),Object(O.jsx)(p.b,{children:Object(O.jsx)(V.h,{onClick:function(){s(e,C)}})})]})},e.name)}));_(e)}),[d,S]);var P=Object(O.jsx)(p.r,{children:"Save view as bookmark"}),I=Object(O.jsxs)(p.h,{children:[Object(O.jsx)(p.m,{sx:{backgroundColor:"white",opacity:.4,color:"blue"},className:"input-book",placeholder:"Save view as bookmark",value:g,onChange:function(e){y(e.currentTarget.value)}}),Object(O.jsx)(p.c,{className:"bookmark-button",sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0,marginLeft:"-0.175rem",backgroundColor:"blue"},onClick:function(){l(d,g,C),y("")},children:"Save"})]});return Object(O.jsx)(E,Object(b.a)(Object(b.a)({className:"cl-bookmark-field",baseType:t,buttonOptions:Object(b.a)({icon:Object(O.jsx)(V.a,{}),title:"Bookmarks",testId:"bookmark-btn"},n),sx:{minWidth:"400px",marginTop:"75vh"}},a),{},{children:Object(O.jsxs)(p.b,{children:[P,I,Object(O.jsx)(v,{children:N})]})}))},Le=n.p+"static/media/ESPON-logo.235f1bc5.png",Ne=function(e){return Object(O.jsx)(E,{children:Object(O.jsxs)(p.b,{sx:{minHeight:"120vh",overflow:"auto",width:"430px",backgroundColor:"white",position:"fixed",top:0,left:0},children:[Object(O.jsx)(p.l,{src:Le,sx:{width:"200px",padding:"10px"}}),Object(O.jsx)(p.j,{sx:{padding:"14px",fontFamily:"sans-serif"},children:"ESPON Portal: Data playground"})]})})},_e=["className","sx","variant"],Ee=a.a.forwardRef((function(e,t){var n=e.className,r=e.sx,a=e.variant,o=void 0===a?"switch":a,i=Object(h.a)(e,_e);return Object(O.jsxs)(p.b,{children:[Object(O.jsx)(p.b,Object(b.a)(Object(b.a)({ref:t,as:"input",type:"checkbox",__themeKey:"forms"},i),{},{sx:{position:"absolute",opacity:0,zIndex:-1,width:1,height:1,overflow:"hidden"}})),Object(O.jsx)(p.b,Object(b.a)(Object(b.a)({css:{padding:2},__themeKey:"forms",variant:o,className:n,sx:r,__css:{position:"relative",bg:"gray",borderRadius:18,height:22,width:40,mr:2,cursor:"pointer","input:disabled ~ &":{opacity:.5,cursor:"not-allowed"},"& > div":{display:"flex",alignItems:"center",borderRadius:"50%",height:18,width:18,bg:"white",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)",position:"relative",transform:"translateX(0%)",transition:"transform 240ms cubic-bezier(0.165, 0.840, 0.440, 1.000)"},"input:checked ~ &":{bg:"primary","> div":{transform:"translateX(100%)"}}}},i),{},{children:Object(O.jsx)(p.b,{})}))]})})),Te=function(e){var t=e.type;try{switch(t){case"fill":return function(e){var t,n,r,a=e.get("fill-color").value,o=e.get("fill-outline-color").value,i=(null===(t=e.get("fill-opacity").value)||void 0===t?void 0:t.value)||1;if(a._parameters&&Object.prototype.hasOwnProperty.call(a._parameters,"stops"))n=a._parameters.stops,a._parameters.default&&(n=[].concat(Object(u.a)(n),[["",a._parameters.default]]));else if(a._styleExpression){var c=[];Object.keys(a._styleExpression.expression.cases).forEach((function(e){var t=[e,a._styleExpression.expression.outputs[+a._styleExpression.expression.cases[e]].value.toString()];c.push(t)})),a._styleExpression.expression.otherwise&&c.push(["",a._styleExpression.expression.otherwise.value.toString()]),n=c}else n=[a.value.toString()];if(o._parameters&&Object.prototype.hasOwnProperty.call(o._parameters,"stops"))r=o._parameters.stops,o._parameters.default&&(r=[].concat(Object(u.a)(n),[["",o._parameters.default]]));else if(o._styleExpression){var s=[];Object.keys(o._styleExpression.expression.cases).forEach((function(e){var t=[e,o._styleExpression.expression.outputs[+o._styleExpression.expression.cases[e]].value.toString()];s.push(t)})),o._styleExpression.expression.otherwise&&s.push(["",o._styleExpression.expression.otherwise.value.toString()]),r=s}else r=[o.value.toString()];return Object(he.a)(v,{sx:{margin:0,padding:0},children:Object(he.a)((function(){var e=(n.length>1?n.map((function(e){return[].concat(Object(u.a)(e),[r[0]])})):r.length>1?r.map((function(e){return e.splice(1,0,n[0]),e})):[[null,n[0],r[0]]]).map((function(e,t){return Object(he.b)(m,{sx:{margin:0,marginLeft:4,padding:0,display:"flex"},children:[Object(he.a)(p.b,{children:Object(he.a)("svg",{width:"25",height:"25",children:Object(he.a)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"25",height:"25",sx:{fill:e[1],stroke:e[2],strokeWidth:3,fillOpacity:i,strokeOpacity:i}})})}),Object(he.a)(p.b,{children:Object(he.a)(p.r,{sx:{padding:"3px"},children:e[0]})})]},t)}));return Object(he.a)(p.b,{children:e})}),{})})}(e.paint);case"circle":return function(e){var t,n,r,a=e.get("circle-color").value.value.toString(),o=e.get("circle-radius").value;return o._parameters&&Object.prototype.hasOwnProperty.call(o._parameters,"stops")&&"source"===o.kind?(n=6,r="center",t=o._parameters.stops,o._parameters.default&&(t=[].concat(Object(u.a)(t),[["",o._parameters.default]]))):(n=1,r="left",+(t=[o.value.toString()])[0]<8&&(t=["8"])),Object(he.a)(v,{sx:{margin:0,padding:0},children:Object(he.a)((function(){var e=(t.length>1?t.map((function(e){return Object(u.a)(e)})):[[null,t[0]]]).map((function(e,t){var o=+e[1]+.75*+e[1];return Object(he.b)(m,{sx:{margin:0,marginLeft:4,padding:0,display:"flex"},children:[Object(he.a)(p.b,{sx:{flexGrow:n,textAlign:r},children:Object(he.a)("svg",{width:o,height:o,children:Object(he.a)("circle",{cx:o/2,cy:o/2,r:o/2-.5,sx:{fill:a}})})}),Object(he.a)(p.b,{sx:{flexGrow:1,lineHeight:e[1]>=10?"".concat(1.8388*+e[1]-7.5,"px"):"15px"},children:Object(he.a)(p.r,{sx:{padding:"3px"},children:e[0]})})]},t)}));return Object(he.a)(p.b,{children:e})}),{})})}(e.paint);case"line":return function(e){var t,n=e.get("line-color").value,r=n.kind;if("source"===r||"constant"===r){if(n._parameters&&Object.prototype.hasOwnProperty.call(n._parameters,"stops"))t=n._parameters.stops,n._parameters.default&&(t=[].concat(Object(u.a)(t),[["",n._parameters.default]]));else if(n._styleExpression){var a=[];Object.keys(n._styleExpression.expression.cases).forEach((function(e){var t=[e,n._styleExpression.expression.outputs[+n._styleExpression.expression.cases[e]].value.toString()];a.push(t)})),n._styleExpression.expression.otherwise&&a.push(["",n._styleExpression.expression.otherwise.value.toString()]),t=a}else t=[n.value.toString()];return Object(he.a)(v,{sx:{margin:0,padding:0},children:Object(he.a)((function(){var e=(t.length>1?t.map((function(e){return Object(u.a)(e)})):[[null,t[0]]]).map((function(e,t){return Object(he.b)(m,{sx:{margin:0,marginLeft:4,padding:0,display:"flex",alignItems:"flex-start",justifyContent:"flex-start"},children:[Object(he.a)(p.b,{children:Object(he.a)("svg",{width:"25",height:"25",children:Object(he.a)("rect",{x:"0",y:"3.75",rx:"0",ry:"0",width:"25",height:"7.5",sx:{fill:e,strokeWidth:2}})})}),Object(he.a)(p.b,{px:1,children:Object(he.a)(p.r,{children:e[0]})})]},t)}));return Object(he.a)(p.b,{children:e})}),{})})}if("composite"!==e.get("line-color").value.kind)return!1;try{return t=e.get("line-color").value._styleExpression.expression.outputs[0].outputs[0].value.toString(),Object(he.a)(v,{sx:{margin:0,marginLeft:4,padding:0},children:Object(he.a)(m,{sx:{margin:0,marginLeft:4,padding:0},children:Object(he.a)("svg",{width:"25",height:"25",children:Object(he.a)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"25",height:"7.5",sx:{fill:t,strokeWidth:2}})})})})}catch(o){return console.error(o),!1}}(e.paint);case"symbol":return e.paint,console.log("legend cannot render symbol yet"),!1;case"heatmap":return e.paint,console.log("legend cannot render heatmap yet"),!1;case"fill-extrusion":return e.paint,console.log("legend cannot render fill-extrusion yet"),!1;case"raster":return e.paint,console.log("legend cannot render raster yet"),!1;case"hillshade":return e.paint,console.log("legend cannot render hillshade yet"),!1;case"background":return e.paint,console.log("legend cannot render background yet"),!1;default:return!1}}catch(n){return console.warn(n),!1}};function Pe(e,t,n){return!!P(e)&&(n?e.setLayoutProperty(t,"visibility","visible"):e.setLayoutProperty(t,"visibility","none"),!0)}var Ie=n(43),ze=(n(348),function(e){var t=e.layerActions;return t&&t.length>0?Object(he.b)(Ie.a,{className:"cl-layer-list-action-menu",children:[Object(he.a)(Ie.b,{sx:{color:"text",bg:"background",borderStyle:"none",fontSize:1,":hover":{cursor:"pointer"}},children:"..."}),Object(he.a)(Ie.e,{sx:{zIndex:3,fontFamily:"body"},children:Object(he.a)(Ie.d,{children:t.map((function(e){return Object(he.a)(Ie.c,{onSelect:function(){e.action()},children:e.title},e.title)}))})})]}):null}),Be=function(e){var t,n=e.layerInfo,a=e.map,o=e.legend,i=e.showActions,c=e.itemActions,s=e.checkboxStyle,l=e.baseType,d=Object(r.useState)(!1),b=Object(j.a)(d,2),u=b[0],h=b[1],x=Object(r.useState)(null),f=Object(j.a)(x,2),g=f[0],y=f[1],v=Object(r.useState)(),k=Object(j.a)(v,2),w=k[0],S=k[1],C=Object(r.useState)(!!o),F=Object(j.a)(C,2),L=F[0],N=F[1],_=n.layerIds,E=function(e){var t=e.currentTarget.checked;_.map((function(e){return t||!u?(h(!0),Pe(a,e,!0)):(h(!1),Pe(a,e,!1)),!0}))};Object(r.useEffect)((function(){switch(s){case"check":y(Object(O.jsx)(p.e,{onChange:E,checked:u}));break;case"switch":y(Object(O.jsx)(Ee,{checked:u,onChange:E}));break;case"eye":y(u?Object(O.jsx)(p.k,{onClick:E,sx:{alignItems:"baseline"},children:Object(O.jsx)(V.c,{})}):Object(O.jsx)(p.k,{onClick:E,sx:{alignItems:"baseline"},children:Object(O.jsx)(V.d,{})}));break;default:y(Object(O.jsx)(p.e,{checked:u,onChange:E}))}}),[s,u]),Object(r.useEffect)((function(){var e;if(P(a)){var t=function(){e=a.getLayoutProperty(_[0],"visibility"),h("none"!==e),o&&S(n.legendStyle?n.legendStyle():Te(a.getLayer(_[0])))};if(Object.keys(a).length>0)if(l&&"button"===l)try{t()}catch(r){r instanceof TypeError&&a.once("idle",(function(){t()}))}else a.once("idle",(function(){t()}))}}),[a,n]),t=i?Object(O.jsx)(ze,{layerActions:c}):null;var T=function(){return Object(O.jsx)(p.b,{sx:{display:L?"":"none"},children:Object(O.jsx)(m,{css:{display:o&&w?"":"none"},children:w},"".concat(n.layerName,"-legend"))})};return Object(O.jsxs)(p.b,{className:"listItem",children:[Object(O.jsx)(m,{children:Object(O.jsxs)(p.h,{children:[Object(O.jsxs)(p.n,{children:[g,Object(O.jsx)(p.r,{pt:1,sx:{fontWeight:"bold",cursor:"pointer",":hover":{textDecoration:"underline"}},onClick:function(e){o&&(e.preventDefault(),N(!L))},children:n.layerName})]}),t]})},n.layerName),o?Object(O.jsx)(T,{}):null]})},De=function(e){var t,n=e.layerInfo,a=e.map,o=e.legend,i=e.showActions,c=e.itemActions,s=e.group,l=e.callback,d=e.activeOnLoad,b=Object(r.useState)(),u=Object(j.a)(b,2),h=u[0],x=u[1],f=n.layerIds;Object(r.useEffect)((function(){P(a)&&Object.keys(a).length>0&&a.once("idle",(function(){o&&x(n.legendStyle?n.legendStyle():Te(a.getLayer(f[0])))}))}),[a,n]),t=i?Object(O.jsx)(ze,{layerActions:c}):null;var g=function(){return Object(O.jsx)(p.b,{children:Object(O.jsx)(m,{css:{display:o&&h?"":"none"},children:h},"".concat(n.layerName,"-legend"))})};return Object(O.jsxs)(p.b,{className:"listItem",children:[Object(O.jsx)(m,{children:Object(O.jsxs)(p.h,{children:[Object(O.jsxs)(p.n,{children:[Object(O.jsx)(p.p,{name:s,onChange:function(e){!function(e){var t=e.currentTarget.value.split(",");l(t)}(e)},value:n.layerIds,defaultChecked:d}),Object(O.jsx)(p.r,{pt:1,children:n.layerName})]}),t]})},n.layerName),o?Object(O.jsx)(g,{}):null]})},Re=function(e){var t=e.group,n=e.map,a=e.legend,o=e.showOnLoad,i=void 0===o||o,c=Object(r.useState)(i),s=Object(j.a)(c,2),l=s[0],d=s[1],b=t.layers.map((function(e){return e.layerIds.map((function(e){return e}))}));b=b.flat();var u=function(e){var t=b.filter((function(t){return e.includes(t)})),r=b.filter((function(t){return!e.includes(t)}));l?(t.map((function(e){return Pe(n,e,!0),!0})),r.map((function(e){return Pe(n,e,!1),!0}))):b.map((function(e){return Pe(n,e,!1),!0}))},h=t.layers.map((function(e,r){return Object(O.jsx)(De,{layerInfo:e,map:n,legend:a,itemActions:e.actions,group:t.groupName,callback:u,activeOnLoad:0===r},e.layerName)}));return Object(O.jsx)(m,{children:Object(O.jsx)(p.b,{children:Object(O.jsxs)(p.h,{sx:{flexDirection:"column"},children:[Object(O.jsxs)(p.n,{children:[Object(O.jsx)(p.e,{checked:l,onChange:function(e){e.currentTarget.checked?(d(!0),b.map((function(e){return Pe(n,e,!0),!0}))):(d(!1),b.map((function(e){return Pe(n,e,!1),!0})))}}),Object(O.jsx)(p.r,{pt:1,sx:{fontWeight:"bold"},children:t.groupName})]}),Object(O.jsx)(v,{children:h})]})})})},Me=["layers","groupLayers","legend","showActions","checkboxStyle","baseType","buttonOptions","sx"],Ae=function(e){var t=e.layers,n=e.groupLayers,a=e.legend,o=void 0!==a&&a,i=e.showActions,c=e.checkboxStyle,s=e.baseType,l=e.buttonOptions,d=e.sx,u=Object(h.a)(e,Me),j=Object(r.useContext)(T).map;if(!P(j))return null;var x,f=function(){return Object(O.jsx)(p.r,{children:"Toggle layers:"})},m=t.map((function(e){return Object(O.jsx)(Be,{layerInfo:e,map:j,legend:o,itemActions:e.actions,showActions:i,checkboxStyle:c,baseType:s},e.layerName)}));return n&&n.length>0&&(x=n.map((function(e){return Object(O.jsx)(Re,{group:e,map:j,legend:o})}))),Object(O.jsxs)(E,Object(b.a)(Object(b.a)({baseType:s,buttonOptions:Object(b.a)({icon:Object(O.jsx)(V.e,{}),title:"Layer List",testId:"cl-layerlist-btn"},l),sx:d},u),{},{children:[Object(O.jsx)(f,{}),Object(O.jsx)(v,{children:m}),Object(O.jsxs)(v,{children:[" ",x]})]}))},We=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(O.jsx)(ae,{children:Object(O.jsxs)(U,{mapOptions:ne,children:[Object(O.jsx)(Ne,{}),Object(O.jsx)(Z,{}),Object(O.jsx)(te,{}),Object(O.jsx)(ce,{}),Object(O.jsx)(ye,{}),Object(O.jsx)(Fe,{goToBookmark:ke,loadBookmarks:ve,deleteBookmark:Se,saveBookmark:we}),Object(O.jsx)(Ae,{sx:{marginTop:"60vh"},panel:!0,layers:[{layerIds:["water","water-shadow"],layerName:"Water"},{layerIds:["road-motorway-trunk"],layerName:"Motorway"}]})]})})}}]),n}(r.Component);i.a.render(Object(O.jsx)(We,{}),document.getElementById("root"))}},[[350,1,2]]]);
//# sourceMappingURL=main.7d294701.chunk.js.map